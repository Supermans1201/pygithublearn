From eb904cb1b598986e7cbedb26ff3169760a6e8a91 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 17 Sep 2015 19:19:30 +0200
Subject: [PATCH] Adds setup wizard which will be displayed on first run

Enables Crashlytics in all flavours (with user opt-in)
Adds tests for the first run wizard
---
 app/build.gradle                                   |   6 +-
 .../android/test/ui/AccountsActivityTest.java      |  50 +--
 .../test/ui/FirstRunWizardActivityTest.java        | 145 ++++++++
 app/src/main/AndroidManifest.xml                   |   2 +
 .../gnucash/android/app/GnuCashApplication.java    |   3 +-
 .../gnucash/android/db/CommoditiesDbAdapter.java   |  10 +
 .../android/ui/account/AccountFormFragment.java    |  10 +-
 .../android/ui/account/AccountsActivity.java       | 137 ++------
 .../ui/settings/AccountPreferencesFragment.java    |   2 +-
 .../android/ui/settings/SettingsActivity.java      |  19 +-
 .../android/ui/wizard/CurrencySelectFragment.java  | 107 ++++++
 .../android/ui/wizard/CurrencySelectPage.java      |  53 +++
 .../android/ui/wizard/FirstRunWizardActivity.java  | 366 +++++++++++++++++++++
 .../android/ui/wizard/FirstRunWizardModel.java     |  76 +++++
 .../org/gnucash/android/ui/wizard/WelcomePage.java |  46 +++
 .../android/ui/wizard/WelcomePageFragment.java     |  38 +++
 .../android/util/CommoditiesCursorAdapter.java     |  18 +-
 .../res/drawable-hdpi/ic_warning_black_24dp.png    | Bin 0 -> 315 bytes
 .../res/drawable-mdpi/ic_warning_black_24dp.png    | Bin 0 -> 235 bytes
 .../res/drawable-xhdpi/ic_warning_black_24dp.png   | Bin 0 -> 350 bytes
 .../res/drawable-xxhdpi/ic_warning_black_24dp.png  | Bin 0 -> 461 bytes
 .../res/drawable-xxxhdpi/ic_warning_black_24dp.png | Bin 0 -> 566 bytes
 .../main/res/layout/activity_first_run_wizard.xml  |  44 +++
 .../fragment_wizard_currency_select_page.xml       |  31 ++
 .../res/layout/fragment_wizard_welcome_page.xml    |  35 ++
 app/src/main/res/layout/list_item_commodity.xml    |  27 ++
 app/src/main/res/menu/nav_drawer_menu.xml          |   1 -
 app/src/main/res/values-de/strings.xml             |  16 +
 app/src/main/res/values-el/strings.xml             |  16 +
 app/src/main/res/values-es-rMX/strings.xml         |  16 +
 app/src/main/res/values-es/strings.xml             |  16 +
 app/src/main/res/values-fr/strings.xml             |  16 +
 app/src/main/res/values-hu/strings.xml             |  16 +
 app/src/main/res/values-it/strings.xml             |  16 +
 app/src/main/res/values-nb/strings.xml             |  16 +
 app/src/main/res/values-nl/strings.xml             |  16 +
 app/src/main/res/values-pl/strings.xml             |  16 +
 app/src/main/res/values-pt-rBR/strings.xml         |  16 +
 app/src/main/res/values-ru/strings.xml             |  16 +
 app/src/main/res/values-uk/strings.xml             |  16 +
 app/src/main/res/values-zh-rTW/strings.xml         |  16 +
 app/src/main/res/values-zh/strings.xml             |  16 +
 app/src/main/res/values/strings.xml                |  19 +-
 .../res/xml-v11/fragment_about_preferences.xml     |   2 -
 .../main/res/xml/fragment_about_preferences.xml    |   4 +-
 45 files changed, 1307 insertions(+), 184 deletions(-)
 create mode 100644 app/src/androidTest/java/org/gnucash/android/test/ui/FirstRunWizardActivityTest.java
 create mode 100644 app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectFragment.java
 create mode 100644 app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectPage.java
 create mode 100644 app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardActivity.java
 create mode 100644 app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardModel.java
 create mode 100644 app/src/main/java/org/gnucash/android/ui/wizard/WelcomePage.java
 create mode 100644 app/src/main/java/org/gnucash/android/ui/wizard/WelcomePageFragment.java
 create mode 100644 app/src/main/res/drawable-hdpi/ic_warning_black_24dp.png
 create mode 100644 app/src/main/res/drawable-mdpi/ic_warning_black_24dp.png
 create mode 100644 app/src/main/res/drawable-xhdpi/ic_warning_black_24dp.png
 create mode 100644 app/src/main/res/drawable-xxhdpi/ic_warning_black_24dp.png
 create mode 100644 app/src/main/res/drawable-xxxhdpi/ic_warning_black_24dp.png
 create mode 100644 app/src/main/res/layout/activity_first_run_wizard.xml
 create mode 100644 app/src/main/res/layout/fragment_wizard_currency_select_page.xml
 create mode 100644 app/src/main/res/layout/fragment_wizard_welcome_page.xml
 create mode 100644 app/src/main/res/layout/list_item_commodity.xml

diff --git a/app/build.gradle b/app/build.gradle
index 2e1d1c65..c7578aaf 100644
--- a/app/build.gradle
+++ b/app/build.gradle
@@ -31,7 +31,6 @@ android {
         versionName "${versionMajor}.${versionMinor}.${versionPatch}"
         resValue "string", "app_version_name", "${versionName}"
         resValue "string", "app_minor_version", "${versionMinor}"
-        buildConfigField "boolean", "USE_CRASHLYTICS", "true"
         if (project.hasProperty("RELEASE_DROPBOX_APP_KEY")){
             resValue "string", "dropbox_app_key", RELEASE_DROPBOX_APP_KEY
             resValue "string", "dropbox_app_secret", RELEASE_DROPBOX_APP_SECRET
@@ -102,7 +101,6 @@ android {
             resValue "string", "app_name", "GnuCash-devel"
             versionName "${versionMajor}.${versionMinor}.${versionPatch}-dev${versionBuild}_r${gitSha()}"
             resValue "string", "app_version_name", "${versionName}"
-            buildConfigField "boolean", "USE_CRASHLYTICS", "false"
         }
 
         beta {
@@ -113,7 +111,6 @@ android {
 
         production {
             resValue "string", "app_name", "GnuCash"
-            buildConfigField "boolean", "USE_CRASHLYTICS", "false"
             ext.enableCrashlytics = false
         }
 
@@ -177,7 +174,8 @@ dependencies {
             'com.google.android.gms:play-services-drive:7.0.0',
             'com.jakewharton:butterknife:7.0.1',
             'com.kobakei:ratethisapp:0.0.3',
-            'com.squareup:android-times-square:1.6.4@aar'
+            'com.squareup:android-times-square:1.6.4@aar',
+            'com.github.techfreak:wizardpager:1.0.0'
     )
 
     compile('com.crashlytics.sdk.android:crashlytics:2.5.0@aar') {
diff --git a/app/src/androidTest/java/org/gnucash/android/test/ui/AccountsActivityTest.java b/app/src/androidTest/java/org/gnucash/android/test/ui/AccountsActivityTest.java
index 28197be1..326cc018 100644
--- a/app/src/androidTest/java/org/gnucash/android/test/ui/AccountsActivityTest.java
+++ b/app/src/androidTest/java/org/gnucash/android/test/ui/AccountsActivityTest.java
@@ -24,7 +24,6 @@
 import android.preference.PreferenceManager;
 import android.support.test.InstrumentationRegistry;
 import android.support.test.espresso.Espresso;
-import android.support.test.espresso.contrib.RecyclerViewActions;
 import android.support.test.runner.AndroidJUnit4;
 import android.support.v4.app.Fragment;
 import android.test.ActivityInstrumentationTestCase2;
@@ -60,7 +59,6 @@
 import static android.support.test.espresso.action.ViewActions.clearText;
 import static android.support.test.espresso.action.ViewActions.click;
 import static android.support.test.espresso.action.ViewActions.closeSoftKeyboard;
-import static android.support.test.espresso.action.ViewActions.longClick;
 import static android.support.test.espresso.action.ViewActions.scrollTo;
 import static android.support.test.espresso.action.ViewActions.swipeRight;
 import static android.support.test.espresso.action.ViewActions.typeText;
@@ -69,7 +67,6 @@
 import static android.support.test.espresso.matcher.ViewMatchers.isDisplayed;
 import static android.support.test.espresso.matcher.ViewMatchers.isNotChecked;
 import static android.support.test.espresso.matcher.ViewMatchers.withId;
-import static android.support.test.espresso.matcher.ViewMatchers.withParent;
 import static android.support.test.espresso.matcher.ViewMatchers.withText;
 import static org.assertj.core.api.Assertions.assertThat;
 import static org.hamcrest.Matchers.allOf;
@@ -140,24 +137,17 @@ public static void preventFirstRunDialogs(Context context) {
         editor.commit();
     }
 
-    /*
-        public void testDisplayAccountsList(){
-            final int NUMBER_OF_ACCOUNTS = 15;
-            for (int i = 0; i < NUMBER_OF_ACCOUNTS; i++) {
-                Account account = new Account("Acct " + i);
-                mAccountsDbAdapter.addRecord(account);
-            }
-
-            //there should exist a listview of accounts
-            refreshAccountsList();
-            mSolo.waitForText("Acct");
-            mSolo.scrollToBottom();
-
-            ListView accountsListView = (ListView) mSolo.getView(android.R.id.list);
-            assertNotNull(accountsListView);
-            assertEquals(NUMBER_OF_ACCOUNTS + 1, accountsListView.getCount());
-        }
-    */
+
+    public void testDisplayAccountsList(){
+        AccountsActivity.createDefaultAccounts("EUR", mAcccountsActivity);
+        mAcccountsActivity.recreate();
+
+        refreshAccountsList();
+        onView(withText("Assets")).perform(scrollTo());
+        onView(withText("Expenses")).perform(click());
+        onView(withText("Books")).perform(scrollTo());
+    }
+
     @Test
     public void testSearchAccounts(){
         String SEARCH_ACCOUNT_NAME = "Search Account";
@@ -351,7 +341,23 @@ public void testIntentAccountCreation(){
         assertThat(account.getUID()).isEqualTo("intent-account");
         assertThat(account.getCurrency().getCurrencyCode()).isEqualTo("EUR");
 	}
-	
+
+    /**
+     * Tests that the setup wizard is displayed on first run
+     */
+    @Test
+    public void shouldShowWizardOnFirstRun(){
+        PreferenceManager.getDefaultSharedPreferences(mAcccountsActivity)
+                .edit()
+                .remove(mAcccountsActivity.getString(R.string.key_first_run))
+                .commit();
+
+        mAcccountsActivity.recreate();
+        //check that wizard is shown
+        onView(withText(mAcccountsActivity.getString(R.string.title_setup_gnucash)))
+                .check(matches(isDisplayed()));
+    }
+
 	@After
 	public void tearDown() throws Exception {
         mAcccountsActivity.finish();
diff --git a/app/src/androidTest/java/org/gnucash/android/test/ui/FirstRunWizardActivityTest.java b/app/src/androidTest/java/org/gnucash/android/test/ui/FirstRunWizardActivityTest.java
new file mode 100644
index 00000000..96de31a9
--- /dev/null
+++ b/app/src/androidTest/java/org/gnucash/android/test/ui/FirstRunWizardActivityTest.java
@@ -0,0 +1,145 @@
+/*
+ * Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.gnucash.android.test.ui;
+
+import android.database.SQLException;
+import android.database.sqlite.SQLiteDatabase;
+import android.support.test.InstrumentationRegistry;
+import android.support.test.runner.AndroidJUnit4;
+import android.test.ActivityInstrumentationTestCase2;
+import android.util.Log;
+
+import org.gnucash.android.R;
+import org.gnucash.android.app.GnuCashApplication;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.DatabaseHelper;
+import org.gnucash.android.db.SplitsDbAdapter;
+import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.ui.wizard.FirstRunWizardActivity;
+import org.junit.Before;
+import org.junit.Test;
+import org.junit.runner.RunWith;
+
+import static android.support.test.espresso.Espresso.onView;
+import static android.support.test.espresso.action.ViewActions.click;
+import static android.support.test.espresso.assertion.ViewAssertions.matches;
+import static android.support.test.espresso.matcher.ViewMatchers.isDisplayed;
+import static android.support.test.espresso.matcher.ViewMatchers.withId;
+import static android.support.test.espresso.matcher.ViewMatchers.withText;
+import static org.assertj.core.api.Assertions.assertThat;
+
+/**
+ * Tests the first run wizard
+ * @author Ngewi Fet
+ */
+@RunWith(AndroidJUnit4.class)
+public class FirstRunWizardActivityTest extends ActivityInstrumentationTestCase2<FirstRunWizardActivity>{
+
+    private DatabaseHelper mDbHelper;
+    private SQLiteDatabase mDb;
+    private AccountsDbAdapter mAccountsDbAdapter;
+    private TransactionsDbAdapter mTransactionsDbAdapter;
+    private SplitsDbAdapter mSplitsDbAdapter;
+
+    FirstRunWizardActivity mActivity;
+    public FirstRunWizardActivityTest() {
+        super(FirstRunWizardActivity.class);
+    }
+
+    @Before
+    public void setUp() throws Exception {
+        super.setUp();
+        injectInstrumentation(InstrumentationRegistry.getInstrumentation());
+
+        mActivity = getActivity();
+        mDbHelper = new DatabaseHelper(mActivity);
+        try {
+            mDb = mDbHelper.getWritableDatabase();
+        } catch (SQLException e) {
+            Log.e(getClass().getName(), "Error getting database: " + e.getMessage());
+            mDb = mDbHelper.getReadableDatabase();
+        }
+        mSplitsDbAdapter = new SplitsDbAdapter(mDb);
+        mTransactionsDbAdapter = new TransactionsDbAdapter(mDb, mSplitsDbAdapter);
+        mAccountsDbAdapter = new AccountsDbAdapter(mDb, mTransactionsDbAdapter);
+        mAccountsDbAdapter.deleteAllRecords();
+    }
+
+
+    @Test
+    public void shouldRunWizardToEnd(){
+        assertThat(mAccountsDbAdapter.getRecordsCount()).isEqualTo(0);
+
+        onView(withId(R.id.btn_save)).perform(click());
+
+        onView(withText("EUR")).perform(click());
+        onView(withText(R.string.btn_wizard_next)).perform(click());
+        onView(withText(R.string.wizard_title_account_setup)).check(matches(isDisplayed()));
+
+        onView(withText(R.string.wizard_option_create_default_accounts)).perform(click());
+
+        onView(withText(R.string.btn_wizard_next)).perform(click());
+        onView(withText(R.string.wizard_option_auto_send_crash_reports)).perform(click());
+        onView(withText(R.string.btn_wizard_next)).perform(click());
+
+        onView(withText(R.string.review)).check(matches(isDisplayed()));
+
+        onView(withId(R.id.btn_save)).perform(click());
+
+        //default accounts should be created
+        assertThat(mAccountsDbAdapter.getRecordsCount()).isGreaterThan(60);
+
+        boolean enableCrashlytics = GnuCashApplication.isCrashlyticsEnabled();
+        assertThat(enableCrashlytics).isTrue();
+
+        String defaultCurrencyCode = GnuCashApplication.getDefaultCurrencyCode();
+        assertThat(defaultCurrencyCode).isEqualTo("EUR");
+    }
+
+    @Test
+    public void shouldDisplayFullCurrencyList(){
+        assertThat(mAccountsDbAdapter.getRecordsCount()).isEqualTo(0);
+
+        onView(withId(R.id.btn_save)).perform(click());
+
+        onView(withText(R.string.wizard_option_currency_other)).perform(click());
+        onView(withText(R.string.btn_wizard_next)).perform(click());
+        onView(withText(R.string.wizard_title_select_currency)).check(matches(isDisplayed()));
+
+//        onData(allOf(is(instanceOf(String.class)), is("CHF")))
+//                .inAdapterView(withTagValue(is((Object)"currency_list_view"))).perform(click());
+        onView(withText("AFA - Afghani")).perform(click());
+        onView(withId(R.id.btn_save)).perform(click());
+
+        onView(withText(R.string.wizard_option_let_me_handle_it)).perform(click());
+
+        onView(withText(R.string.btn_wizard_next)).perform(click());
+        onView(withText(R.string.wizard_option_disable_crash_reports)).perform(click());
+        onView(withText(R.string.btn_wizard_next)).perform(click());
+
+        onView(withText(R.string.review)).check(matches(isDisplayed()));
+        onView(withId(R.id.btn_save)).perform(click());
+
+        //default accounts should not be created
+        assertThat(mAccountsDbAdapter.getRecordsCount()).isZero();
+
+        boolean enableCrashlytics = GnuCashApplication.isCrashlyticsEnabled();
+        assertThat(enableCrashlytics).isFalse();
+
+        String defaultCurrencyCode = GnuCashApplication.getDefaultCurrencyCode();
+        assertThat(defaultCurrencyCode).isEqualTo("AFA");
+    }
+}
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
index 5ffd9a02..b5a83389 100644
--- a/app/src/main/AndroidManifest.xml
+++ b/app/src/main/AndroidManifest.xml
@@ -102,6 +102,8 @@
             android:configChanges="orientation|screenSize"/>
         <activity android:name=".ui.report.ReportsActivity"
             android:launchMode="singleTop"/>
+        <activity android:name=".ui.wizard.FirstRunWizardActivity"
+            android:theme="@style/Theme.GnucashTheme" />
         <activity android:name="com.dropbox.sync.android.DbxAuthActivity" />
         <activity
             android:name="com.dropbox.client2.android.AuthActivity"
diff --git a/app/src/main/java/org/gnucash/android/app/GnuCashApplication.java b/app/src/main/java/org/gnucash/android/app/GnuCashApplication.java
index 11aa6746..6b54b4ba 100644
--- a/app/src/main/java/org/gnucash/android/app/GnuCashApplication.java
+++ b/app/src/main/java/org/gnucash/android/app/GnuCashApplication.java
@@ -98,8 +98,7 @@ public void onCreate(){
         super.onCreate();
         GnuCashApplication.context = getApplicationContext();
 
-        //TODO: in production, only start logging if user gave consent
-        if (BuildConfig.USE_CRASHLYTICS)
+        if (isCrashlyticsEnabled())
             Fabric.with(this, new Crashlytics());
 
         mDbHelper = new DatabaseHelper(getApplicationContext());
diff --git a/app/src/main/java/org/gnucash/android/db/CommoditiesDbAdapter.java b/app/src/main/java/org/gnucash/android/db/CommoditiesDbAdapter.java
index b1b442e1..6a384c3a 100644
--- a/app/src/main/java/org/gnucash/android/db/CommoditiesDbAdapter.java
+++ b/app/src/main/java/org/gnucash/android/db/CommoditiesDbAdapter.java
@@ -82,6 +82,16 @@ public Cursor fetchAllRecords() {
     }
 
     /**
+     * Fetches all commodities in the database sorted in the specified order
+     * @param orderBy SQL statement for orderBy without the ORDER_BY itself
+     * @return Cursor holding all commodity records
+     */
+    public Cursor fetchAllRecords(String orderBy) {
+        return mDb.query(mTableName, null, null, null, null, null,
+                orderBy);
+    }
+
+    /**
      * Returns the commodity associated with the ISO4217 currency code
      * @param currencyCode 3-letter currency code
      * @return Commodity associated with code or null if none is found
diff --git a/app/src/main/java/org/gnucash/android/ui/account/AccountFormFragment.java b/app/src/main/java/org/gnucash/android/ui/account/AccountFormFragment.java
index ee20d8c3..78bd6637 100644
--- a/app/src/main/java/org/gnucash/android/ui/account/AccountFormFragment.java
+++ b/app/src/main/java/org/gnucash/android/ui/account/AccountFormFragment.java
@@ -328,16 +328,12 @@ public void onClick(View view) {
 	@Override
 	public void onActivityCreated(Bundle savedInstanceState) {
 		super.onActivityCreated(savedInstanceState);
-		
-		ArrayAdapter<String> currencyArrayAdapter = new ArrayAdapter<>(
-				getActivity(), 
-				android.R.layout.simple_spinner_item, 
-				getResources().getStringArray(R.array.currency_names));
-		currencyArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
 
         Cursor cursor = CommoditiesDbAdapter.getInstance().fetchAllRecords();
         CommoditiesCursorAdapter commoditiesAdapter = new CommoditiesCursorAdapter(
-                getActivity(), cursor);
+                getActivity(), android.R.layout.simple_spinner_item);
+        commoditiesAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+
         mCurrencySpinner.setAdapter(commoditiesAdapter);
 
 
diff --git a/app/src/main/java/org/gnucash/android/ui/account/AccountsActivity.java b/app/src/main/java/org/gnucash/android/ui/account/AccountsActivity.java
index 66d80ab6..10374c75 100644
--- a/app/src/main/java/org/gnucash/android/ui/account/AccountsActivity.java
+++ b/app/src/main/java/org/gnucash/android/ui/account/AccountsActivity.java
@@ -19,6 +19,7 @@
 
 import android.app.Activity;
 import android.app.AlertDialog;
+import android.content.ActivityNotFoundException;
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
@@ -47,6 +48,7 @@
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.ArrayAdapter;
+import android.widget.Toast;
 
 import com.crashlytics.android.Crashlytics;
 import com.kobakei.ratethisapp.RateThisApp;
@@ -65,6 +67,7 @@
 import org.gnucash.android.ui.util.OnAccountClickedListener;
 import org.gnucash.android.ui.util.Refreshable;
 import org.gnucash.android.ui.util.TaskDelegate;
+import org.gnucash.android.ui.wizard.FirstRunWizardActivity;
 
 import java.io.FileNotFoundException;
 import java.io.InputStream;
@@ -137,11 +140,6 @@
      */
     private ViewPager mViewPager;
 
-	/**
-	 * Dialog which is shown to the user on first start prompting the user to create some accounts
-	 */
-	private AlertDialog mDefaultAccountsDialog;
-
 
     /**
      * Adapter for managing the sub-account and transaction fragment pages in the accounts view
@@ -329,21 +327,16 @@ private void init() {
 
         SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
         boolean firstRun = prefs.getBoolean(getString(R.string.key_first_run), true);
+
         if (firstRun){
-            showFirstRunDialog();
+            startActivity(new Intent(this, FirstRunWizardActivity.class));
+
             //default to using double entry and save the preference explicitly
             prefs.edit().putBoolean(getString(R.string.key_use_double_entry), true).apply();
         }
 
         if (hasNewFeatures()){
-            AlertDialog dialog = showWhatsNewDialog(this);
-            //TODO: remove this when we upgrade to 1.7.0. Users will already know the nav drawer then
-            dialog.setOnDismissListener(new DialogInterface.OnDismissListener() {
-                @Override
-                public void onDismiss(DialogInterface dialog) {
-                    mDrawerLayout.openDrawer(mNavigationView);
-                }
-            });
+            showWhatsNewDialog(this);
         }
         GnuCashApplication.startScheduledActionExecutionService(this);
     }
@@ -429,101 +422,6 @@ public boolean onOptionsItemSelected(MenuItem item) {
 		}
 	}
 
-	/**
-	 * Shows the user dialog to create default account structure or import existing account structure
-	 */
-	private void showFirstRunDialog() {
-		AlertDialog.Builder builder = new AlertDialog.Builder(this);
-		builder.setTitle(R.string.title_default_accounts);
-        builder.setMessage(R.string.msg_confirm_create_default_accounts_first_run);
-
-		builder.setPositiveButton(R.string.btn_create_accounts, new DialogInterface.OnClickListener() {
-            AlertDialog currencyDialog;
-            @Override
-            public void onClick(DialogInterface dialog, int which) {
-                final AlertDialog.Builder adb = new AlertDialog.Builder(AccountsActivity.this);
-                adb.setTitle(R.string.title_choose_currency);
-                ArrayAdapter<String> arrayAdapter = new ArrayAdapter<>(
-                        AccountsActivity.this,
-                        android.R.layout.select_dialog_singlechoice,
-                        getResources().getStringArray(R.array.currency_names));
-
-                final List<String> currencyCodes = Arrays.asList(
-                        getResources().getStringArray(R.array.key_currency_codes));
-                String userCurrencyCode = Currency.getInstance(Locale.getDefault()).getCurrencyCode();
-                int currencyIndex = currencyCodes.indexOf(userCurrencyCode.toUpperCase());
-
-                adb.setSingleChoiceItems(arrayAdapter, currencyIndex, new DialogInterface.OnClickListener() {
-                    @Override
-                    public void onClick(DialogInterface dialog, int which) {
-                        String currency = currencyCodes.get(which);
-                        PreferenceManager.getDefaultSharedPreferences(AccountsActivity.this)
-                                .edit()
-                                .putString(getString(R.string.key_default_currency), currency)
-                                .commit();
-
-                        createDefaultAccounts(currency, AccountsActivity.this);
-                        currencyDialog.dismiss();
-                        removeFirstRunFlag();
-                    }
-                });
-                currencyDialog = adb.create();
-                currencyDialog.show();
-            }
-        });
-		
-		builder.setNegativeButton(R.string.btn_cancel, new DialogInterface.OnClickListener() {
-
-            @Override
-            public void onClick(DialogInterface dialog, int which) {
-                mDefaultAccountsDialog.dismiss();
-            }
-        });
-
-        builder.setNeutralButton(R.string.btn_import_accounts, new DialogInterface.OnClickListener() {
-            @Override
-            public void onClick(DialogInterface dialogInterface, int i) {
-                importAccounts();
-            }
-        });
-
-		mDefaultAccountsDialog = builder.create();
-        mDefaultAccountsDialog.setOnDismissListener(new DialogInterface.OnDismissListener() {
-            @Override
-            public void onDismiss(DialogInterface dialog) {
-                removeFirstRunFlag();
-                mDrawerLayout.openDrawer(mNavigationView);
-            }
-        });
-		mDefaultAccountsDialog.show();
-
-/*
-        //TODO: For now logging is disabled only for production. In the future, consider enabling for production
-        //show dialog to get user consent for logging
-        new AlertDialog.Builder(this)
-                .setTitle(getString(R.string.title_enable_crashlytics))
-                .setMessage(getString(R.string.msg_enable_crashlytics))
-                .setPositiveButton(R.string.label_enable, new DialogInterface.OnClickListener() {
-                    @Override
-                    public void onClick(DialogInterface dialogInterface, int i) {
-                        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(AccountsActivity.this);
-                        Editor editor = sharedPreferences.edit();
-                        editor.putBoolean(getString(R.string.key_enable_crashlytics), true);
-                        editor.apply();
-                    }
-                })
-                .setNegativeButton(R.string.btn_cancel, new DialogInterface.OnClickListener() {
-                    @Override
-                    public void onClick(DialogInterface dialogInterface, int i) {
-                        SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(AccountsActivity.this);
-                        Editor editor = sharedPreferences.edit();
-                        editor.putBoolean(getString(R.string.key_enable_crashlytics), false);
-                        editor.apply();
-                    }
-                }).create().show();
-*/
-	}
-
     /**
      * Creates default accounts with the specified currency code.
      * If the currency parameter is null, then locale currency will be used if available
@@ -548,15 +446,21 @@ public void onTaskComplete() {
 
     /**
      * Starts Intent chooser for selecting a GnuCash accounts file to import.
-     * The accounts are actually imported in onActivityResult
+     * The accounts are actually imported in onActivityResult of the calling class
+     * @param activity Activity starting the request and will also handle the response
      */
-    public void importAccounts() {
+    public static void importAccounts(Activity activity) {
         Intent pickIntent = new Intent(Intent.ACTION_GET_CONTENT);
         pickIntent.setType("application/octet-stream");
         Intent chooser = Intent.createChooser(pickIntent, "Select GnuCash account file");
 
-        startActivityForResult(chooser, REQUEST_PICK_ACCOUNTS_FILE);
-
+        try {
+            activity.startActivityForResult(chooser, REQUEST_PICK_ACCOUNTS_FILE);
+        } catch (ActivityNotFoundException ex){
+            Crashlytics.log("No file manager for selecting files available");
+            Crashlytics.logException(ex);
+            Toast.makeText(activity, R.string.toast_install_file_manager, Toast.LENGTH_LONG).show();
+        }
     }
 
     /**
@@ -583,9 +487,10 @@ public void accountSelected(String accountUID) {
 	 * Removes the flag indicating that the app is being run for the first time. 
 	 * This is called every time the app is started because the next time won't be the first time
 	 */
-	private void removeFirstRunFlag(){
-		Editor editor = PreferenceManager.getDefaultSharedPreferences(this).edit();
-		editor.putBoolean(getString(R.string.key_first_run), false);
+	public static void removeFirstRunFlag(){
+        Context context = GnuCashApplication.getAppContext();
+		Editor editor = PreferenceManager.getDefaultSharedPreferences(context).edit();
+		editor.putBoolean(context.getString(R.string.key_first_run), false);
 		editor.commit();
 	}
 
diff --git a/app/src/main/java/org/gnucash/android/ui/settings/AccountPreferencesFragment.java b/app/src/main/java/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
index 05619b2e..81804ccc 100644
--- a/app/src/main/java/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
+++ b/app/src/main/java/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
@@ -84,7 +84,7 @@ public boolean onPreferenceClick(Preference preference) {
                 new AlertDialog.Builder(getActivity())
                         .setTitle(R.string.title_create_default_accounts)
                         .setMessage(R.string.msg_confirm_create_default_accounts_setting)
-                        .setIcon(android.R.drawable.ic_dialog_alert)
+                        .setIcon(R.drawable.ic_warning_black_24dp)
                         .setPositiveButton(R.string.btn_create_accounts, new DialogInterface.OnClickListener() {
                             @Override
                             public void onClick(DialogInterface dialogInterface, int i) {
diff --git a/app/src/main/java/org/gnucash/android/ui/settings/SettingsActivity.java b/app/src/main/java/org/gnucash/android/ui/settings/SettingsActivity.java
index 0dfedbc2..72f39b33 100644
--- a/app/src/main/java/org/gnucash/android/ui/settings/SettingsActivity.java
+++ b/app/src/main/java/org/gnucash/android/ui/settings/SettingsActivity.java
@@ -302,7 +302,7 @@ public boolean onPreferenceClick(Preference preference) {
         String key = preference.getKey();
 
         if (key.equals(getString(R.string.key_import_accounts))){
-            importAccounts();
+            AccountsActivity.importAccounts(this);
             return true;
         }
 
@@ -499,23 +499,6 @@ public void run() {
     }
 
     /**
-     * Starts a request to pick a file to import into GnuCash
-     */
-    public void importAccounts() {
-        Intent pickIntent = new Intent(Intent.ACTION_GET_CONTENT);
-        pickIntent.setType("application/*");
-        Intent chooser = Intent.createChooser(pickIntent, getString(R.string.title_select_gnucash_xml_file));
-
-        try {
-            startActivityForResult(chooser, AccountsActivity.REQUEST_PICK_ACCOUNTS_FILE);
-        } catch (ActivityNotFoundException ex){
-            Crashlytics.log("No file manager for selecting files available");
-            Crashlytics.logException(ex);
-            Toast.makeText(this, R.string.toast_install_file_manager, Toast.LENGTH_LONG).show();
-        }
-    }
-
-    /**
      * Opens a dialog for a user to select a backup to restore and then restores the backup
      */
     public void restoreBackup() {
diff --git a/app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectFragment.java b/app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectFragment.java
new file mode 100644
index 00000000..00cfe08f
--- /dev/null
+++ b/app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectFragment.java
@@ -0,0 +1,107 @@
+/*
+ * Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.wizard;
+
+import android.app.Activity;
+import android.os.Bundle;
+import android.support.v4.app.ListFragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ListView;
+
+import com.tech.freak.wizardpager.ui.PageFragmentCallbacks;
+
+import org.gnucash.android.R;
+import org.gnucash.android.db.CommoditiesDbAdapter;
+import org.gnucash.android.util.CommoditiesCursorAdapter;
+
+import butterknife.ButterKnife;
+
+/**
+ * Displays a list of all currencies in the database and allows selection of one
+ * <p>This fragment is intended for use with the first run wizard</p>
+ * @author Ngewi Fet <ngewif@gmail.com>
+ * @see CurrencySelectPage
+ * @see FirstRunWizardActivity
+ * @see FirstRunWizardModel
+ */
+public class CurrencySelectFragment extends ListFragment {
+
+    private CurrencySelectPage mPage;
+    private PageFragmentCallbacks mCallbacks;
+
+    private CommoditiesDbAdapter mCommoditiesDbAdapter;
+
+    String mPageKey;
+
+    public static CurrencySelectFragment newInstance(String key){
+        CurrencySelectFragment fragment = new CurrencySelectFragment();
+        fragment.mPageKey = key;
+        return fragment;
+    }
+
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        View view = inflater.inflate(R.layout.fragment_wizard_currency_select_page, container, false);
+        ButterKnife.bind(this, view);
+        return view;
+    }
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        mPage = (CurrencySelectPage) mCallbacks.onGetPage(mPageKey);
+    }
+
+    @Override
+    public void onActivityCreated(Bundle savedInstanceState) {
+        super.onActivityCreated(savedInstanceState);
+
+        CommoditiesCursorAdapter commoditiesCursorAdapter = new CommoditiesCursorAdapter(getActivity(), R.layout.list_item_commodity);
+        setListAdapter(commoditiesCursorAdapter);
+
+        getListView().setChoiceMode(ListView.CHOICE_MODE_SINGLE);
+
+        mCommoditiesDbAdapter = CommoditiesDbAdapter.getInstance();
+    }
+
+    @Override
+    public void onAttach(Activity activity) {
+        super.onAttach(activity);
+        if (!(activity instanceof PageFragmentCallbacks)) {
+            throw new ClassCastException("Activity must implement PageFragmentCallbacks");
+        }
+
+        mCallbacks = (PageFragmentCallbacks) activity;
+    }
+
+    @Override
+    public void onDetach() {
+        super.onDetach();
+        mCallbacks = null;
+    }
+
+    @Override
+    public void onListItemClick(ListView l, View v, int position, long id) {
+        super.onListItemClick(l, v, position, id);
+
+        String currencyCode = mCommoditiesDbAdapter.getCurrencyCode(mCommoditiesDbAdapter.getUID(id));
+        mPage.getData().putString(CurrencySelectPage.CURRENCY_CODE_DATA_KEY, currencyCode);
+    }
+
+}
diff --git a/app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectPage.java b/app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectPage.java
new file mode 100644
index 00000000..3687a8da
--- /dev/null
+++ b/app/src/main/java/org/gnucash/android/ui/wizard/CurrencySelectPage.java
@@ -0,0 +1,53 @@
+/*
+ * Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.wizard;
+
+import android.support.v4.app.Fragment;
+import android.text.TextUtils;
+
+import com.tech.freak.wizardpager.model.ModelCallbacks;
+import com.tech.freak.wizardpager.model.Page;
+import com.tech.freak.wizardpager.model.ReviewItem;
+
+import java.util.ArrayList;
+
+/**
+ * Page displaying all the commodities in the database
+ */
+public class CurrencySelectPage extends Page{
+
+    public static final String CURRENCY_CODE_DATA_KEY = "currency_code_data_key";
+
+    protected CurrencySelectPage(ModelCallbacks callbacks, String title) {
+        super(callbacks, title);
+    }
+
+    @Override
+    public Fragment createFragment() {
+        return CurrencySelectFragment.newInstance(getKey());
+    }
+
+    @Override
+    public void getReviewItems(ArrayList<ReviewItem> arrayList) {
+        arrayList.add(new ReviewItem(getTitle(), mData.getString(CURRENCY_CODE_DATA_KEY), getKey()));
+    }
+
+    @Override
+    public boolean isCompleted() {
+        return !TextUtils.isEmpty(mData.getString(CURRENCY_CODE_DATA_KEY));
+    }
+}
diff --git a/app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardActivity.java b/app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardActivity.java
new file mode 100644
index 00000000..3023ac79
--- /dev/null
+++ b/app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardActivity.java
@@ -0,0 +1,366 @@
+/*
+ * Copyright 2012 Roman Nurik
+ * Copyright 2012 Ngewi Fet
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.wizard;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.content.res.Resources;
+import android.graphics.drawable.ColorDrawable;
+import android.os.Bundle;
+import android.preference.PreferenceManager;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentStatePagerAdapter;
+import android.support.v4.view.ViewPager;
+import android.support.v7.app.AppCompatActivity;
+import android.support.v7.widget.AppCompatButton;
+import android.util.TypedValue;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.Button;
+import android.widget.Toast;
+
+import com.crashlytics.android.Crashlytics;
+import com.tech.freak.wizardpager.model.AbstractWizardModel;
+import com.tech.freak.wizardpager.model.ModelCallbacks;
+import com.tech.freak.wizardpager.model.Page;
+import com.tech.freak.wizardpager.model.ReviewItem;
+import com.tech.freak.wizardpager.ui.PageFragmentCallbacks;
+import com.tech.freak.wizardpager.ui.ReviewFragment;
+import com.tech.freak.wizardpager.ui.StepPagerStrip;
+
+import org.gnucash.android.R;
+import org.gnucash.android.app.GnuCashApplication;
+import org.gnucash.android.importer.ImportAsyncTask;
+import org.gnucash.android.ui.account.AccountsActivity;
+
+import java.io.FileNotFoundException;
+import java.io.InputStream;
+import java.util.ArrayList;
+import java.util.List;
+
+import butterknife.Bind;
+import butterknife.ButterKnife;
+
+/**
+ * Activity for managing the wizard displayed upon first run of the application
+ */
+public class FirstRunWizardActivity extends AppCompatActivity implements
+        PageFragmentCallbacks, ReviewFragment.Callbacks, ModelCallbacks {
+
+    @Bind(R.id.pager) ViewPager mPager;
+    private MyPagerAdapter mPagerAdapter;
+
+    private boolean mEditingAfterReview;
+
+    private AbstractWizardModel mWizardModel;
+
+    private boolean mConsumePageSelectedEvent;
+
+    @Bind(R.id.btn_save)    AppCompatButton mNextButton;
+    @Bind(R.id.btn_cancel)  Button mPrevButton;
+    @Bind(R.id.strip)       StepPagerStrip mStepPagerStrip;
+
+    private List<Page> mCurrentPageSequence;
+
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_first_run_wizard);
+        ButterKnife.bind(this);
+
+        setTitle(getString(R.string.title_setup_gnucash));
+
+        mWizardModel = new FirstRunWizardModel(this);
+        if (savedInstanceState != null) {
+            mWizardModel.load(savedInstanceState.getBundle("model"));
+        }
+
+        mWizardModel.registerListener(this);
+
+        mPagerAdapter = new MyPagerAdapter(getSupportFragmentManager());
+        mPager.setAdapter(mPagerAdapter);
+        mStepPagerStrip
+                .setOnPageSelectedListener(new StepPagerStrip.OnPageSelectedListener() {
+                    @Override
+                    public void onPageStripSelected(int position) {
+                        position = Math.min(mPagerAdapter.getCount() - 1,
+                                position);
+                        if (mPager.getCurrentItem() != position) {
+                            mPager.setCurrentItem(position);
+                        }
+                    }
+                });
+
+
+        mPager.setOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener() {
+            @Override
+            public void onPageSelected(int position) {
+                mStepPagerStrip.setCurrentPage(position);
+
+                if (mConsumePageSelectedEvent) {
+                    mConsumePageSelectedEvent = false;
+                    return;
+                }
+
+                mEditingAfterReview = false;
+                updateBottomBar();
+            }
+        });
+
+        mNextButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                if (mPager.getCurrentItem() == mCurrentPageSequence.size()) {
+                    ArrayList<ReviewItem> reviewItems = new ArrayList<>();
+                    for (Page page : mCurrentPageSequence) {
+                        page.getReviewItems(reviewItems);
+                    }
+
+                    String currencyCode = GnuCashApplication.getDefaultCurrencyCode();
+                    String accountOptions = getString(R.string.wizard_option_let_me_handle_it); //default value, do nothing
+                    String feedbackOption = getString(R.string.wizard_option_disable_crash_reports);
+                    for (ReviewItem reviewItem : reviewItems) {
+                        String title = reviewItem.getTitle();
+                        if (title.equals(getString(R.string.wizard_title_default_currency))){
+                            currencyCode = reviewItem.getDisplayValue();
+                        } else if (title.equals(getString(R.string.wizard_title_select_currency))){
+                            currencyCode = reviewItem.getDisplayValue();
+                        } else if (title.equals(getString(R.string.wizard_title_account_setup))){
+                            accountOptions = reviewItem.getDisplayValue();
+                        } else if (title.equals(getString(R.string.wizard_title_feedback_options))){
+                            feedbackOption = reviewItem.getDisplayValue();
+                        }
+                    }
+
+                    SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(FirstRunWizardActivity.this);
+                    SharedPreferences.Editor preferenceEditor = preferences.edit();
+                    preferenceEditor.putString(getString(R.string.key_default_currency), currencyCode);
+
+
+                    if (feedbackOption.equals(getString(R.string.wizard_option_auto_send_crash_reports))){
+                        preferenceEditor.putBoolean(getString(R.string.key_enable_crashlytics), true);
+                    } else {
+                        preferenceEditor.putBoolean(getString(R.string.key_enable_crashlytics), false);
+                    }
+                    preferenceEditor.apply();
+
+
+
+                    if (accountOptions.equals(getString(R.string.wizard_option_create_default_accounts))){
+                        AccountsActivity.createDefaultAccounts(currencyCode, FirstRunWizardActivity.this);
+                    } else if (accountOptions.equals(getString(R.string.wizard_option_import_my_accounts))){
+                        AccountsActivity.importAccounts(FirstRunWizardActivity.this);
+                    }
+
+                    finish();
+                    AccountsActivity.removeFirstRunFlag();
+                } else {
+                    if (mEditingAfterReview) {
+                        mPager.setCurrentItem(mPagerAdapter.getCount() - 1);
+                    } else {
+                        mPager.setCurrentItem(mPager.getCurrentItem() + 1);
+                    }
+                }
+            }
+        });
+
+        mPrevButton.setText(R.string.wizard_btn_back);
+        TypedValue v = new TypedValue();
+        getTheme().resolveAttribute(android.R.attr.textAppearanceMedium, v,
+                true);
+        mPrevButton.setTextAppearance(this, v.resourceId);
+        mNextButton.setTextAppearance(this, v.resourceId);
+
+        mPrevButton.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                mPager.setCurrentItem(mPager.getCurrentItem() - 1);
+            }
+        });
+
+        onPageTreeChanged();
+        updateBottomBar();
+    }
+
+    @Override
+    public void onPageTreeChanged() {
+        mCurrentPageSequence = mWizardModel.getCurrentPageSequence();
+        recalculateCutOffPage();
+        mStepPagerStrip.setPageCount(mCurrentPageSequence.size() + 1); // + 1 =
+        // review
+        // step
+        mPagerAdapter.notifyDataSetChanged();
+        updateBottomBar();
+    }
+
+    private void updateBottomBar() {
+        int position = mPager.getCurrentItem();
+        final Resources res = getResources();
+        if (position == mCurrentPageSequence.size()) {
+            mNextButton.setText(R.string.btn_wizard_finish);
+
+            mNextButton.setBackgroundDrawable(new ColorDrawable(res.getColor(R.color.theme_accent)));
+            mNextButton.setTextColor(res.getColor(android.R.color.white));
+        } else {
+            mNextButton.setText(mEditingAfterReview ? R.string.review
+                    : R.string.btn_wizard_next);
+            mNextButton
+                    .setBackgroundDrawable(new ColorDrawable(res.getColor(android.R.color.transparent)));
+            mNextButton.setTextColor(res.getColor(R.color.theme_accent));
+            mNextButton.setEnabled(position != mPagerAdapter.getCutOffPage());
+        }
+
+        mPrevButton
+                .setVisibility(position <= 0 ? View.INVISIBLE : View.VISIBLE);
+    }
+
+    @Override
+    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
+        switch (requestCode){
+            case AccountsActivity.REQUEST_PICK_ACCOUNTS_FILE:
+                if (resultCode == Activity.RESULT_OK && data != null) {
+                    try {
+                        InputStream accountInputStream = getContentResolver().openInputStream(data.getData());
+                        new ImportAsyncTask(this).execute(accountInputStream);
+                    } catch (FileNotFoundException e) {
+                        Crashlytics.logException(e);
+                        Toast.makeText(this, R.string.toast_error_importing_accounts, Toast.LENGTH_SHORT).show();
+                    }
+                }
+                break;
+        }
+    }
+
+    @Override
+    protected void onDestroy() {
+        super.onDestroy();
+        mWizardModel.unregisterListener(this);
+    }
+
+    @Override
+    protected void onSaveInstanceState(Bundle outState) {
+        super.onSaveInstanceState(outState);
+        outState.putBundle("model", mWizardModel.save());
+    }
+
+    @Override
+    public AbstractWizardModel onGetModel() {
+        return mWizardModel;
+    }
+
+    @Override
+    public void onEditScreenAfterReview(String key) {
+        for (int i = mCurrentPageSequence.size() - 1; i >= 0; i--) {
+            if (mCurrentPageSequence.get(i).getKey().equals(key)) {
+                mConsumePageSelectedEvent = true;
+                mEditingAfterReview = true;
+                mPager.setCurrentItem(i);
+                updateBottomBar();
+                break;
+            }
+        }
+    }
+
+    @Override
+    public void onPageDataChanged(Page page) {
+        if (page.isRequired()) {
+            if (recalculateCutOffPage()) {
+                mPagerAdapter.notifyDataSetChanged();
+                updateBottomBar();
+            }
+        }
+    }
+
+    @Override
+    public Page onGetPage(String key) {
+        return mWizardModel.findByKey(key);
+    }
+
+    private boolean recalculateCutOffPage() {
+        // Cut off the pager adapter at first required page that isn't completed
+        int cutOffPage = mCurrentPageSequence.size() + 1;
+        for (int i = 0; i < mCurrentPageSequence.size(); i++) {
+            Page page = mCurrentPageSequence.get(i);
+            if (page.isRequired() && !page.isCompleted()) {
+                cutOffPage = i;
+                break;
+            }
+        }
+
+        if (mPagerAdapter.getCutOffPage() != cutOffPage) {
+            mPagerAdapter.setCutOffPage(cutOffPage);
+            return true;
+        }
+
+        return false;
+    }
+
+    public class MyPagerAdapter extends FragmentStatePagerAdapter {
+        private int mCutOffPage;
+        private Fragment mPrimaryItem;
+
+        public MyPagerAdapter(FragmentManager fm) {
+            super(fm);
+        }
+
+        @Override
+        public Fragment getItem(int i) {
+            if (i >= mCurrentPageSequence.size()) {
+                return new ReviewFragment();
+            }
+
+            return mCurrentPageSequence.get(i).createFragment();
+        }
+
+        @Override
+        public int getItemPosition(Object object) {
+            // TODO: be smarter about this
+            if (object == mPrimaryItem) {
+                // Re-use the current fragment (its position never changes)
+                return POSITION_UNCHANGED;
+            }
+
+            return POSITION_NONE;
+        }
+
+        @Override
+        public void setPrimaryItem(ViewGroup container, int position,
+                                   Object object) {
+            super.setPrimaryItem(container, position, object);
+            mPrimaryItem = (Fragment) object;
+        }
+
+        @Override
+        public int getCount() {
+            return Math.min(mCutOffPage + 1, mCurrentPageSequence == null ? 1
+                    : mCurrentPageSequence.size() + 1);
+        }
+
+        public void setCutOffPage(int cutOffPage) {
+            if (cutOffPage < 0) {
+                cutOffPage = Integer.MAX_VALUE;
+            }
+            mCutOffPage = cutOffPage;
+        }
+
+        public int getCutOffPage() {
+            return mCutOffPage;
+        }
+    }
+}
diff --git a/app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardModel.java b/app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardModel.java
new file mode 100644
index 00000000..1e67d7cd
--- /dev/null
+++ b/app/src/main/java/org/gnucash/android/ui/wizard/FirstRunWizardModel.java
@@ -0,0 +1,76 @@
+/*
+ * Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.gnucash.android.ui.wizard;
+
+import android.content.Context;
+
+import com.tech.freak.wizardpager.model.AbstractWizardModel;
+import com.tech.freak.wizardpager.model.BranchPage;
+import com.tech.freak.wizardpager.model.Page;
+import com.tech.freak.wizardpager.model.PageList;
+import com.tech.freak.wizardpager.model.SingleFixedChoicePage;
+
+import org.gnucash.android.R;
+import org.gnucash.android.app.GnuCashApplication;
+
+import java.util.Arrays;
+import java.util.Set;
+import java.util.TreeSet;
+
+/**
+ * Wizard displayed upon first run of the application for setup
+ */
+public class FirstRunWizardModel extends AbstractWizardModel {
+
+    public FirstRunWizardModel(Context context) {
+        super(context);
+    }
+
+    @Override
+    protected PageList onNewRootPageList() {
+        String defaultCurrencyCode = GnuCashApplication.getDefaultCurrencyCode();
+        BranchPage defaultCurrencyPage = new BranchPage(this, mContext.getString(R.string.wizard_title_default_currency));
+
+        String[] currencies = new String[]{defaultCurrencyCode, "CHF", "EUR", "GBP", "USD"};
+        Set<String> currencySet = new TreeSet<>(Arrays.asList(currencies));
+
+
+        defaultCurrencyPage.setChoices(currencySet.toArray(new String[currencySet.size()]));
+        defaultCurrencyPage.setRequired(true);
+        defaultCurrencyPage.setValue(defaultCurrencyCode);
+
+        Page defaultAccountsPage = new SingleFixedChoicePage(this, mContext.getString(R.string.wizard_title_account_setup))
+                .setChoices(mContext.getString(R.string.wizard_option_create_default_accounts),
+                        mContext.getString(R.string.wizard_option_import_my_accounts),
+                        mContext.getString(R.string.wizard_option_let_me_handle_it))
+                .setValue(mContext.getString(R.string.wizard_option_create_default_accounts))
+                .setRequired(true);
+        for (String currency : currencySet) {
+            defaultCurrencyPage.addBranch(currency, defaultAccountsPage);
+        }
+
+        defaultCurrencyPage.addBranch(mContext.getString(R.string.wizard_option_currency_other),
+                new CurrencySelectPage(this, mContext.getString(R.string.wizard_title_select_currency)), defaultAccountsPage).setRequired(true);
+        return new PageList(
+                new WelcomePage(this, mContext.getString(R.string.wizard_title_welcome_to_gnucash)),
+                defaultCurrencyPage,
+                new SingleFixedChoicePage(this, mContext.getString(R.string.wizard_title_feedback_options))
+                        .setChoices(mContext.getString(R.string.wizard_option_auto_send_crash_reports),
+                                mContext.getString(R.string.wizard_option_disable_crash_reports))
+                        .setRequired(true)
+        );
+    }
+}
diff --git a/app/src/main/java/org/gnucash/android/ui/wizard/WelcomePage.java b/app/src/main/java/org/gnucash/android/ui/wizard/WelcomePage.java
new file mode 100644
index 00000000..3d5965a3
--- /dev/null
+++ b/app/src/main/java/org/gnucash/android/ui/wizard/WelcomePage.java
@@ -0,0 +1,46 @@
+/*
+ * Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.wizard;
+
+import android.support.v4.app.Fragment;
+
+import com.tech.freak.wizardpager.model.ModelCallbacks;
+import com.tech.freak.wizardpager.model.Page;
+import com.tech.freak.wizardpager.model.ReviewItem;
+
+import java.util.ArrayList;
+
+/**
+ * Welcome page for the first run wizard
+ * @author Ngewi Fet
+ */
+public class WelcomePage extends Page {
+
+    protected WelcomePage(ModelCallbacks callbacks, String title) {
+        super(callbacks, title);
+    }
+
+    @Override
+    public Fragment createFragment() {
+        return new WelcomePageFragment();
+    }
+
+    @Override
+    public void getReviewItems(ArrayList<ReviewItem> arrayList) {
+        //nothing to see here, move along
+    }
+}
diff --git a/app/src/main/java/org/gnucash/android/ui/wizard/WelcomePageFragment.java b/app/src/main/java/org/gnucash/android/ui/wizard/WelcomePageFragment.java
new file mode 100644
index 00000000..fc1323e8
--- /dev/null
+++ b/app/src/main/java/org/gnucash/android/ui/wizard/WelcomePageFragment.java
@@ -0,0 +1,38 @@
+/*
+ * Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.wizard;
+
+import android.os.Bundle;
+import android.support.annotation.Nullable;
+import android.support.v4.app.Fragment;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+import org.gnucash.android.R;
+
+/**
+ * Welcome page fragment is the first fragment that will be displayed to the user
+ */
+public class WelcomePageFragment extends Fragment {
+
+    @Nullable
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
+        return inflater.inflate(R.layout.fragment_wizard_welcome_page, container, false);
+    }
+}
diff --git a/app/src/main/java/org/gnucash/android/util/CommoditiesCursorAdapter.java b/app/src/main/java/org/gnucash/android/util/CommoditiesCursorAdapter.java
index 1d06962f..0a5e246c 100644
--- a/app/src/main/java/org/gnucash/android/util/CommoditiesCursorAdapter.java
+++ b/app/src/main/java/org/gnucash/android/util/CommoditiesCursorAdapter.java
@@ -18,37 +18,41 @@
 
 import android.content.Context;
 import android.database.Cursor;
+import android.support.annotation.LayoutRes;
 import android.support.v4.widget.SimpleCursorAdapter;
 import android.text.TextUtils;
 import android.view.ContextMenu;
 import android.view.View;
 import android.widget.TextView;
 
+import org.gnucash.android.db.CommoditiesDbAdapter;
 import org.gnucash.android.db.DatabaseSchema;
 
 import java.util.Currency;
 
 /**
- * Cursor adapter for displaying list of commodities in a spinner
+ * Cursor adapter for displaying list of commodities.
+ * <p>You should provide the layout and the layout should contain a view with the id {@code android:id/text1},
+ * which is where the name of the commodity will be displayed</p>
+ * <p>The list is sorted by the currency code (which is also displayed first before the full name)</p>
  */
 public class CommoditiesCursorAdapter extends SimpleCursorAdapter {
 
-    public CommoditiesCursorAdapter(Context context, Cursor c) {
-        super(context, android.R.layout.simple_spinner_item, c,
-                new String[] {DatabaseSchema.CommodityEntry.COLUMN_FULLNAME},
+    public CommoditiesCursorAdapter(Context context, @LayoutRes int itemLayoutResource) {
+        super(context, itemLayoutResource,
+                CommoditiesDbAdapter.getInstance().fetchAllRecords(DatabaseSchema.CommodityEntry.COLUMN_MNEMONIC + " ASC"),
+                new String[]{DatabaseSchema.CommodityEntry.COLUMN_FULLNAME},
                 new int[] {android.R.id.text1}, 0);
-        setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
     }
 
     @Override
     public void bindView(View view, Context context, Cursor cursor) {
-        super.bindView(view, context, cursor);
         TextView textView = (TextView) view.findViewById(android.R.id.text1);
         textView.setEllipsize(TextUtils.TruncateAt.MIDDLE);
 
         String currencyName = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseSchema.CommodityEntry.COLUMN_FULLNAME));
         String currencyCode = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseSchema.CommodityEntry.COLUMN_MNEMONIC));
 
-        textView.setText(currencyName + " - " + currencyCode);
+        textView.setText(currencyCode + " - " + currencyName);
     }
 }
diff --git a/app/src/main/res/drawable-hdpi/ic_warning_black_24dp.png b/app/src/main/res/drawable-hdpi/ic_warning_black_24dp.png
new file mode 100644
index 0000000000000000000000000000000000000000..4c3d9a497b648d8ae5ba166b73de93170884e187
GIT binary patch
literal 315
zcmV-B0mS}^P)<h;3K|Lk000e1NJLTq001Na001Ni1ONa4O9@aD00033Nkl<ZcmeIq
zFEGP#9Eb78ZnwMLEi4cy1QLn1NEC@gB9TTUP9zd(G~ybGL|Gva7Iw$&cJn6ecE9`H
z=YGHMpUCU!4}aV0Z=|d6!ZQ_;?IXk<iKgfxM3+gDT%cj+Bxs;f-!zC+;sIs4r$m%(
z<g`VEIv>dCojSozkWrIB3-pmupLv4ZA?$7mu#PeTDAO9As<d-QZK`-VM7bkzfQK2r
z3P+zzQ|Jm6j>IJeR*=_7ER&<mllSP6GJtIt1+)XU2|6gC4&#{4P++GRmKY#20GSO~
z#4$z-1&>4v$0mwwgNzz)D6&^-j2xqcju@JwhZ5>B3jjALv1>g1`vHDC*+NMlq{ILK
N002ovPDHLkV1ijleZ~L)

literal 0
HcmV?d00001

diff --git a/app/src/main/res/drawable-mdpi/ic_warning_black_24dp.png b/app/src/main/res/drawable-mdpi/ic_warning_black_24dp.png
new file mode 100644
index 0000000000000000000000000000000000000000..e768d1125c906ec449c7eebc97cb422fe089cafe
GIT binary patch
literal 235
zcmV<H02Kd;P)<h;3K|Lk000e1NJLTq000;O000;W1ONa4N`Cco00028Nkl<Zcmd7J
zF)l-K0LSr9nsn&YiH(t&nG3i82jBu6fD3Q{F2Dge05dZq8&jtaO`0ERn&zLE=e_^N
z=R1G>nS-C|8G7?-sM?u`Q<c_DL`<xyawE&GRoFFO4RbqsJxS4{9!JvXP=}EZSp-@1
zZsb=N(j3IOb~a60hp7#%?xb~yTP^mbqdg4+FP+1)fszv`11WQ?F!t3ud>UK1l8P=Z
lZJSjMGh4ueRCez_`UYY3#6hF@J4OHi002ovPDHLkV1lHBUG4w?

literal 0
HcmV?d00001

diff --git a/app/src/main/res/drawable-xhdpi/ic_warning_black_24dp.png b/app/src/main/res/drawable-xhdpi/ic_warning_black_24dp.png
new file mode 100644
index 0000000000000000000000000000000000000000..2ea616491ae8d597bd3adb659367adc0ea8cd79b
GIT binary patch
literal 350
zcmV-k0iphhP)<h;3K|Lk000e1NJLTq001xm001xu1ONa4{R=S+0003cNkl<ZcmeH|
zu}wlz07XwoD5$8k(^6}#aRC;<0bl_b02hD(U;!Ke27p>?Ew$5%ih_h(EnXqM2><^7
zUSYyH1Ki>khkwV3_O}_S^U4c#vN1r2KAAXYjSy?j$ifr_CuHE39SZKaAvr7b!zGEi
zN5AZlkOuG3z#9#c@qmaOl88$-D3%QuB;gVL;fw^_p#!$4NR4N7z$a={qKA&yr2<Vp
z(GfprQkpT^Gl2FSQIc!6g$A}<QHljBG$7{X;;6y{qKzL%XTT5X09gZ~Z^qFX@IyL9
z_JEjJaWu3;x<Vygx^eXF7;&@>AvNOYog5q*akK|QNS!$P17haI(H{^kKaP=pNP8%u
wT`!KlQAo!qv7<PS>5M|UKpC8qgcB#e00g5EB(D(gW&i*H07*qoM6N<$f)wYAAOHXW

literal 0
HcmV?d00001

diff --git a/app/src/main/res/drawable-xxhdpi/ic_warning_black_24dp.png b/app/src/main/res/drawable-xxhdpi/ic_warning_black_24dp.png
new file mode 100644
index 0000000000000000000000000000000000000000..ed36f700acb607d032af989d839cd9df7e58ce14
GIT binary patch
literal 461
zcmV;;0W$uHP)<h;3K|Lk000e1NJLTq002k;002k`1ONa4|Kxkj0004$Nkl<ZcmeH}
zF^<wf97bPAD5$p5PD`z|#tU!(JOFzEH~?G#4zPOxH~<^~YOS@@PAjS{HraeyY%w9o
z@XO|#`J2pp7kK5P@t@FWjQ-jo`h4dbeLBMoA*OVM*BlYz$SXR*J$m+z4)BpD^z0KK
zsLlZ;?y1aYbmEwb4ETvo{K0@~EYKO}RN^fU=!_4%p$Z%H57$)S6T0A#!u0rxF8GBW
zMY%;8Clus{-zeiRZYahIUEz{Kyyp>J;Un)T!VX>Ow#=+5;Hbo`DxiIAXDH~@KdUjV
zV|$N?duN~36H}Dx9@_(o1SRhMvl<H$WB;t?gREn_KradsbN{U7gKT5FK`#yxYyYgq
zg2d22tFfSTY>l&;;v3t*tftt<c7>ur8JGT9O*N104jJ6~XEo}m#H`xKc7}{j{j+Kw
z+sLe@n8r4pRaa1GY!ApDB=+%H^#+M?d{$jSfw5hnVnJdan^nKrvE87;uA{T+cNmye
zvzf8IMU|Z7XVq_ZY*(nFOaH8f$JQ{bhOuol8jZ#ud&K5_uT_V=00000NkvXXu0mjf
D@rT<l

literal 0
HcmV?d00001

diff --git a/app/src/main/res/drawable-xxxhdpi/ic_warning_black_24dp.png b/app/src/main/res/drawable-xxxhdpi/ic_warning_black_24dp.png
new file mode 100644
index 0000000000000000000000000000000000000000..3f4d539a41bc85969d9657e60a12528b60636c9d
GIT binary patch
literal 566
zcmeAS@N?(olHy`uVBq!ia0vp^2_VeD0wg^q?%&M7!1&kG#WAFU@$L1EzMBd~T0aU4
zacOD2-E!sD`eUpS4D1J36BuGZR2=&O#s&Y@Y`x;At;Ho&v~+=iImes{=Fk64{ym2?
zuk^EXZ))VU)X4J9P1%oR^D`FRXxng>O=C;3PQq;6f;Oe<rd)H!#=nQ9w%wI7*H~xy
z=6agO8tWO+{H#|Gsh@evtSfSvIp?^W#u9IxMC)xwSi4?GemkxuazQueycI_r^ZE_8
zzx&yo%K5D~*fCu{X8z{Dz6)+Q<PzO;dKSbcvsx!<$0(-gZ%{Vx?Q~bZ*4yE(EXFs>
zSz@Q7h0UbP&X*rfyssiA_w(h#mmf~#i}CjVsap8qgg?J;zk8jst=vz`jAMtC_iIVX
z{VY{_bn&QDaKF1ax38^Std7aoijs{Nt~@3rSZiZ)6sJm_c6Yg1f*((;x%4OyWaq((
zj87G7D*yiaSn&(Q6v>ORmwPSC?<?2;M|rWCt!)1-W*d`An^XKBE<E|DVRyiJ^6|xg
z7(numz!IzYA1t(NU&&uE`(s7VHo5-e5uZT{?`z1&Rc5#yQQoYjCO5P6(8G!CX)ZQK
yuiFnR^PlagNHOc{06N4*jybnW=kz8Z;<1-kbg5Kibxr}M2L?}9KbLh*2~7Znzwl`Q

literal 0
HcmV?d00001

diff --git a/app/src/main/res/layout/activity_first_run_wizard.xml b/app/src/main/res/layout/activity_first_run_wizard.xml
new file mode 100644
index 00000000..fbeeb66f
--- /dev/null
+++ b/app/src/main/res/layout/activity_first_run_wizard.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+  Copyright 2012 Roman Nurik
+  Copyright 2015 Ngewi Fet
+
+  Licensed under the Apache License, Version 2.0 (the "License");
+  you may not use this file except in compliance with the License.
+  You may obtain a copy of the License at
+      http://www.apache.org/licenses/LICENSE-2.0
+  Unless required by applicable law or agreed to in writing, software
+  distributed under the License is distributed on an "AS IS" BASIS,
+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+  See the License for the specific language governing permissions and
+  limitations under the License.
+-->
+
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    android:orientation="vertical" >
+
+    <com.tech.freak.wizardpager.ui.StepPagerStrip
+        android:id="@+id/strip"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_marginLeft="16dp"
+        android:layout_marginRight="16dp"
+        android:gravity="left"
+        android:paddingBottom="8dp"
+        android:paddingLeft="@dimen/list_item_padding_left"
+        android:paddingRight="@dimen/list_item_padding_right"
+        android:paddingTop="16dp" />
+
+    <android.support.v4.view.ViewPager
+        android:id="@+id/pager"
+        android:layout_width="match_parent"
+        android:layout_height="0dp"
+        android:layout_weight="1" />
+
+    <include layout="@layout/default_buttons"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"/>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/app/src/main/res/layout/fragment_wizard_currency_select_page.xml b/app/src/main/res/layout/fragment_wizard_currency_select_page.xml
new file mode 100644
index 00000000..eda92a2f
--- /dev/null
+++ b/app/src/main/res/layout/fragment_wizard_currency_select_page.xml
@@ -0,0 +1,31 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+ Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    style="@style/WizardPageContainer"
+    android:orientation="vertical">
+
+    <TextView style="@style/WizardPageTitle"
+        android:text="@string/wizard_title_select_currency"/>
+
+    <ListView xmlns:android="http://schemas.android.com/apk/res/android"
+        android:id="@android:id/list"
+        android:tag="currency_list_view"
+        android:padding="@dimen/dialog_padding"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/app/src/main/res/layout/fragment_wizard_welcome_page.xml b/app/src/main/res/layout/fragment_wizard_welcome_page.xml
new file mode 100644
index 00000000..34508f54
--- /dev/null
+++ b/app/src/main/res/layout/fragment_wizard_welcome_page.xml
@@ -0,0 +1,35 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+ Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    style="@style/WizardPageContainer"
+    android:gravity="center"
+    android:orientation="vertical">
+
+    <TextView style="@style/WizardPageTitle"
+        android:drawableLeft="@drawable/ic_launcher"
+        android:drawablePadding="10dp"
+        android:gravity="bottom"
+        android:text="@string/wizard_title_welcome_to_gnucash"/>
+
+    <TextView
+        android:layout_marginTop="@dimen/edge_padding"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:textSize="24sp"
+        android:gravity="center"
+        android:text="@string/msg_wizard_welcome_page"/>
+</LinearLayout>
\ No newline at end of file
diff --git a/app/src/main/res/layout/list_item_commodity.xml b/app/src/main/res/layout/list_item_commodity.xml
new file mode 100644
index 00000000..95b29459
--- /dev/null
+++ b/app/src/main/res/layout/list_item_commodity.xml
@@ -0,0 +1,27 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+ Copyright (c) 2015 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<CheckedTextView xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:id="@android:id/text1"
+    android:layout_height="?android:attr/listPreferredItemHeight"
+    android:layout_width="match_parent"
+    android:textAppearance="?android:attr/textAppearanceMedium"
+    android:gravity="center_vertical"
+    android:textColor="@android:color/black"
+    android:checked="false"
+    android:checkMark="?android:attr/listChoiceIndicatorSingle"
+    tools:text="USD - United States Dollars" />
\ No newline at end of file
diff --git a/app/src/main/res/menu/nav_drawer_menu.xml b/app/src/main/res/menu/nav_drawer_menu.xml
index bfb0c309..2a0e6910 100644
--- a/app/src/main/res/menu/nav_drawer_menu.xml
+++ b/app/src/main/res/menu/nav_drawer_menu.xml
@@ -15,7 +15,6 @@
  limitations under the License.
 -->
 <menu xmlns:android="http://schemas.android.com/apk/res/android">
-    <!-- TODO: add icons -->
     <item
         android:id="@+id/nav_section_accounts"
         android:title="@string/title_accounts">
diff --git a/app/src/main/res/values-de/strings.xml b/app/src/main/res/values-de/strings.xml
index 60540c6a..9dc13776 100644
--- a/app/src/main/res/values-de/strings.xml
+++ b/app/src/main/res/values-de/strings.xml
@@ -506,6 +506,22 @@ No user-identifiable information will be collected as part of this process!</str
 	<string name="nav_menu_scheduled_actions">Scheduled Actions</string>
 	<string name="label_scheduled_action_ended">"Ended, last executed on "</string>
 	<string name="label_select_bar_to_view_details">Select a bar to view details</string>
+	<string name="btn_wizard_next">Next</string>
+	<string name="btn_wizard_finish">Done</string>
+	<string name="wizard_title_default_currency">Default Currency</string>
+	<string name="wizard_title_account_setup">Account Setup</string>
+	<string name="wizard_title_select_currency">Select Currency</string>
+	<string name="wizard_title_feedback_options">Feedback Options</string>
+	<string name="wizard_option_create_default_accounts">Create default accounts</string>
+	<string name="wizard_option_import_my_accounts">Import my accounts</string>
+	<string name="wizard_option_let_me_handle_it">Let me handle it</string>
+	<string name="wizard_option_currency_other">Other...</string>
+	<string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+	<string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+	<string name="wizard_btn_back">Back</string>
+	<string name="title_setup_gnucash">Setup GnuCash</string>
+	<string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+	<string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
 	<string-array name="report_time_range">
 		<item>All time</item>
 		<item>Current month</item>
diff --git a/app/src/main/res/values-el/strings.xml b/app/src/main/res/values-el/strings.xml
index f55e86bf..602a8ef3 100644
--- a/app/src/main/res/values-el/strings.xml
+++ b/app/src/main/res/values-el/strings.xml
@@ -525,6 +525,22 @@ No user-identifiable information will be collected as part of this process!
 	<string name="nav_menu_scheduled_actions">Scheduled Actions</string>
 	<string name="label_scheduled_action_ended">"Ended, last executed on "</string>
 	<string name="label_select_bar_to_view_details">Select a bar to view details</string>
+	<string name="btn_wizard_next">Next</string>
+	<string name="btn_wizard_finish">Done</string>
+	<string name="wizard_title_default_currency">Default Currency</string>
+	<string name="wizard_title_account_setup">Account Setup</string>
+	<string name="wizard_title_select_currency">Select Currency</string>
+	<string name="wizard_title_feedback_options">Feedback Options</string>
+	<string name="wizard_option_create_default_accounts">Create default accounts</string>
+	<string name="wizard_option_import_my_accounts">Import my accounts</string>
+	<string name="wizard_option_let_me_handle_it">Let me handle it</string>
+	<string name="wizard_option_currency_other">Other...</string>
+	<string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+	<string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+	<string name="wizard_btn_back">Back</string>
+	<string name="title_setup_gnucash">Setup GnuCash</string>
+	<string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+	<string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
 	<string-array name="report_time_range">
 		<item>All time</item>
 		<item>Current month</item>
diff --git a/app/src/main/res/values-es-rMX/strings.xml b/app/src/main/res/values-es-rMX/strings.xml
index 2bc7e47c..06555f1d 100644
--- a/app/src/main/res/values-es-rMX/strings.xml
+++ b/app/src/main/res/values-es-rMX/strings.xml
@@ -510,6 +510,22 @@ No user-identifiable information will be collected as part of this process!
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-es/strings.xml b/app/src/main/res/values-es/strings.xml
index f2db7e12..9863b027 100644
--- a/app/src/main/res/values-es/strings.xml
+++ b/app/src/main/res/values-es/strings.xml
@@ -507,6 +507,22 @@ Este proceso solo recoge informaci&#243;n que no permite identificar al usuario<
 	<string name="nav_menu_scheduled_actions">Scheduled Actions</string>
 	<string name="label_scheduled_action_ended">"Ended, last executed on "</string>
 	<string name="label_select_bar_to_view_details">Select a bar to view details</string>
+	<string name="btn_wizard_next">Next</string>
+	<string name="btn_wizard_finish">Done</string>
+	<string name="wizard_title_default_currency">Default Currency</string>
+	<string name="wizard_title_account_setup">Account Setup</string>
+	<string name="wizard_title_select_currency">Select Currency</string>
+	<string name="wizard_title_feedback_options">Feedback Options</string>
+	<string name="wizard_option_create_default_accounts">Create default accounts</string>
+	<string name="wizard_option_import_my_accounts">Import my accounts</string>
+	<string name="wizard_option_let_me_handle_it">Let me handle it</string>
+	<string name="wizard_option_currency_other">Other...</string>
+	<string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+	<string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+	<string name="wizard_btn_back">Back</string>
+	<string name="title_setup_gnucash">Setup GnuCash</string>
+	<string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+	<string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
 	<string-array name="report_time_range">
 		<item>All time</item>
 		<item>Current month</item>
diff --git a/app/src/main/res/values-fr/strings.xml b/app/src/main/res/values-fr/strings.xml
index 0384b4f8..ee0189eb 100644
--- a/app/src/main/res/values-fr/strings.xml
+++ b/app/src/main/res/values-fr/strings.xml
@@ -507,6 +507,22 @@ Aucune information permettant d\'identifier l\'utilisateur ne sera recueillis da
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-hu/strings.xml b/app/src/main/res/values-hu/strings.xml
index 7b207bf8..e07bb308 100644
--- a/app/src/main/res/values-hu/strings.xml
+++ b/app/src/main/res/values-hu/strings.xml
@@ -511,6 +511,22 @@ No user-identifiable information will be collected as part of this process!
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-it/strings.xml b/app/src/main/res/values-it/strings.xml
index 0850c0dc..48f7bfac 100644
--- a/app/src/main/res/values-it/strings.xml
+++ b/app/src/main/res/values-it/strings.xml
@@ -511,6 +511,22 @@ No user-identifiable information will be collected as part of this process!
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-nb/strings.xml b/app/src/main/res/values-nb/strings.xml
index ad1f828a..67d6ee55 100644
--- a/app/src/main/res/values-nb/strings.xml
+++ b/app/src/main/res/values-nb/strings.xml
@@ -508,6 +508,22 @@ Ingen brukerinformasjon vil bli delt i denne prosessen!
 	<string name="nav_menu_scheduled_actions">Scheduled Actions</string>
 	<string name="label_scheduled_action_ended">"Ended, last executed on "</string>
 	<string name="label_select_bar_to_view_details">Select a bar to view details</string>
+	<string name="btn_wizard_next">Next</string>
+	<string name="btn_wizard_finish">Done</string>
+	<string name="wizard_title_default_currency">Default Currency</string>
+	<string name="wizard_title_account_setup">Account Setup</string>
+	<string name="wizard_title_select_currency">Select Currency</string>
+	<string name="wizard_title_feedback_options">Feedback Options</string>
+	<string name="wizard_option_create_default_accounts">Create default accounts</string>
+	<string name="wizard_option_import_my_accounts">Import my accounts</string>
+	<string name="wizard_option_let_me_handle_it">Let me handle it</string>
+	<string name="wizard_option_currency_other">Other...</string>
+	<string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+	<string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+	<string name="wizard_btn_back">Back</string>
+	<string name="title_setup_gnucash">Setup GnuCash</string>
+	<string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+	<string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
 	<string-array name="report_time_range">
 		<item>All time</item>
 		<item>Current month</item>
diff --git a/app/src/main/res/values-nl/strings.xml b/app/src/main/res/values-nl/strings.xml
index 64db9ad8..1f26202c 100644
--- a/app/src/main/res/values-nl/strings.xml
+++ b/app/src/main/res/values-nl/strings.xml
@@ -512,6 +512,22 @@ No user-identifiable information will be collected as part of this process!
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-pl/strings.xml b/app/src/main/res/values-pl/strings.xml
index 46237155..32c8880a 100644
--- a/app/src/main/res/values-pl/strings.xml
+++ b/app/src/main/res/values-pl/strings.xml
@@ -508,6 +508,22 @@
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-pt-rBR/strings.xml b/app/src/main/res/values-pt-rBR/strings.xml
index a3b52aca..17ac2916 100644
--- a/app/src/main/res/values-pt-rBR/strings.xml
+++ b/app/src/main/res/values-pt-rBR/strings.xml
@@ -510,6 +510,22 @@ Nenhuma informao de  identificao do usurio ser coletada neste proces
 	<string name="nav_menu_scheduled_actions">Scheduled Actions</string>
 	<string name="label_scheduled_action_ended">"Ended, last executed on "</string>
 	<string name="label_select_bar_to_view_details">Select a bar to view details</string>
+	<string name="btn_wizard_next">Next</string>
+	<string name="btn_wizard_finish">Done</string>
+	<string name="wizard_title_default_currency">Default Currency</string>
+	<string name="wizard_title_account_setup">Account Setup</string>
+	<string name="wizard_title_select_currency">Select Currency</string>
+	<string name="wizard_title_feedback_options">Feedback Options</string>
+	<string name="wizard_option_create_default_accounts">Create default accounts</string>
+	<string name="wizard_option_import_my_accounts">Import my accounts</string>
+	<string name="wizard_option_let_me_handle_it">Let me handle it</string>
+	<string name="wizard_option_currency_other">Other...</string>
+	<string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+	<string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+	<string name="wizard_btn_back">Back</string>
+	<string name="title_setup_gnucash">Setup GnuCash</string>
+	<string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+	<string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
 	<string-array name="report_time_range">
 		<item>All time</item>
 		<item>Current month</item>
diff --git a/app/src/main/res/values-ru/strings.xml b/app/src/main/res/values-ru/strings.xml
index 4b649b4a..1825c4bf 100644
--- a/app/src/main/res/values-ru/strings.xml
+++ b/app/src/main/res/values-ru/strings.xml
@@ -514,6 +514,22 @@
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-uk/strings.xml b/app/src/main/res/values-uk/strings.xml
index 642fa04f..48d97d5e 100644
--- a/app/src/main/res/values-uk/strings.xml
+++ b/app/src/main/res/values-uk/strings.xml
@@ -494,6 +494,22 @@
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-zh-rTW/strings.xml b/app/src/main/res/values-zh-rTW/strings.xml
index 7df38c97..de9b0d2d 100644
--- a/app/src/main/res/values-zh-rTW/strings.xml
+++ b/app/src/main/res/values-zh-rTW/strings.xml
@@ -508,6 +508,22 @@ No user-identifiable information will be collected as part of this process!
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values-zh/strings.xml b/app/src/main/res/values-zh/strings.xml
index 97080de7..5591db95 100644
--- a/app/src/main/res/values-zh/strings.xml
+++ b/app/src/main/res/values-zh/strings.xml
@@ -509,6 +509,22 @@ No user-identifiable information will be collected as part of this process!
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on "</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
index 944e32c7..c55be383 100644
--- a/app/src/main/res/values/strings.xml
+++ b/app/src/main/res/values/strings.xml
@@ -497,8 +497,7 @@
         <item quantity="other">Every %d years</item>
     </plurals>
     <string name="title_enable_crashlytics">Enable Crash Logging</string>
-    <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
-No user-identifiable information will be collected as part of this process!</string>
+    <string name="msg_enable_crashlytics">Send information about app malfunction to the developers.\nThe information collected is not used to identify or contact you!</string>
     <string name="label_export_format">Export Format</string>
     <string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
     <string name="label_old_passcode">Enter your old passcode</string>
@@ -515,6 +514,22 @@ No user-identifiable information will be collected as part of this process!</str
     <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
     <string name="label_scheduled_action_ended">"Ended, last executed on %1$s"</string>
     <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
     <string-array name="report_time_range">
         <item>All time</item>
         <item>Current month</item>
diff --git a/app/src/main/res/xml-v11/fragment_about_preferences.xml b/app/src/main/res/xml-v11/fragment_about_preferences.xml
index c0aa20d0..18b32b30 100644
--- a/app/src/main/res/xml-v11/fragment_about_preferences.xml
+++ b/app/src/main/res/xml-v11/fragment_about_preferences.xml
@@ -26,9 +26,7 @@
         <intent android:action="android.intent.action.VIEW"
         	android:data="http://www.apache.org/licenses/LICENSE-2.0.html" />
 	</Preference>
-<!-- //TODO: Enable this when we enable logging for production releases
     <CheckBoxPreference android:title="@string/title_enable_crashlytics"
         android:summary="@string/msg_enable_crashlytics"
         android:key="@string/key_enable_crashlytics" />
--->
 </PreferenceScreen>
\ No newline at end of file
diff --git a/app/src/main/res/xml/fragment_about_preferences.xml b/app/src/main/res/xml/fragment_about_preferences.xml
index 082cb082..9b4f3917 100644
--- a/app/src/main/res/xml/fragment_about_preferences.xml
+++ b/app/src/main/res/xml/fragment_about_preferences.xml
@@ -28,9 +28,9 @@
         <intent android:action="android.intent.action.VIEW"
         	android:data="http://www.apache.org/licenses/LICENSE-2.0.html" />
 	</Preference>
-<!-- //TODO: Enable this when we enable logging for production releases
+
     <CheckBoxPreference android:title="@string/title_enable_crashlytics"
         android:summary="@string/msg_enable_crashlytics"
         android:key="@string/key_enable_crashlytics" />
--->
+
 </PreferenceScreen>
\ No newline at end of file
