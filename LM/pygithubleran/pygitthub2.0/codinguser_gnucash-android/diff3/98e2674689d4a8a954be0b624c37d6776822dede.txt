From 1b31d35ab0ac98a4f690d05404a3de8db8d9d26b Mon Sep 17 00:00:00 2001
From: lxbzmy <lxbzmy@gmail.com>
Date: Thu, 18 Jul 2013 13:41:06 +0800
Subject: [PATCH 01/43] Add Chinese languages.

---
 app/res/values-zh/strings.xml | 568 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 568 insertions(+)
 create mode 100644 app/res/values-zh/strings.xml

diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
new file mode 100644
index 00000000..55a6131b
--- /dev/null
+++ b/app/res/values-zh/strings.xml
@@ -0,0 +1,568 @@
+<?xml version="1.0" encoding="utf-8" standalone="no"?>
+<!--
+ Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<resources>
+    <string name="app_name">GnuCash</string>
+    <string name="title_add_account"></string>
+    <string name="title_edit_account"></string>
+    <string name="info_details"></string>
+    <string name="title_settings"></string>
+    <string name="menu_export_ofx">OFX</string>
+    <string name="description_add_transaction_icon"></string>
+    <string name="label_no_accounts"></string>
+    <string name="label_account_name"></string>
+    <string name="btn_cancel"></string>
+    <string name="btn_save"></string>
+    <string name="label_no_transactions_to_display"></string>
+    <string name="label_transaction_name"></string>
+    <string name="label_transaction_amount"></string>
+    <string name="title_add_transaction"></string>
+    <string name="label_no_transactions"></string>
+    <string name="label_timeanddate"></string>
+    <string name="label_account"></string>
+    <string name="label_debit"></string>
+    <string name="label_credit"></string>
+    <string name="title_accounts"></string>
+    <string name="title_transactions"></string>
+    <string name="menu_delete"></string>
+    <string name="alert_dialog_ok_delete"></string>
+    <string name="alert_dialog_cancel"></string>
+    <string name="toast_account_deleted"></string>
+    <string name="title_confirm_delete"></string>
+    <string name="delete_account_confirmation_message"></string>
+    <string name="title_edit_transaction"></string>
+    <string name="label_transaction_description"></string>
+    <string name="menu_move"></string>
+    <string name="title_selected">%1$d </string>
+    <string name="label_transactions_total"></string>
+    <string name="label_export_destination"></string>
+    <string name="title_export_dialog">OFX</string>
+    <string name="option_export_all_transactions"></string>
+    <string name="hint_export_choice"></string>
+    <string name="error_exporting">OFX</string>
+    <string name="btn_export"></string>
+    <string name="option_delete_after_export"></string>
+    <string name="hint_delete_after_export"></string>
+    <string name="title_settings"></string>
+    <string-array name="export_destinations">
+        <item></item>
+        <item>SD</item>
+    </string-array>
+    <string name="btn_move"></string>
+    <string name="title_move_transactions"> %1$d </string>
+    <string name="label_move_destination"></string>
+    <string name="permission_access_sdcard"> SD Card</string>
+    <string name="title_share_ofx_with">OFX</string>
+    <string name="key_default_currency"></string>
+    <string name="toast_incompatible_currency">\n</string>
+    <string name="header_general_settings"></string>
+    <string name="header_about_gnucash"></string>
+    <string name="title_choose_currency"></string>
+    <string name="title_default_currency"></string>
+    <string name="summary_default_currency"></string>
+    <string name="label_permission_record_transactions"></string>
+    <string name="label_permission_create_accounts"></string>
+    <string name="label_permission_group">GnuCash</string>
+    <string name="description_permission_group">GnuCash</string>
+    <string name="label_permission_record_transaction"></string>
+    <string name="label_permission_create_account"></string>
+    <string name="label_display_account"></string>
+    <string name="btn_create_accounts"></string>
+    <string name="title_default_accounts"></string>
+    <string name="key_first_run"></string>
+    <string-array name="currency_names">
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item> </item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item>Kina </item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item>Lek </item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item>Mexican Unidad de Inversion (UDI)</item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item>Mvdol</item>
+        <item>Naira</item>
+        <item>Nakfa</item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item>Ngultrum</item>
+        <item></item>
+        <item></item>
+        <item> </item>
+        <item>Ouguiya</item>
+        <item>Paanga</item>
+        <item></item>
+        <item>Palladium</item>
+        <item>Pataca</item>
+        <item>Peso Convertible</item>
+        <item>Peso Uruguayo</item>
+        <item>Philippine Peso</item>
+        <item>Platinum</item>
+        <item>Pound Sterling</item>
+        <item>Pula</item>
+        <item>Qatari Rial</item>
+        <item>Quetzal</item>
+        <item>Rand</item>
+        <item>Rial Omani</item>
+        <item>Riel</item>
+        <item>Rufiyaa</item>
+        <item>Rupiah</item>
+        <item></item>
+        <item>Rwanda Franc</item>
+        <item>Saint Helena Pound</item>
+        <item>Saudi Riyal</item>
+        <item>SDR (Special Drawing Right)</item>
+        <item>Serbian Dinar</item>
+        <item>Seychelles Rupee</item>
+        <item></item>
+        <item></item>
+        <item>Solomon Islands Dollar</item>
+        <item>Som</item>
+        <item>Somali Shilling</item>
+        <item>Somoni</item>
+        <item>South Sudanese Pound</item>
+        <item>Sri Lanka Rupee</item>
+        <item>Sucre</item>
+        <item>Sudanese Pound</item>
+        <item>Surinam Dollar</item>
+        <item>Swedish Krona</item>
+        <item>Swiss Franc</item>
+        <item>Syrian Pound</item>
+        <item>Taka</item>
+        <item>Tala</item>
+        <item>Tanzanian Shilling</item>
+        <item>Tenge</item>
+        <item></item>
+        <item>Trinidad and Tobago Dollar</item>
+        <item>Tugrik</item>
+        <item>Tunisian Dinar</item>
+        <item>Turkish Lira</item>
+        <item>Turkmenistan New Manat</item>
+        <item>UAE Dirham</item>
+        <item>Uganda Shilling</item>
+        <item>UIC-Franc</item>
+        <item>Unidad de Valor Real</item>
+        <item>Unidades de fomento</item>
+        <item>Uruguay Peso en Unidades Indexadas (URUIURUI)</item>
+        <item></item>
+        <item>Uzbekistan Sum</item>
+        <item>Vatu</item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item>Yemeni Rial</item>
+        <item></item>
+        <item></item>
+        <item>Zambian Kwacha</item>
+        <item></item>
+        <item>Zloty</item>
+    </string-array>
+    <string-array name="currency_codes">
+        <item>AFN</item>
+        <item>DZD</item>
+        <item>ARS</item>
+        <item>AMD</item>
+        <item>AWG</item>
+        <item>AUD</item>
+        <item>AZN</item>
+        <item>BSD</item>
+        <item>BHD</item>
+        <item>THB</item>
+        <item>PAB</item>
+        <item>BBD</item>
+        <item>BYR</item>
+        <item>BZD</item>
+        <item>BMD</item>
+        <item>VEF</item>
+        <item>BOB</item>
+        <item>BRL</item>
+        <item>BND</item>
+        <item>BGN</item>
+        <item>BIF</item>
+        <item>CAD</item>
+        <item>CVE</item>
+        <item>KYD</item>
+        <item>XOF</item>
+        <item>XAF</item>
+        <item>XPF</item>
+        <item>CLP</item>
+        <item>XTS</item>
+        <item>COP</item>
+        <item>KMF</item>
+        <item>CDF</item>
+        <item>BAM</item>
+        <item>NIO</item>
+        <item>CRC</item>
+        <item>HRK</item>
+        <item>CUP</item>
+        <item>CZK</item>
+        <item>GMD</item>
+        <item>DKK</item>
+        <item>MKD</item>
+        <item>DJF</item>
+        <item>STD</item>
+        <item>DOP</item>
+        <item>VND</item>
+        <item>XCD</item>
+        <item>EGP</item>
+        <item>SVC</item>
+        <item>ETB</item>
+        <item>EUR</item>
+        <item>FKP</item>
+        <item>FJD</item>
+        <item>HUF</item>
+        <item>GHS</item>
+        <item>GIP</item>
+        <item>XAU</item>
+        <item>HTG</item>
+        <item>PYG</item>
+        <item>GNF</item>
+        <item>GYD</item>
+        <item>HKD</item>
+        <item>UAH</item>
+        <item>ISK</item>
+        <item>INR</item>
+        <item>IRR</item>
+        <item>IQD</item>
+        <item>JMD</item>
+        <item>JOD</item>
+        <item>KES</item>
+        <item>PGK</item>
+        <item>LAK</item>
+        <item>KWD</item>
+        <item>MWK</item>
+        <item>AOA</item>
+        <item>MMK</item>
+        <item>GEL</item>
+        <item>LVL</item>
+        <item>LBP</item>
+        <item>ALL</item>
+        <item>HNL</item>
+        <item>SLL</item>
+        <item>LRD</item>
+        <item>LYD</item>
+        <item>SZL</item>
+        <item>LTL</item>
+        <item>LSL</item>
+        <item>MGA</item>
+        <item>MYR</item>
+        <item>MUR</item>
+        <item>MXN</item>
+        <item>MXV</item>
+        <item>MDL</item>
+        <item>MAD</item>
+        <item>MZN</item>
+        <item>BOV</item>
+        <item>NGN</item>
+        <item>ERN</item>
+        <item>NAD</item>
+        <item>NPR</item>
+        <item>ANG</item>
+        <item>ILS</item>
+        <item>RON</item>
+        <item>TWD</item>
+        <item>NZD</item>
+        <item>BTN</item>
+        <item>KPW</item>
+        <item>NOK</item>
+        <item>PEN</item>
+        <item>MRO</item>
+        <item>TOP</item>
+        <item>PKR</item>
+        <item>XPD</item>
+        <item>MOP</item>
+        <item>CUC</item>
+        <item>UYU</item>
+        <item>PHP</item>
+        <item>XPT</item>
+        <item>GBP</item>
+        <item>BWP</item>
+        <item>QAR</item>
+        <item>GTQ</item>
+        <item>ZAR</item>
+        <item>OMR</item>
+        <item>KHR</item>
+        <item>MVR</item>
+        <item>IDR</item>
+        <item>RUB</item>
+        <item>RWF</item>
+        <item>SHP</item>
+        <item>SAR</item>
+        <item>XDR</item>
+        <item>RSD</item>
+        <item>SCR</item>
+        <item>XAG</item>
+        <item>SGD</item>
+        <item>SBD</item>
+        <item>KGS</item>
+        <item>SOS</item>
+        <item>TJS</item>
+        <item>SSP</item>
+        <item>LKR</item>
+        <item>XSU</item>
+        <item>SDG</item>
+        <item>SRD</item>
+        <item>SEK</item>
+        <item>CHF</item>
+        <item>SYP</item>
+        <item>BDT</item>
+        <item>WST</item>
+        <item>TZS</item>
+        <item>KZT</item>
+        <item>XXX</item>
+        <item>TTD</item>
+        <item>MNT</item>
+        <item>TND</item>
+        <item>TRY</item>
+        <item>TMT</item>
+        <item>AED</item>
+        <item>UGX</item>
+        <item>XFU</item>
+        <item>COU</item>
+        <item>CLF</item>
+        <item>UYI</item>
+        <item>USD</item>
+        <item>UZS</item>
+        <item>VUV</item>
+        <item>CHE</item>
+        <item>CHW</item>
+        <item>KRW</item>
+        <item>YER</item>
+        <item>JPY</item>
+        <item>CNY</item>
+        <item>ZMK</item>
+        <item>ZWL</item>
+        <item>PLN</item>
+    </string-array>
+    <string-array name="default_accounts">
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+    </string-array>
+    <string name="error_no_accounts">GnuCash.\n</string>
+    <string name="key_build_version"></string>
+    <string name="title_build_version"></string>
+    <string name="title_license"></string>
+    <string name="summary_licence_details">Apache License v2.0</string>
+    <string name="title_general_prefs"></string>
+    <string name="key_license"></string>
+    <string name="label_widget_configuration"></string>
+    <string name="toast_no_transactions_to_export"></string>
+    <string name="key_about">gnucash</string>
+    <string name="title_about_gnucash">GnuCash</string>
+    <string name="summary_about_gnucash">Gnucash for androidOFX GnuCash</string>
+    <string name="title_about"></string>
+    <string name="toast_error_exporting">OFX:\n</string>
+    <string name="toast_ofx_exported_to">OFX:\n</string>
+    <string name="title_export_email">GnuCash OFX </string>
+    <string name="description_export_email">GnuCash OFX Export from </string>
+    <string name="header_transaction_settings"></string>
+    <string name="title_transaction_preferences"></string>
+    <string name="title_account_preferences"></string>
+    <string name="key_default_transaction_type"></string>
+    <string name="title_default_transaction_type"></string>
+    <string name="summary_default_transaction_type"></string>
+    <string-array name="transaction_types">
+        <item></item>
+        <item></item>
+    </string-array>
+    <string-array name="key_transaction_type_values">
+        <item></item>
+        <item></item>
+    </string-array>
+    <string name="delete_all_transactions_confirmation_message"></string>
+    <string name="delete_transaction_confirmation_message"></string>
+    <string name="title_export_preference_category"></string>
+    <string name="key_export_all_transactions"></string>
+    <string name="title_export_all_transactions"></string>
+    <string name="key_delete_transactions_after_export"></string>
+    <string name="title_always_delete_exported_transactions"></string>
+    <string name="key_default_export_email">email</string>
+    <string name="title_default_export_email">email</string>
+    <string name="summary_default_export_email">OFXemail</string>
+    <string name="key_use_double_entry"></string>
+    <string name="key_xml_ofx_header">xml_ofx_header</string>
+    <string name="label_double_entry_account"></string>
+    <string name="summary_use_double_entry"></string>
+    <string name="title_use_double_entry"></string>
+    <string name="account_balance"></string>
+    <string name="toast_no_account_name_entered"></string>
+    <string name="label_account_currency"></string>
+    <string name="label_parent_account"></string>
+    <string name="title_xml_ofx_header"> XML OFX</string>
+    <string name="summary_xml_ofx_header">GnuCash</string>
+    <string name="key_previous_minor_version"></string>
+    <string name="title_whats_new"></string>
+    <string name="whats_new">
+	    <b>Version 1.2.0 - 20.06.2013</b>\n\n
+        - GnuCash\n
+        - \n
+        - \n
+        - \n
+        - \n
+        - BUG\n
+	</string>
+    <string name="label_dismiss"></string>
+    <string name="toast_transanction_amount_required"></string>
+    <string name="menu_import_accounts">GnuCash</string>
+    <string name="btn_import_accounts"></string>
+    <string name="toast_error_importing_accounts">  GnuCash </string>
+    <string name="toast_success_importing_accounts">GnuCash </string>
+    <string name="key_import_accounts">gnucash</string>
+    <string name="summary_import_accounts">GnuCash</string>
+    <string name="title_import_accounts">GnuCash</string>
+    <string name="key_delete_all_accounts"></string>
+    <string name="summary_delete_all_accounts">
+    </string>
+    <string name="title_delete_all_accounts"></string>
+    <string name="header_account_settings"></string>
+    <string name="toast_all_accounts_deleted"></string>
+    <string name="confirm_delete_all_accounts"> \n
+    </string>
+    <string name="label_account_type"></string>
+    <string name="key_delete_all_transactions"></string>
+    <string name="summary_delete_all_transactions"></string>
+    <string name="title_delete_all_transactions"></string>
+    <string name="toast_all_transactions_deleted"></string>
+    <string name="title_progress_importing_accounts"></string>
+    <string name="toast_tap_again_to_confirm_delete"></string>
+    <plurals name="label_sub_accounts">
+        <item quantity="one">%d </item>
+        <item quantity="other">%d </item>
+    </plurals>
+    <string-array name="account_type_entry_values">
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+        <item></item>
+    </string-array>
+    <string-array name="account_type_entries">
+        <item>CASH</item>
+        <item>BANK</item>
+        <item>CREDIT</item>
+        <item>ASSET</item>
+        <item>LIABILITY</item>
+        <item>INCOME</item>
+        <item>EXPENSE</item>
+        <item>PAYABLE</item>
+        <item>RECEIVABLE</item>
+        <item>EQUITY</item>
+        <item>CURRENCY</item>
+        <item>STOCK</item>
+        <item>MUTUAL</item>
+    </string-array>
+</resources>

From 1b7cb5e27bbca3ec973b9e4ab01c96e9df00cce9 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 26 Aug 2013 14:38:39 +0200
Subject: [PATCH 02/43] Removed reserved strings from Chinese translation -
 Closes #103

---
 CHANGELOG.md                  |  4 +++
 CONTRIBUTORS                  |  3 ++-
 app/res/values-zh/strings.xml | 62 ++++++++++---------------------------------
 3 files changed, 20 insertions(+), 49 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index e77fb5e7..e4771eb6 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,9 @@
 Change Log
 ===============================================================================
+Version 1.2.x *(2013-06-23)*
+----------------------------
+* Added Chinese language translation
+
 Version 1.2.2 *(2013-06-23)*
 ----------------------------
 * Fixed: bug with importing accounts
diff --git a/CONTRIBUTORS b/CONTRIBUTORS
index e86966c9..2f0bf20f 100644
--- a/CONTRIBUTORS
+++ b/CONTRIBUTORS
@@ -15,4 +15,5 @@ Geert Janssens <janssens-geert@telenet.be>
 Nicolas Barranger <wicowyn@gmail.com>
 Sigurd Gartmann <sigurdga-github@sigurdga.no>
 Pedro Abel <pedroabel@gmail.com>
-windwarrior <lennartbuit@gmail.com>
\ No newline at end of file
+windwarrior <lennartbuit@gmail.com>
+lxbzmy <lxbzmy@gmail.com>
\ No newline at end of file
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 55a6131b..1b41e1fc 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -1,18 +1,18 @@
 <?xml version="1.0" encoding="utf-8" standalone="no"?>
-<!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
-
- Licensed under the Apache License, Version 2.0 (the "License");
- you may not use this file except in compliance with the License.
- You may obtain a copy of the License at
-
-    http://www.apache.org/licenses/LICENSE-2.0
-
- Unless required by applicable law or agreed to in writing, software
- distributed under the License is distributed on an "AS IS" BASIS,
- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- See the License for the specific language governing permissions and
- limitations under the License.
+<!--
+ Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
 -->
 <resources>
     <string name="app_name">GnuCash</string>
@@ -66,7 +66,6 @@
     <string name="label_move_destination"></string>
     <string name="permission_access_sdcard"> SD Card</string>
     <string name="title_share_ofx_with">OFX</string>
-    <string name="key_default_currency"></string>
     <string name="toast_incompatible_currency">\n</string>
     <string name="header_general_settings"></string>
     <string name="header_about_gnucash"></string>
@@ -82,7 +81,6 @@
     <string name="label_display_account"></string>
     <string name="btn_create_accounts"></string>
     <string name="title_default_accounts"></string>
-    <string name="key_first_run"></string>
     <string-array name="currency_names">
         <item></item>
         <item></item>
@@ -445,15 +443,12 @@
         <item></item>
     </string-array>
     <string name="error_no_accounts">GnuCash.\n</string>
-    <string name="key_build_version"></string>
     <string name="title_build_version"></string>
     <string name="title_license"></string>
     <string name="summary_licence_details">Apache License v2.0</string>
     <string name="title_general_prefs"></string>
-    <string name="key_license"></string>
     <string name="label_widget_configuration"></string>
     <string name="toast_no_transactions_to_export"></string>
-    <string name="key_about">gnucash</string>
     <string name="title_about_gnucash">GnuCash</string>
     <string name="summary_about_gnucash">Gnucash for androidOFX GnuCash</string>
     <string name="title_about"></string>
@@ -464,29 +459,19 @@
     <string name="header_transaction_settings"></string>
     <string name="title_transaction_preferences"></string>
     <string name="title_account_preferences"></string>
-    <string name="key_default_transaction_type"></string>
     <string name="title_default_transaction_type"></string>
     <string name="summary_default_transaction_type"></string>
     <string-array name="transaction_types">
         <item></item>
         <item></item>
     </string-array>
-    <string-array name="key_transaction_type_values">
-        <item></item>
-        <item></item>
-    </string-array>
     <string name="delete_all_transactions_confirmation_message"></string>
     <string name="delete_transaction_confirmation_message"></string>
     <string name="title_export_preference_category"></string>
-    <string name="key_export_all_transactions"></string>
     <string name="title_export_all_transactions"></string>
-    <string name="key_delete_transactions_after_export"></string>
     <string name="title_always_delete_exported_transactions"></string>
-    <string name="key_default_export_email">email</string>
     <string name="title_default_export_email">email</string>
     <string name="summary_default_export_email">OFXemail</string>
-    <string name="key_use_double_entry"></string>
-    <string name="key_xml_ofx_header">xml_ofx_header</string>
     <string name="label_double_entry_account"></string>
     <string name="summary_use_double_entry"></string>
     <string name="title_use_double_entry"></string>
@@ -496,7 +481,6 @@
     <string name="label_parent_account"></string>
     <string name="title_xml_ofx_header"> XML OFX</string>
     <string name="summary_xml_ofx_header">GnuCash</string>
-    <string name="key_previous_minor_version"></string>
     <string name="title_whats_new"></string>
     <string name="whats_new">
 	    <b>Version 1.2.0 - 20.06.2013</b>\n\n
@@ -513,10 +497,8 @@
     <string name="btn_import_accounts"></string>
     <string name="toast_error_importing_accounts">  GnuCash </string>
     <string name="toast_success_importing_accounts">GnuCash </string>
-    <string name="key_import_accounts">gnucash</string>
     <string name="summary_import_accounts">GnuCash</string>
     <string name="title_import_accounts">GnuCash</string>
-    <string name="key_delete_all_accounts"></string>
     <string name="summary_delete_all_accounts">
     </string>
     <string name="title_delete_all_accounts"></string>
@@ -525,7 +507,6 @@
     <string name="confirm_delete_all_accounts"> \n
     </string>
     <string name="label_account_type"></string>
-    <string name="key_delete_all_transactions"></string>
     <string name="summary_delete_all_transactions"></string>
     <string name="title_delete_all_transactions"></string>
     <string name="toast_all_transactions_deleted"></string>
@@ -550,19 +531,4 @@
         <item></item>
         <item></item>
     </string-array>
-    <string-array name="account_type_entries">
-        <item>CASH</item>
-        <item>BANK</item>
-        <item>CREDIT</item>
-        <item>ASSET</item>
-        <item>LIABILITY</item>
-        <item>INCOME</item>
-        <item>EXPENSE</item>
-        <item>PAYABLE</item>
-        <item>RECEIVABLE</item>
-        <item>EQUITY</item>
-        <item>CURRENCY</item>
-        <item>STOCK</item>
-        <item>MUTUAL</item>
-    </string-array>
 </resources>

From 9adaf901408e18a1390447bcab211b1a55989bf4 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 26 Aug 2013 16:10:22 +0200
Subject: [PATCH 03/43] - Fixed: Transfer account not preselected when editing
 accounts (fixes #114) - Fixed: Wrong version displayed in What's new dialog -
 Fixed: Removed duplicate strings (closes #102) - Updated maven android plugin
 (closes #101) version and project version

---
 app/pom.xml                                                 |  2 +-
 app/res/values-de/strings.xml                               |  2 --
 app/res/values-el/strings.xml                               |  2 --
 app/res/values-es-rMX/strings.xml                           |  1 -
 app/res/values-es/strings.xml                               |  2 --
 app/res/values-fr/strings.xml                               |  2 --
 app/res/values-hu/strings.xml                               |  2 --
 app/res/values-it/strings.xml                               |  2 --
 app/res/values-nb/strings.xml                               |  2 --
 app/res/values-nl/strings.xml                               |  2 --
 app/res/values-pt-rBR/strings.xml                           |  2 --
 app/res/values-ru/strings.xml                               |  2 --
 app/res/values-zh/strings.xml                               |  2 --
 app/res/values/strings.xml                                  |  4 +---
 app/src/org/gnucash/android/data/Transaction.java           |  2 +-
 .../org/gnucash/android/ui/accounts/AccountsActivity.java   | 13 +++++++++++--
 .../android/ui/transactions/NewTransactionFragment.java     |  9 ++++++++-
 integration-tests/pom.xml                                   |  2 +-
 pom.xml                                                     |  4 ++--
 19 files changed, 25 insertions(+), 34 deletions(-)

diff --git a/app/pom.xml b/app/pom.xml
index 147aba0b..e4298048 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -22,7 +22,7 @@
     <description>Gnucash Android companion application</description>
 
     <parent>
-        <version>1.2.2</version>
+        <version>1.2.3-SNAPSHOT</version>
         <groupId>org.gnucash.android</groupId>
         <artifactId>gnucash-android-parent</artifactId>
     </parent>
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index e6733bd3..e4383327 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -20,7 +20,6 @@
     <string name="title_add_account">Neues Konto</string>
     <string name="title_edit_account">Konto bearbeiten</string>
     <string name="info_details">Info</string>
-    <string name="title_settings">Einstellungen</string>
     <string name="menu_export_ofx">OFX-Datei exportieren</string>
     <string name="description_add_transaction_icon">Neue Buchung in ein Konto</string>
     <string name="label_no_accounts">Keine Konten vorhanden</string>
@@ -308,7 +307,6 @@
 	<string name="summary_xml_ofx_header">Dieses Option aktivieren wenn Sie die OFX Dateien fr ein anderes Programm als GnuCash auf dem Desktop exportieren</string>
 	<string name="title_whats_new">Neuigkeiten in dieser Version</string>
 	<string name="whats_new">
-        <b>Version 1.2.0 - 20.06.2013</b>\n\n
         - Import GnuCash desktop account structure\n
         - Nested display of account hierarchy\n
         - Options for deleting all accounts/transactions\n
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index b7d1f48c..0a2dd7b7 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -21,7 +21,6 @@
     <string name="title_add_account"> </string>
     <string name="title_edit_account"> </string>
     <string name="info_details"></string>
-    <string name="title_settings"></string>
     <string name="menu_export_ofx"> OFX</string>
     <string name="description_add_transaction_icon">      </string>
     <string name="label_no_accounts">    </string>
@@ -315,7 +314,6 @@
 	<string name="summary_xml_ofx_header">        ,   GnuCash   .</string>
 	<string name="title_whats_new">  </string>
 	<string name="whats_new">
-        <b> 1.2.0 - 20.06.2013</b>\n\n
         - Import GnuCash desktop account structure\n
         - Nested display of account hierarchy\n
         - Options for deleting all accounts/transactions\n
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 31d92ed2..eca2e8c8 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -307,7 +307,6 @@
 	<string name="summary_xml_ofx_header">Active esta opci&#243;n para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
 	<string name="title_whats_new">&#191;Qu&#233; hay nuevo?</string>
 	<string name="whats_new">
-        <b>Versi&#243;n 1.2.0 - 20.06.2013</b>\n\n
         - Importaci&#243;n de estructura de cuentas de GnuCash para escritorio\n
         - Visualizaci\'on de cuentas jer&#225;rquicas\n
         - Opciones para eliminaci&#243;n de todas las cuentas/transacciones\n
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 4aab1006..ada1195a 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -21,7 +21,6 @@
     <string name="title_add_account">Crear Cuenta</string>
     <string name="title_edit_account">Editar Cuenta</string>
     <string name="info_details">Info</string>
-    <string name="title_settings">Ajustes</string>
     <string name="menu_export_ofx">Exportar OFX</string>
     <string name="description_add_transaction_icon">A&#241;adir una nueva transacci&#243;n a una cuenta</string>
     <string name="label_no_accounts">No hay cuentas que mostrar</string>
@@ -308,7 +307,6 @@
 	<string name="summary_xml_ofx_header">Active esta opci&#243;n para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
 	<string name="title_whats_new">Novedades</string>
 	<string name="whats_new">
-        <b>Versi&#243;n 1.2.0 - 20.06.2013</b>\n\n
         - Importa estructuras de cuentas de GnuCash para escritorio\n
         - Muestra jerarqu&#237;a de cuentas anidada\n
         - Opciones para eliminar todas las cuentas y transacciones\n
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index bd37ecfc..72750604 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -21,7 +21,6 @@
     <string name="title_add_account">Cr&#233;er un compte</string>
     <string name="title_edit_account">Editer le compte</string>
     <string name="info_details">Informations</string>
-    <string name="title_settings">Param&#232;tres</string>
     <string name="menu_export_ofx">Exporter en OFX</string>
     <string name="description_add_transaction_icon">Ajouter une nouvelle transaction &#224; un compte</string>
     <string name="label_no_accounts">Aucun compte &#224; afficher</string>
@@ -308,7 +307,6 @@
 	<string name="summary_xml_ofx_header">Activez cette option lors d\'un export vers une application tierce autre que GnuCash pour PC</string>
 	<string name="title_whats_new">Quoi de nouveau</string>
 	<string name="whats_new">
-        <b>Version 1.2.0 - 20.06.2013</b>\n\n
         - Import de l\'organisation des comptes GnuCash pour PC\n
         - Affichage imbriqu&#233; de la hi&#233;rarchie de compte\n
         - Options permettant d\'effacer tous les comptes/transactions\n
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index bb0cc986..e8c0ea15 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -20,7 +20,6 @@
     <string name="title_add_account">Create Account</string>
     <string name="title_edit_account">Edit Account</string>
     <string name="info_details">Info</string>
-    <string name="title_settings">Settings</string>
     <string name="menu_export_ofx">Export OFX</string>
     <string name="description_add_transaction_icon">Add a new transaction to an account</string>
     <string name="label_no_accounts">No accounts to display</string>
@@ -307,7 +306,6 @@
 	<string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
 	<string name="title_whats_new">What\'s New</string>
 	<string name="whats_new">
-        <b>Version 1.2.0 - 20.06.2013</b>\n\n
         - Import GnuCash desktop account structure\n
         - Nested display of account hierarchy\n
         - Options for deleting all accounts/transactions\n
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index bdc72ffb..5ff10ff8 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -21,7 +21,6 @@
     <string name="title_add_account">Crea conto</string>
     <string name="title_edit_account">Modifica conto</string>
     <string name="info_details">Informazioni</string>
-    <string name="title_settings">Impostazioni</string>
     <string name="menu_export_ofx">Esporta OFX</string>
     <string name="description_add_transaction_icon">Aggiungi una nuova transazione al conto</string>
     <string name="label_no_accounts">Nessun conto da visualizzare</string>
@@ -308,7 +307,6 @@
 	<string name="summary_xml_ofx_header">Abilitare questa opzione quando si esporta verso un\'applicazione diversa da GnuCash versione desktop</string>
 	<string name="title_whats_new">Novit</string>
 	<string name="whats_new">
-        <b>Versione 1.2.0 - 20.06.2013</b>\n\n
         - Importazione struttura dei conti da GnuCash desktop\n
         - Visualizzazione ad albero della struttura dei conti\n
         - Opzione per eliminare tutti i conti e le transazioni\n
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 10d42997..2f4efc7e 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -22,7 +22,6 @@
     <string name="title_add_account">Opprett konto</string>
     <string name="title_edit_account">Rediger konto</string>
     <string name="info_details">Informasjon</string>
-    <string name="title_settings">Innstillinger</string>
     <string name="menu_export_ofx">Eksport OFX</string>
     <string name="description_add_transaction_icon">Legg til ny kontotransaksjon</string>
     <string name="label_no_accounts">Ingen kontoer  vise</string>
@@ -311,7 +310,6 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
 	<string name="summary_xml_ofx_header">Velg denne hvis du skal eksportere til annen programvare enn GnuCash for PC.</string>
 	<string name="title_whats_new">Hva er nytt</string>
 	<string name="whats_new">
-	    <b>Versjon 1.2.0 - 20.06.2013</b>\n\n
         - Importering av GnuCash (PC) konto struktur\n
         - Nestet visning av konto hierarki\n
         - Valg for sletting av alle transaksjoner/kontoer\n
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 5fab60b3..1980b246 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -21,7 +21,6 @@
     <string name="title_add_account">Nieuw dagboek</string>
     <string name="title_edit_account">Dagboek bewerken</string>
     <string name="info_details">Info</string>
-    <string name="title_settings">Instellingen</string>
     <string name="menu_export_ofx">OFX exporteren</string>
     <string name="description_add_transaction_icon">Nieuwe transactie in een dagboek</string>
     <string name="label_no_accounts">Geen dagboeken beschikbaar</string>
@@ -308,7 +307,6 @@
 	<string name="summary_xml_ofx_header">Schakel deze optie in als u naar een applicatie anders dan GnuCash wil exporteren</string>
 	<string name="title_whats_new">Nieuw sinds de vorige versie</string>
 	<string name="whats_new">
-	    <b>Versie 1.2.0 - 20.06.2013</b>\n\n
         - Import GnuCash desktop account structure\n
         - Nested display of account hierarchy\n
         - Options for deleting all accounts/transactions\n
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 0ef9147e..228f9409 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -20,7 +20,6 @@
 	  <string name="title_add_account">Criar Conta</string>
 	  <string name="title_edit_account">Editar Conta</string>
 	  <string name="info_details">Info</string>
-	  <string name="title_settings">Configuraes</string>
 	  <string name="menu_export_ofx">Exportar OFX</string>
 	  <string name="description_add_transaction_icon">Adicionar nova transao para uma conta</string>
 	  <string name="label_no_accounts">Sem contas para apresentar</string>
@@ -307,7 +306,6 @@
 	  <string name="summary_xml_ofx_header">Habilitar essa opo quando estiver exportando para um software terceiro, diferente do GnuCash para desktop</string>
 	  <string name="title_whats_new">O que h de novo</string>
 	  <string name="whats_new">
-	    <b>Version 1.2.0 - 20.06.2013</b>\n\n
           - Importao da estrutura de contas do GnuCash para desktop\n
           - Apresentao de contas alinhadas hierarquicamente\n
           - Opes para deletar todas as contas/transaes\n
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 2542f302..47d5d4c9 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -21,7 +21,6 @@
     <string name="title_add_account"> </string>
     <string name="title_edit_account"> </string>
     <string name="info_details"></string>
-    <string name="title_settings"></string>
     <string name="menu_export_ofx"> OFX</string>
     <string name="description_add_transaction_icon">    </string>
     <string name="label_no_accounts"> </string>
@@ -308,7 +307,6 @@
 	<string name="summary_xml_ofx_header">  ,       GnuCash  </string>
 	<string name="title_whats_new"></string>
 	<string name="whats_new">
-	    <b> 1.2.0 - 20.06.2013</b>\n\n
         -     GnuCash  \n
         -  \n
         -    /\n
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 1b41e1fc..797c2f01 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -19,7 +19,6 @@
     <string name="title_add_account"></string>
     <string name="title_edit_account"></string>
     <string name="info_details"></string>
-    <string name="title_settings"></string>
     <string name="menu_export_ofx">OFX</string>
     <string name="description_add_transaction_icon"></string>
     <string name="label_no_accounts"></string>
@@ -483,7 +482,6 @@
     <string name="summary_xml_ofx_header">GnuCash</string>
     <string name="title_whats_new"></string>
     <string name="whats_new">
-	    <b>Version 1.2.0 - 20.06.2013</b>\n\n
         - GnuCash\n
         - \n
         - \n
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index cde8e697..6e4c0aab 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -20,7 +20,6 @@
     <string name="title_add_account">Create Account</string>
     <string name="title_edit_account">Edit Account</string>
     <string name="info_details">Info</string>
-    <string name="title_settings">Settings</string>
     <string name="menu_export_ofx">Export OFX</string>
     <string name="description_add_transaction_icon">Add a new transaction to an account</string>
     <string name="label_no_accounts">No accounts to display</string>
@@ -501,13 +500,12 @@
 	<string name="key_previous_minor_version">previous_minor_version</string>
 	<string name="title_whats_new">What\'s New</string>
 	<string name="whats_new">
-	    <b>Version 1.2.0 - 20.06.2013</b>\n\n
         - Import GnuCash desktop account structure\n
         - Nested display of account hierarchy\n
         - Options for deleting all accounts/transactions\n
         - Preliminary support for account types\n
         - Account balance now takes sub-accounts into consideration\n
-        - Numerous bug fixes\n	        
+        - Numerous bug fixes\n
 	</string>
 	<string name="label_dismiss">Dismiss</string>
     <string name="toast_transanction_amount_required">Enter an amount to save the transaction</string>
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index a13531d3..7c9cb180 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -315,7 +315,7 @@ public String getUID() {
 
 	/**
 	 * Returns the Unique Identifier of account with which this transaction is double entered
-	 * @return Unique Identifier of account with which this transaction is double entered
+	 * @return Unique ID of transfer account or <code>null</code> if it is not a double transaction
 	 */
 	public String getDoubleEntryAccountUID() {
 		return mDoubleEntryAccountUID;
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 3384e281..4372061b 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -187,8 +187,17 @@ private boolean hasNewFeatures(){
 	 * Show dialog with new features for this version
 	 */
 	private void showWhatsNewDialog(){
-		new AlertDialog.Builder(this)
-		.setTitle(R.string.title_whats_new)
+        StringBuilder releaseTitle = new StringBuilder(getResources().getString(R.string.title_whats_new));
+        PackageInfo packageInfo = null;
+        try {
+            packageInfo = getPackageManager().getPackageInfo(getPackageName(), 0);
+        } catch (NameNotFoundException e) {
+            e.printStackTrace();
+        }
+        releaseTitle.append(" - v").append(packageInfo.versionName);
+
+        new AlertDialog.Builder(this)
+		.setTitle(releaseTitle.toString())
 		.setMessage(R.string.whats_new)
 		.setPositiveButton(R.string.label_dismiss, new DialogInterface.OnClickListener() {
 			
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index 5809294c..ebba10c2 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -28,6 +28,7 @@
 import java.util.GregorianCalendar;
 import java.util.Locale;
 
+import android.os.Handler;
 import android.widget.*;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Money;
@@ -378,7 +379,13 @@ public void onClick(View v) {
 	private void setSelectedTransferAccount(long accountId){
 		for (int pos = 0; pos < mCursorAdapter.getCount(); pos++) {
 			if (mCursorAdapter.getItemId(pos) == accountId){
-				mDoubleAccountSpinner.setSelection(pos);				
+                final int position = pos;
+				new Handler().postDelayed(new Runnable() {
+                    @Override
+                    public void run() {
+                        mDoubleAccountSpinner.setSelection(position);
+                    }
+                }, 100);
 				break;
 			}
 		}
diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index 841119cd..18854ccf 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -17,7 +17,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <parent>
-		<version>1.2.2</version>
+		<version>1.2.3-SNAPSHOT</version>
 		<groupId>org.gnucash.android</groupId>
 		<artifactId>gnucash-android-parent</artifactId>
 	</parent>
diff --git a/pom.xml b/pom.xml
index 6584baea..5b71283d 100644
--- a/pom.xml
+++ b/pom.xml
@@ -17,7 +17,7 @@
 
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
-	<version>1.2.2</version>
+	<version>1.2.3-SNAPSHOT</version>
     <groupId>org.gnucash.android</groupId>
     <artifactId>gnucash-android-parent</artifactId>
     <name>GnuCash Android parent</name>
@@ -40,7 +40,7 @@
                 <plugin>
                     <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                     <artifactId>android-maven-plugin</artifactId>
-                    <version>3.5.0</version>
+                    <version>3.6.0</version>
                     <extensions>true</extensions>
                     <configuration>
                         <sdk>

From 6eadaba86fdc974d524423b4e3a70eb7dfa831a4 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 26 Aug 2013 18:34:12 +0200
Subject: [PATCH 04/43] - Feature: Autocomplete suggestions when entering
 transaction names (description) - Improved: handling of commodities during
 account import

---
 app/res/layout/fragment_new_transaction.xml        |  2 +-
 .../gnucash/android/db/TransactionsDbAdapter.java  | 18 ++++++
 .../ui/transactions/NewTransactionFragment.java    | 74 +++++++++++++++-------
 .../android/util/GnucashAccountXmlHandler.java     | 32 ++++++----
 4 files changed, 89 insertions(+), 37 deletions(-)

diff --git a/app/res/layout/fragment_new_transaction.xml b/app/res/layout/fragment_new_transaction.xml
index 15b815b1..7388922a 100644
--- a/app/res/layout/fragment_new_transaction.xml
+++ b/app/res/layout/fragment_new_transaction.xml
@@ -25,7 +25,7 @@
 	    android:padding="@dimen/dialog_padding"
 	    android:orientation="vertical" >
 	
-	    <EditText
+	    <AutoCompleteTextView
 	        android:id="@+id/input_transaction_name"
 	        android:layout_width="match_parent"
 	        android:layout_height="wrap_content"
diff --git a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
index 980d36ac..a3a546e7 100644
--- a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
@@ -451,4 +451,22 @@ public Cursor fetchRecord(long rowId) {
         return fetchRecord(DatabaseHelper.TRANSACTIONS_TABLE_NAME, rowId);
     }
 
+    /**
+     * Returns a cursor to transactions whose name (UI: description) start with the <code>prefix</code>
+     * <p>This method is used for autocomplete suggestions when creating new transactions</p>
+     * @param prefix Starting characters of the transaction name
+     * @return Cursor to the data set containing all matching transactions
+     */
+    public Cursor fetchTransactionsStartingWith(String prefix){
+        StringBuffer stringBuffer = new StringBuffer(DatabaseHelper.KEY_NAME)
+                .append(" LIKE '").append(prefix).append("%'");
+        String selection = stringBuffer.toString();
+
+        Cursor c = mDb.query(DatabaseHelper.TRANSACTIONS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_NAME},
+                selection,
+                null, null, null,
+                DatabaseHelper.KEY_NAME);
+        return c;
+    }
 }
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index ebba10c2..176e4366 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -129,7 +129,7 @@
 	/**
 	 * Input field for the transaction name (description)
 	 */
-	private EditText mNameEditText;
+	private AutoCompleteTextView mNameEditText;
 	
 	/**
 	 * Input field for the transaction amount
@@ -172,8 +172,8 @@
 	 */
 	private Spinner mDoubleAccountSpinner;
 
-	private boolean mUseDoubleEntry;  
-	
+	private boolean mUseDoubleEntry;
+
 	/**
 	 * Create the view and retrieve references to the UI elements
 	 */
@@ -182,7 +182,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 			Bundle savedInstanceState) {
 		View v = inflater.inflate(R.layout.fragment_new_transaction, container, false);
 		
-		mNameEditText = (EditText) v.findViewById(R.id.input_transaction_name);
+		mNameEditText = (AutoCompleteTextView) v.findViewById(R.id.input_transaction_name);
 		mDescriptionEditText = (EditText) v.findViewById(R.id.input_description);
 		mDateTextView = (TextView) v.findViewById(R.id.input_date);
 		mTimeTextView = (TextView) v.findViewById(R.id.input_time);
@@ -202,7 +202,6 @@ public void onActivityCreated(Bundle savedInstanceState) {
 		actionBar.setHomeButtonEnabled(true);
 		actionBar.setDisplayHomeAsUpEnabled(true);
 		actionBar.setDisplayShowTitleEnabled(false);
-		
 
 		SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getActivity());
 		mUseDoubleEntry = sharedPrefs.getBoolean(getString(R.string.key_use_double_entry), false);
@@ -227,9 +226,40 @@ public void onActivityCreated(Bundle savedInstanceState) {
 			}
 			initializeViewsWithTransaction();
 		}
+
+        initTransactionNameAutocomplete();
 	}
-	
-	/**
+
+    /**
+     * Initializes the transaction name field for autocompletion with existing transaction names in the database
+     */
+    private void initTransactionNameAutocomplete() {
+        final int[] to = new int[]{android.R.id.text1};
+        final String[] from = new String[]{DatabaseHelper.KEY_NAME};
+
+        SimpleCursorAdapter adapter = new SimpleCursorAdapter(
+                getActivity(), android.R.layout.simple_dropdown_item_1line,
+                null, from, to, 0);
+
+        adapter.setCursorToStringConverter(new SimpleCursorAdapter.CursorToStringConverter() {
+            @Override
+            public CharSequence convertToString(Cursor cursor) {
+                final int colIndex = cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_NAME);
+                return cursor.getString(colIndex);
+            }
+        });
+
+        adapter.setFilterQueryProvider(new FilterQueryProvider() {
+            @Override
+            public Cursor runQuery(CharSequence name) {
+                return mTransactionsDbAdapter.fetchTransactionsStartingWith(name.toString());
+            }
+        });
+
+        mNameEditText.setAdapter(adapter);
+    }
+
+    /**
 	 * Initialize views in the fragment with information from a transaction.
 	 * This method is called if the fragment is used for editing a transaction
 	 */
@@ -355,21 +385,21 @@ public void onClick(View v) {
 		});
 		
 		mTimeTextView.setOnClickListener(new View.OnClickListener() {
-			
-			@Override
-			public void onClick(View v) {
-				FragmentTransaction ft = getFragmentManager().beginTransaction();
-				long timeMillis = 0;				
-				try {
-					Date date = TIME_FORMATTER.parse(mTimeTextView.getText().toString());
-					timeMillis = date.getTime();
-				} catch (ParseException e) {
-					Log.e(getTag(), "Error converting input time to Date object");
-				}
-				DialogFragment fragment = new TimePickerDialogFragment(NewTransactionFragment.this, timeMillis);
-				fragment.show(ft, "time_dialog");
-			}
-		});
+
+            @Override
+            public void onClick(View v) {
+                FragmentTransaction ft = getFragmentManager().beginTransaction();
+                long timeMillis = 0;
+                try {
+                    Date date = TIME_FORMATTER.parse(mTimeTextView.getText().toString());
+                    timeMillis = date.getTime();
+                } catch (ParseException e) {
+                    Log.e(getTag(), "Error converting input time to Date object");
+                }
+                DialogFragment fragment = new TimePickerDialogFragment(NewTransactionFragment.this, timeMillis);
+                fragment.show(ft, "time_dialog");
+            }
+        });
 	}
 
     /**
diff --git a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
index 5d622034..a9760b72 100644
--- a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
+++ b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
@@ -17,6 +17,7 @@
 package org.gnucash.android.util;
 
 import android.content.Context;
+import android.util.Log;
 import android.widget.Toast;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
@@ -27,7 +28,6 @@
 import org.xml.sax.XMLReader;
 import org.xml.sax.helpers.DefaultHandler;
 
-import javax.xml.parsers.ParserConfigurationException;
 import javax.xml.parsers.SAXParser;
 import javax.xml.parsers.SAXParserFactory;
 import java.io.*;
@@ -50,8 +50,11 @@
     public static final String TAG_CURRENCY     = "cmdty:id";
     public static final String TAG_PARENT_UID   = "act:parent";
     public static final String TAG_ACCOUNT      = "gnc:account";
+    public static final String TAG_COMMODITY_SPACE  = "cmdty:space";
+    private static final String NO_CURRENCY_CODE    = "XXX";
+
+    private static final String LOG_TAG = "GnuCashAccountImporter";
 
-    private static final String ERROR_TAG   = "GnuCashAccountImporter";
 
     AccountsDbAdapter mDatabaseAdapter;
     StringBuilder mContent;
@@ -88,27 +91,28 @@ public void endElement(String uri, String localName, String qualifiedName) throw
             mAccount.setAccountType(Account.AccountType.valueOf(characterString));
         }
 
+        if (qualifiedName.equalsIgnoreCase(TAG_COMMODITY_SPACE)){
+            if (characterString.equalsIgnoreCase("ISO4217")){
+                mISO4217Currency = true;
+            }
+        }
+
         if (qualifiedName.equalsIgnoreCase(TAG_CURRENCY)){
-            if (mAccount != null)
-                mAccount.setCurrency(Currency.getInstance(characterString));
+            if (mAccount != null){
+                String currencyCode = mISO4217Currency ? characterString : NO_CURRENCY_CODE;
+                mAccount.setCurrency(Currency.getInstance(currencyCode));
+            }
         }
 
         if (qualifiedName.equalsIgnoreCase(TAG_PARENT_UID)){
             mAccount.setParentUID(characterString);
         }
 
-        if (qualifiedName.equalsIgnoreCase("cmdty:space")){
-            if (characterString.equalsIgnoreCase("ISO4217")){
-                mISO4217Currency = true;
-            }
-        }
-
         if (qualifiedName.equalsIgnoreCase(TAG_ACCOUNT)){
-            //we only save accounts with ISO 4217 currencies. Ignore all else
-            if (mISO4217Currency)
-                mDatabaseAdapter.addAccount(mAccount);
+            Log.i(LOG_TAG, "Saving account...");
+            mDatabaseAdapter.addAccount(mAccount);
 
-            //reset for next account
+            //reset ISO 4217 flag for next account
             mISO4217Currency = false;
         }
 

From f4e50658bb7ac8382037aced046adff71bf085f5 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 26 Aug 2013 19:12:15 +0200
Subject: [PATCH 05/43] Update version codes for beta release

---
 CHANGELOG.md            | 6 ++++--
 app/AndroidManifest.xml | 4 ++--
 2 files changed, 6 insertions(+), 4 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index e4771eb6..d3dc478a 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,8 +1,10 @@
 Change Log
 ===============================================================================
-Version 1.2.x *(2013-06-23)*
+Version 1.2.3.beta *(2013-08-26)*
 ----------------------------
-* Added Chinese language translation
+* Feature: Added Chinese language translation
+* Feature: Autocomplete transaction descriptions
+* Improved reliability of importing stock accounts
 
 Version 1.2.2 *(2013-06-23)*
 ----------------------------
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 5647eac4..7a4bd704 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="10"
-    android:versionName="1.2.2" >
+    android:versionCode="11"
+    android:versionName="1.2.3.beta" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     

From 0f760ed767aff91a149abe5c78e4bf98f5e01ced Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Tue, 27 Aug 2013 12:52:42 +0200
Subject: [PATCH 06/43] Improved speed of computation of account balances Fixed
 crash when updating widget or creating new transaction Numerous bug fixes

---
 CHANGELOG.md                                       |  4 +-
 app/AndroidManifest.xml                            |  4 +-
 app/src/org/gnucash/android/data/Money.java        |  2 +-
 .../org/gnucash/android/db/AccountsDbAdapter.java  | 18 ++----
 .../gnucash/android/db/TransactionsDbAdapter.java  | 65 +++++++++-------------
 .../android/ui/accounts/AccountsListFragment.java  |  2 -
 .../ui/transactions/BulkMoveDialogFragment.java    |  1 -
 .../ui/transactions/NewTransactionFragment.java    |  2 -
 .../ui/transactions/TransactionsActivity.java      | 43 +++++++-------
 .../TransactionsDeleteConfirmationDialog.java      |  1 -
 .../ui/widget/WidgetConfigurationActivity.java     |  5 +-
 11 files changed, 62 insertions(+), 85 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index d3dc478a..512fca1e 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,10 +1,12 @@
 Change Log
 ===============================================================================
-Version 1.2.3.beta *(2013-08-26)*
+Version 1.2.3.beta2 *(2013-08-27)*
 ----------------------------
 * Feature: Added Chinese language translation
 * Feature: Autocomplete transaction descriptions
+* Fixed: crash when creating transactions or updating widget
 * Improved reliability of importing stock accounts
+* Improved speed of loading account balance
 
 Version 1.2.2 *(2013-06-23)*
 ----------------------------
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 7a4bd704..55b85238 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="11"
-    android:versionName="1.2.3.beta" >
+    android:versionCode="12"
+    android:versionName="1.2.3.beta2" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/src/org/gnucash/android/data/Money.java b/app/src/org/gnucash/android/data/Money.java
index ce9622ec..068125b4 100644
--- a/app/src/org/gnucash/android/data/Money.java
+++ b/app/src/org/gnucash/android/data/Money.java
@@ -85,7 +85,7 @@
      * A zero instance with the currency of the default locale.
      * This can be used anywhere where a starting amount is required without having to create a new object
      */
-    public static final Money sDefaultZero = Money.createInstance(Currency.getInstance(Locale.getDefault()).getCurrencyCode());
+    private static final Money sDefaultZero = Money.createInstance(Currency.getInstance(Locale.getDefault()).getCurrencyCode());
 
     /**
      * Returns a Money instance initialized to the local currency and value 0
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 962b1b73..472f4e66 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -373,31 +373,21 @@ public Cursor fetchAccounts(String condition){
 		return cursor;
 	}
 	
-	/**
-	 * Returns the balance of all accounts with each transaction counted only once
-	 * This does not take into account the currencies and double entry 
-	 * transactions are not considered as well.
-	 * @return Balance of all accounts in the database
-	 * @see AccountsDbAdapter#getDoubleEntryAccountsBalance()
-	 */
-	public Money getAllAccountsBalance(){
-		return mTransactionsAdapter.getAllTransactionsSum();
-	}
-
     /**
      * Returns the balance of an account while taking sub-accounts into consideration
      * @return Account Balance of an account including sub-accounts
      */
     public Money getAccountBalance(long accountId){
-        List<Long> subAccounts = getSubAccountIds(accountId);
         Money balance = Money.createInstance(getCurrencyCode(accountId));
+
+        List<Long> subAccounts = getSubAccountIds(accountId);
         for (long id : subAccounts){
             //recurse because arbitrary nesting depth is allowed
             Money subBalance = getAccountBalance(id);
             if (subBalance.getCurrency().equals(balance.getCurrency())){
                 //only add the balances if they are of the same currency
                 //ignore sub accounts of different currency just like GnuCash desktop does
-                balance = balance.add(getAccountBalance(id));
+                balance = balance.add(subBalance);
             }
         }
         return balance.add(mTransactionsAdapter.getTransactionsSum(accountId));
@@ -416,7 +406,7 @@ public Money getAccountBalance(long accountId){
 
         if (cursor != null){
             while (cursor.moveToNext()){
-                subAccounts.add(cursor.getLong(0));
+                subAccounts.add(cursor.getLong(DatabaseAdapter.COLUMN_ROW_ID));
             }
             cursor.close();
         }
diff --git a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
index a3a546e7..c25be1e1 100644
--- a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
@@ -310,54 +310,39 @@ public long getAllTransactionsCount(){
 	/**
 	 * Returns the sum of transactions belonging to the account with id <code>accountId</code>
      * Double entry accounting is taken into account and the balance reflects the transfer transactions.
-     * This means if the accounts are properly balanced, this method should return 0
 	 * @param accountId Record ID of the account
 	 * @return Sum of transactions belonging to the account
 	 */
 	public Money getTransactionsSum(long accountId){
-		Cursor c = fetchAllTransactionsForAccount(accountId);
+        String accountUID = getAccountUID(accountId);
 
-		//transactions will have the currency of the account
-		String currencyCode = getCurrencyCode(accountId);
+        String querySum = "SELECT TOTAL(" + DatabaseHelper.KEY_AMOUNT
+                + ") FROM " + DatabaseHelper.TRANSACTIONS_TABLE_NAME
+                + " WHERE " + DatabaseHelper.KEY_ACCOUNT_UID + " = ?";
 
-        Money amountSum = new Money("0", currencyCode);
+        Cursor sumCursor = mDb.rawQuery(querySum, new String[]{accountUID});
+        double sum = 0d;
 
-		if (c == null || c.getCount() <= 0)
-			return amountSum;
+        if (sumCursor != null && sumCursor.moveToFirst()){
+            sum += sumCursor.getFloat(0);
+            sumCursor.close();
+        }
 
-		while(c.moveToNext()){
-			Money money = new Money(c.getString(DatabaseAdapter.COLUMN_AMOUNT), currencyCode);
-			String doubleEntryAccountUID = c.getString(DatabaseAdapter.COLUMN_DOUBLE_ENTRY_ACCOUNT_UID);
-			if (doubleEntryAccountUID != null && doubleEntryAccountUID.equals(getAccountUID(accountId))){
-				amountSum = amountSum.add(money.negate());
-			} else {
-				amountSum = amountSum.add(money);
-			}
-		}
-		c.close();
-		
-		return amountSum;
-	}
-	
-	/**
-	 * Returns the balance of all accounts with each transaction counted only once
-	 * This does not take into account the currencies and double entry 
-	 * transactions are not considered as well.
-	 * @return Balance of all accounts in the database
-	 * @see AccountsDbAdapter#getDoubleEntryAccountsBalance()
-	 */
-	public Money getAllTransactionsSum(){
-        //TODO: Take double entry into account
-		String query = "SELECT TOTAL(" + DatabaseHelper.KEY_AMOUNT
-                + ") FROM " + DatabaseHelper.TRANSACTIONS_TABLE_NAME;
-		Cursor c = mDb.rawQuery(query, null); 
-//				new String[]{DatabaseHelper.KEY_AMOUNT, DatabaseHelper.TRANSACTIONS_TABLE_NAME});
-		double result = 0;
-		if (c != null && c.moveToFirst()){
-			result = c.getDouble(0);	
-		}
-		c.close();
-		return new Money(new BigDecimal(result));	
+        querySum = "SELECT TOTAL(" + DatabaseHelper.KEY_AMOUNT
+                + ") FROM " + DatabaseHelper.TRANSACTIONS_TABLE_NAME
+                + " WHERE " + DatabaseHelper.KEY_DOUBLE_ENTRY_ACCOUNT_UID + " = ?";
+
+        sumCursor = mDb.rawQuery(querySum, new String[]{accountUID});
+
+        if (sumCursor != null && sumCursor.moveToFirst()){
+            sum -= sumCursor.getFloat(0);
+            sumCursor.close();
+        }
+
+        BigDecimal sumDecimal = new BigDecimal(sum);
+        Currency currency = Currency.getInstance(getCurrencyCode(accountUID));
+        Money transactionSum = new Money(sumDecimal, currency);
+        return transactionSum;
 	}
 	
 	/**
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 936f6a2d..1c50c6f2 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -647,11 +647,9 @@ protected Money doInBackground(Long... params) {
             //if the view for which we are doing this job is dead, kill the job as well
             if (accountBalanceTextViewReference == null || accountBalanceTextViewReference.get() == null){
                 cancel(true);
-                accountsDbAdapter.close();
                 return Money.getZeroInstance();
             }
             Money balance = accountsDbAdapter.getAccountBalance(params[0]);
-            accountsDbAdapter.close();
             return balance;
         }
 
diff --git a/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java b/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
index 9094d128..c526bbcc 100644
--- a/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
@@ -162,6 +162,5 @@ public void onClick(View v) {
 	@Override
 	public void onDestroyView() {
 		super.onDestroyView();
-		mAccountsDbAdapter.close();
 	}
 }
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index 176e4366..c1c31d6d 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -440,7 +440,6 @@ public void onAccountChanged(long newAccountId){
 		String currencyCode = accountsDbAdapter.getCurrencyCode(newAccountId);
 		Currency currency = Currency.getInstance(currencyCode);
 		mCurrencyTextView.setText(currency.getSymbol(Locale.getDefault()));
-		accountsDbAdapter.close();
 		
 		updateTransferAccountsList();
 	}
@@ -493,7 +492,6 @@ private void saveNewTransaction() {
 		
 		
 		mTransactionsDbAdapter.addTransaction(mTransaction);
-		mTransactionsDbAdapter.close();
 		
 		//update widgets, if any
 		WidgetConfigurationActivity.updateAllWidgets(getActivity().getApplicationContext());
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 9a751ca2..90c97299 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -16,18 +16,6 @@
 
 package org.gnucash.android.ui.transactions;
 
-import android.support.v4.app.Fragment;
-import android.widget.TextView;
-import org.gnucash.android.R;
-import org.gnucash.android.data.Account;
-import org.gnucash.android.db.AccountsDbAdapter;
-import org.gnucash.android.db.DatabaseAdapter;
-import org.gnucash.android.db.DatabaseHelper;
-import org.gnucash.android.ui.accounts.AccountsActivity;
-import org.gnucash.android.ui.accounts.AccountsListFragment;
-import org.gnucash.android.util.OnAccountClickedListener;
-import org.gnucash.android.util.OnTransactionClickedListener;
-
 import android.content.Context;
 import android.content.Intent;
 import android.database.Cursor;
@@ -40,11 +28,20 @@
 import android.view.View;
 import android.view.inputmethod.InputMethodManager;
 import android.widget.SpinnerAdapter;
-
+import android.widget.TextView;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.ActionBar.OnNavigationListener;
 import com.actionbarsherlock.app.SherlockFragmentActivity;
 import com.actionbarsherlock.view.MenuItem;
+import org.gnucash.android.R;
+import org.gnucash.android.data.Account;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.DatabaseAdapter;
+import org.gnucash.android.db.DatabaseHelper;
+import org.gnucash.android.ui.accounts.AccountsActivity;
+import org.gnucash.android.ui.accounts.AccountsListFragment;
+import org.gnucash.android.util.OnAccountClickedListener;
+import org.gnucash.android.util.OnTransactionClickedListener;
 
 /**
  * Activity for displaying, creating and editing transactions
@@ -84,6 +81,16 @@
 	 */
 	private boolean mActivityRunning = false;
 
+    /**
+     * Account database adapter for manipulating the accounts list in navigation
+     */
+    private AccountsDbAdapter mAccountsDbAdapter;
+
+    /**
+     * Spinner adapter for the action bar navigation list of accounts
+     */
+    private SpinnerAdapter mSpinnerAdapter;
+
     TextView mSectionHeaderSubAccounts;
     TextView mSectionHeaderTransactions;
     View mSubAccountsContainer;
@@ -112,6 +119,9 @@ public boolean onNavigationItemSelected(int position, long itemId) {
 		  }
 	};
 
+    /**
+     * Refreshes the fragments currently in the transactions activity
+     */
     private void refresh() {
         FragmentManager fragmentManager = getSupportFragmentManager();
         TransactionsListFragment transactionsListFragment = (TransactionsListFragment) fragmentManager
@@ -134,10 +144,6 @@ private void refresh() {
             fragmentTransaction.commit();
         }
     }
-
-    private AccountsDbAdapter mAccountsDbAdapter;
-
-	private SpinnerAdapter mSpinnerAdapter;
 				
 	@Override
 	protected void onCreate(Bundle savedInstanceState) {
@@ -187,7 +193,6 @@ private void setupActionBarNavigation() {
 				new int[] { android.R.id.text1 }, 0);
 		((ResourceCursorAdapter) mSpinnerAdapter)
 				.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);
-
 		ActionBar actionBar = getSupportActionBar();
 		actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_LIST);
 		actionBar.setListNavigationCallbacks(mSpinnerAdapter,
@@ -214,7 +219,7 @@ public void updateNavigationSelection() {
 			}
 			++i;
 		} while (accountsCursor.moveToNext());
-
+        accountsCursor.close();
 	}
 
     /**
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
index 11dd7419..5d00c0d6 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
@@ -45,7 +45,6 @@ public void onClick(DialogInterface dialog, int whichButton) {
                             } else {
                             	adapter.deleteRecord(rowId);
                             }
-                            adapter.close();
                             if (getTargetFragment() instanceof AccountsListFragment){                            	
                             	((AccountsListFragment)getTargetFragment()).refreshList();
                             }                                                        
diff --git a/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java b/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
index 900cb8ad..d56dc216 100644
--- a/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
+++ b/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
@@ -182,12 +182,13 @@ public static void updateWidget(Context context, int appWidgetId, long accountId
 				R.layout.widget_4x1);
 		views.setTextViewText(R.id.account_name, account.getName());
         Money accountBalance = accountsDbAdapter.getAccountBalance(accountId);
-		views.setTextViewText(R.id.transactions_summary, 
+
+        views.setTextViewText(R.id.transactions_summary,
 				accountBalance.formattedString(Locale.getDefault()));
 		int color = account.getBalance().isNegative() ? R.color.debit_red : R.color.credit_green;
 		views.setTextColor(R.id.transactions_summary, context.getResources().getColor(color));
 
-        accountsDbAdapter.close();
+
 
 		Intent accountViewIntent = new Intent(context, TransactionsActivity.class);
 		accountViewIntent.setAction(Intent.ACTION_VIEW);

From 1432a090f19bf423c1db9949945ac6aadea8c2c8 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Wed, 28 Aug 2013 13:46:49 +0200
Subject: [PATCH 07/43] Updated version numbers for 1.2.3 release Increased
 touch target area for "new transaction" button in accounts list view

---
 CHANGELOG.md                                                     | 5 +++--
 app/AndroidManifest.xml                                          | 4 ++--
 app/pom.xml                                                      | 2 +-
 app/res/drawable/selected_background.xml                         | 8 ++++++++
 app/res/layout/list_item_account.xml                             | 9 +++++----
 app/res/values-v14/styles.xml                                    | 6 ++++++
 app/res/values/styles.xml                                        | 5 +++++
 .../org/gnucash/android/ui/accounts/AccountsListFragment.java    | 3 ++-
 integration-tests/AndroidManifest.xml                            | 2 +-
 integration-tests/pom.xml                                        | 2 +-
 pom.xml                                                          | 2 +-
 11 files changed, 35 insertions(+), 13 deletions(-)
 create mode 100644 app/res/drawable/selected_background.xml
 create mode 100644 app/res/values-v14/styles.xml

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 512fca1e..0580cf49 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,12 +1,13 @@
 Change Log
 ===============================================================================
-Version 1.2.3.beta2 *(2013-08-27)*
+Version 1.2.3 *(2013-08-28)*
 ----------------------------
+* Fixed: crashes when editing/creating transactions
 * Feature: Added Chinese language translation
 * Feature: Autocomplete transaction descriptions
-* Fixed: crash when creating transactions or updating widget
 * Improved reliability of importing stock accounts
 * Improved speed of loading account balance
+* Improved incrased touch target area of "new transaction" button in accounts list view
 
 Version 1.2.2 *(2013-06-23)*
 ----------------------------
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 55b85238..75c262da 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="12"
-    android:versionName="1.2.3.beta2" >
+    android:versionCode="13"
+    android:versionName="1.2.3" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/pom.xml b/app/pom.xml
index e4298048..b713d6da 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -22,7 +22,7 @@
     <description>Gnucash Android companion application</description>
 
     <parent>
-        <version>1.2.3-SNAPSHOT</version>
+        <version>1.2.3</version>
         <groupId>org.gnucash.android</groupId>
         <artifactId>gnucash-android-parent</artifactId>
     </parent>
diff --git a/app/res/drawable/selected_background.xml b/app/res/drawable/selected_background.xml
new file mode 100644
index 00000000..dc2f9cc3
--- /dev/null
+++ b/app/res/drawable/selected_background.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<selector xmlns:android="http://schemas.android.com/apk/res/android">
+    <item android:drawable="@drawable/abs__item_background_holo_light"
+          android:state_pressed="true" />
+    <item android:drawable="@drawable/abs__item_background_holo_light"
+          android:state_focused="true" />
+</selector>
\ No newline at end of file
diff --git a/app/res/layout/list_item_account.xml b/app/res/layout/list_item_account.xml
index f8fdb565..4541f24b 100644
--- a/app/res/layout/list_item_account.xml
+++ b/app/res/layout/list_item_account.xml
@@ -23,7 +23,6 @@
               android:paddingRight="@dimen/edge_padding"
               android:orientation="horizontal"
               style="@style/ListItem">
-
     <include
             layout="@layout/list_item_2_lines"
             android:layout_height="wrap_content"
@@ -48,13 +47,15 @@
             android:layout_marginRight="10dp"
             />
 
-    <ImageView
+    <ImageButton
             android:id="@+id/btn_new_transaction"
             android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:background="@drawable/content_new_holo_light"
+            android:layout_height="match_parent"
+            android:src="@drawable/content_new_holo_light"
+            style="@style/ImageButton.Transparent"
             android:padding="2dp"
             android:clickable="true"
+            android:focusable="false"
             android:contentDescription="@string/description_add_transaction_icon"/>
 
 </LinearLayout>
\ No newline at end of file
diff --git a/app/res/values-v14/styles.xml b/app/res/values-v14/styles.xml
new file mode 100644
index 00000000..e75f71b4
--- /dev/null
+++ b/app/res/values-v14/styles.xml
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <style name="ImageButton.Transparent" parent="@android:style/Widget.ImageButton">
+        <item name="android:background">?android:attr/selectableItemBackground</item>
+    </style>
+</resources>
\ No newline at end of file
diff --git a/app/res/values/styles.xml b/app/res/values/styles.xml
index f880a62f..1480a43b 100644
--- a/app/res/values/styles.xml
+++ b/app/res/values/styles.xml
@@ -80,4 +80,9 @@
         <item name="android:textSize">12sp</item>
         <item name="android:textAppearance">?android:attr/textAppearanceSmall</item>
     </style>
+
+    <style name="ImageButton.Transparent" parent="@android:style/Widget.ImageButton">
+        <item name="android:background">@drawable/selected_background</item>
+    </style>
+
 </resources>
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 1c50c6f2..d81bd220 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -609,7 +609,7 @@ public void bindView(View v, Context context, Cursor cursor) {
                     .findViewById(R.id.transactions_summary);
             new AccountBalanceTask(summary, getActivity()).execute(accountId);
 
-            ImageView newTransactionButton = (ImageView) v.findViewById(R.id.btn_new_transaction);
+            ImageButton newTransactionButton = (ImageButton) v.findViewById(R.id.btn_new_transaction);
             if (inSubAcccount()){
                 newTransactionButton.setVisibility(View.GONE);
                 v.findViewById(R.id.vertical_line).setVisibility(View.GONE);
@@ -625,6 +625,7 @@ public void onClick(View v) {
                     }
                 });
             }
+            newTransactionButton.setFocusable(false);
         }
     }
 
diff --git a/integration-tests/AndroidManifest.xml b/integration-tests/AndroidManifest.xml
index 0a3d1e68..40bdde97 100644
--- a/integration-tests/AndroidManifest.xml
+++ b/integration-tests/AndroidManifest.xml
@@ -2,7 +2,7 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android.test"
     android:versionCode="3"
-    android:versionName="1.2.0" >
+    android:versionName="1.2.3" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15" />
 
diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index 18854ccf..cf5129f9 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -17,7 +17,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <parent>
-		<version>1.2.3-SNAPSHOT</version>
+		<version>1.2.3</version>
 		<groupId>org.gnucash.android</groupId>
 		<artifactId>gnucash-android-parent</artifactId>
 	</parent>
diff --git a/pom.xml b/pom.xml
index 5b71283d..cbd81da0 100644
--- a/pom.xml
+++ b/pom.xml
@@ -17,7 +17,7 @@
 
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
-	<version>1.2.3-SNAPSHOT</version>
+	<version>1.2.3</version>
     <groupId>org.gnucash.android</groupId>
     <artifactId>gnucash-android-parent</artifactId>
     <name>GnuCash Android parent</name>

From 2f54bc3ec6f29ba4f33c3adc9d880773b3fd224e Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 29 Aug 2013 17:07:29 +0200
Subject: [PATCH 08/43] Fixed: selection of transactions or accounts not
 working properly - wrong items selected. Maintain list selection state on
 orientation changes

---
 app/res/layout/list_item_account.xml               |   4 +-
 app/res/layout/list_item_transaction.xml           |   4 +-
 .../android/ui/accounts/AccountsListFragment.java  |  65 ++++-----
 .../ui/transactions/TransactionsListFragment.java  | 146 ++++++++-------------
 .../android/util/CheckableLinearLayout.java        | 116 ++++++++++++++++
 5 files changed, 198 insertions(+), 137 deletions(-)
 create mode 100644 app/src/org/gnucash/android/util/CheckableLinearLayout.java

diff --git a/app/res/layout/list_item_account.xml b/app/res/layout/list_item_account.xml
index 4541f24b..3d5e8772 100644
--- a/app/res/layout/list_item_account.xml
+++ b/app/res/layout/list_item_account.xml
@@ -15,7 +15,7 @@
  limitations under the License.
 -->
 
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<org.gnucash.android.util.CheckableLinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
               android:layout_width="match_parent"
               android:layout_height="?android:attr/listPreferredItemHeight"
               android:gravity="center_vertical"
@@ -58,4 +58,4 @@
             android:focusable="false"
             android:contentDescription="@string/description_add_transaction_icon"/>
 
-</LinearLayout>
\ No newline at end of file
+</org.gnucash.android.util.CheckableLinearLayout>
\ No newline at end of file
diff --git a/app/res/layout/list_item_transaction.xml b/app/res/layout/list_item_transaction.xml
index 65e6e36d..20bad890 100644
--- a/app/res/layout/list_item_transaction.xml
+++ b/app/res/layout/list_item_transaction.xml
@@ -15,7 +15,7 @@
  limitations under the License.
 -->
 
-<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+<org.gnucash.android.util.CheckableLinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
               android:layout_width="match_parent"
               android:layout_height="match_parent"
               android:orientation="vertical">
@@ -63,4 +63,4 @@
                 android:layout_marginRight="12dp"
                 style="@style/ListItemText"/>
     </LinearLayout>
-</LinearLayout>
\ No newline at end of file
+</org.gnucash.android.util.CheckableLinearLayout>
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index d81bd220..071272c5 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -191,6 +191,7 @@ public void onActivityCreated(Bundle savedInstanceState) {
 
         ListView lv = getListView();
         lv.setOnItemLongClickListener(this);
+        lv.setChoiceMode(ListView.CHOICE_MODE_SINGLE);
         getLoaderManager().initLoader(0, null, this);
     }
 
@@ -211,11 +212,11 @@ public void onAttach(Activity activity) {
     }
 
     @Override
-    public void onListItemClick(ListView l, View v, int position, long id) {
-        super.onListItemClick(l, v, position, id);
+    public void onListItemClick(ListView listView, View view, int position, long id) {
+        super.onListItemClick(listView, view, position, id);
         if (mInEditMode) {
             mSelectedItemId = id;
-            selectItem(position);
+            listView.setItemChecked(position, true);
             return;
         }
         mAccountSelectedListener.accountSelected(id);
@@ -233,7 +234,7 @@ public boolean onItemLongClick(AdapterView<?> parent, View view, int position,
         mActionMode = getSherlockActivity().startActionMode(
                 mActionModeCallbacks);
 
-        selectItem(position);
+        getListView().setItemChecked(position, true);
         return true;
     }
 
@@ -303,47 +304,12 @@ public void showConfirmationDialog(long id) {
      */
     public void finishEditMode() {
         mInEditMode = false;
-        deselectPreviousSelectedItem();
+        getListView().setItemChecked(getListView().getCheckedItemPosition(), false);
+//        deselectPreviousSelectedItem();
         mActionMode = null;
         mSelectedItemId = -1;
     }
 
-    /**
-     * Highlights the item at <code>position</code> in the ListView.
-     * Android has facilities for managing list selection but the highlighting
-     * is not reliable when using the ActionBar on pre-Honeycomb devices-
-     *
-     * @param position Position of item to be highlighted
-     */
-    private void selectItem(int position) {
-        deselectPreviousSelectedItem();
-        ListView lv = getListView();
-        lv.setItemChecked(position, true);
-        View v = lv.getChildAt(position - lv.getFirstVisiblePosition());
-        v.setSelected(true);
-        v.setBackgroundColor(getResources().getColor(R.color.abs__holo_blue_light));
-        mSelectedViewPosition = position;
-    }
-
-    /**
-     * De-selects the previously selected item in a ListView.
-     * Only one account entry can be highlighted at a time, so the previously selected
-     * one is deselected.
-     */
-    private void deselectPreviousSelectedItem() {
-        if (mSelectedViewPosition >= 0) {
-            ListView lv = getListView();
-            lv.setItemChecked(mSelectedViewPosition, false);
-            View v = getListView().getChildAt(mSelectedViewPosition - lv.getFirstVisiblePosition());
-            if (v == null) {
-                //if we just deleted a row, then the previous position is invalid
-                return;
-            }
-            v.setBackgroundColor(getResources().getColor(android.R.color.transparent));
-            v.setSelected(false);
-        }
-    }
-
     @Override
     public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
         inflater.inflate(R.menu.account_actions, menu);
@@ -627,6 +593,23 @@ public void onClick(View v) {
             }
             newTransactionButton.setFocusable(false);
         }
+
+        @Override
+        public View getView(int position, View convertView, ViewGroup parent) {
+            convertView = super.getView(position, convertView, parent);
+            TextView secondaryText = (TextView) convertView.findViewById(R.id.secondary_text);
+
+            ListView listView = (ListView) parent;
+            if (mInEditMode && listView.isItemChecked(position)){
+                convertView.setBackgroundColor(getResources().getColor(R.color.abs__holo_blue_light));
+                secondaryText.setTextColor(getResources().getColor(android.R.color.white));
+            } else {
+                convertView.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+                secondaryText.setTextColor(getResources().getColor(android.R.color.secondary_text_light_nodisable));
+            }
+
+            return convertView;
+        }
     }
 
     /**
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index 592331f8..cefafff3 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -29,6 +29,7 @@
 import android.support.v4.widget.SimpleCursorAdapter;
 import android.text.format.DateFormat;
 import android.util.Log;
+import android.util.SparseBooleanArray;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
@@ -55,7 +56,6 @@
 
 import java.text.SimpleDateFormat;
 import java.util.Date;
-import java.util.HashMap;
 import java.util.Locale;
 
 /**
@@ -97,11 +97,6 @@
 	private ActionMode mActionMode = null;
 	private boolean mInEditMode = false;
 	private long mAccountID;
-	
-	/**
-	 * Selected (checked) transactions in the list when entering ActionMode
-	 */
-	private HashMap<Integer, Long> mSelectedIds = new HashMap<Integer, Long>();
 
 	/**
 	 * Callback listener for editing transactions
@@ -141,7 +136,7 @@ public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
 				return true;
 
 			case R.id.context_menu_delete:
-				for (long id : mSelectedIds.values()) {
+				for (long id : getListView().getCheckedItemIds()) {
 					mTransactionsDbAdapter.deleteRecord(id);
 				}				
 				refreshList();
@@ -181,21 +176,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 			Bundle savedInstanceState) {
 		return inflater.inflate(R.layout.fragment_transactions_list, container, false);		
 	}
-		
-	@Override
-	public void onSaveInstanceState(Bundle outState) {
-		super.onSaveInstanceState(outState);
-		
-		int[] selectedPositions = new int[mSelectedIds.size()];
-		int i = 0;
-		for (Integer id : mSelectedIds.keySet()) {
-			if (id == null)
-				continue;
-			selectedPositions[i++] = id;			
-		}
-		outState.putIntArray(SAVED_SELECTED_ITEMS, selectedPositions);
-	}
-	
+
 	@Override
 	public void onActivityCreated(Bundle savedInstanceState) {		
 		super.onActivityCreated(savedInstanceState);
@@ -204,14 +185,22 @@ public void onActivityCreated(Bundle savedInstanceState) {
 		aBar.setDisplayShowTitleEnabled(false);
 		aBar.setDisplayHomeAsUpEnabled(true);
 
+        getListView().setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
 		setHasOptionsMenu(true);		
 	}
-	
+
+    /**
+     * Refresh the list with transactions from account with ID <code>accountId</code>
+     * @param accountId Database ID of account to load transactions from
+     */
 	public void refreshList(long accountId){
 		mAccountID = accountId;
 		refreshList();
 	}
-	
+
+    /**
+     * Reload the list of transactions and recompute account balances
+     */
 	public void refreshList(){
 		getLoaderManager().restartLoader(0, null, this);
 
@@ -296,9 +285,8 @@ public void onLoaderReset(Loader<Cursor> loader) {
 	 */
 	public void finishEditMode(){
 		mInEditMode = false;
-		deselectAllItems();
+		uncheckAllItems();
 		mActionMode = null;
-		mSelectedIds.clear();
 	}
 	
 	/**
@@ -306,57 +294,24 @@ public void finishEditMode(){
 	 * It sets the number highlighted items
 	 */
 	public void setActionModeTitle(){
-		int count = mSelectedIds.size();
+		int count = getListView().getCheckedItemIds().length; //mSelectedIds.size();
 		if (count > 0){			
 			mActionMode.setTitle(getResources().getString(R.string.title_selected, count));
 		}
 	}
 	
 	/**
-	 * Selects a transaction in the list of transaction
-	 * @param position Position of the item which was selected
-	 */
-	private void selectItem(int position){		
-		ListView lv = getListView();	
-		lv.setItemChecked(position, true);		
-		View v = lv.getChildAt(position -  lv.getFirstVisiblePosition());
-
-		v.setSelected(true);
-        v.setBackgroundColor(getResources().getColor(R.color.abs__holo_blue_light));
-        long id = lv.getItemIdAtPosition(position);
-        mSelectedIds.put(position, id);
-	}
-	
-	/**
-	 * Deselects all selected items
-	 */
-	private void deselectAllItems() {
-		Integer[] selectedItemPositions = new Integer[mSelectedIds.size()];
-		mSelectedIds.keySet().toArray(selectedItemPositions);
-		for (int position : selectedItemPositions) {
-			deselectItem(position);
-		}
-	}
-	
-	/**
-	 * Deselects an item at <code>position</code>
-	 * @param position
+	 * Unchecks all the checked items in the list
 	 */
-	private void deselectItem(int position){
-		if (position >= 0){
-			ListView listView = getListView();
-			listView.setItemChecked(position, false);
-			View v = getListView().getChildAt(position - listView.getFirstVisiblePosition());
-			if (v == null){
-				//if we just deleted a row, then the previous position is invalid
-				return;
-			}
-			v.setBackgroundColor(getResources().getColor(android.R.color.transparent));
-			((CheckBox) v.findViewById(R.id.checkbox)).setChecked(false);
-			v.setSelected(false);
-			mSelectedIds.remove(position);
-		}
+	private void uncheckAllItems() {
+        SparseBooleanArray checkedPositions = getListView().getCheckedItemPositions();
+        ListView listView = getListView();
+        for (int i = 0; i < checkedPositions.size(); i++) {
+            int position = checkedPositions.keyAt(i);
+            listView.setItemChecked(position, false);
+        }
 	}
+
 	
 	/**
 	 * Starts action mode and activates the Context ActionBar (CAB)
@@ -372,10 +327,12 @@ private void startActionMode(){
 	}
 	
 	/**
-	 * Stops action mode and deselects all selected transactions
+	 * Stops action mode and deselects all selected transactions.
+     * This method only has effect if the number of checked items is greater than 0 and {@link #mActionMode} is not null
 	 */
 	private void stopActionMode(){
-		if (mSelectedIds.size() > 0)
+        int checkedCount = getListView().getCheckedItemIds().length;
+		if (checkedCount > 0 || mActionMode == null)
 			return;
 		else
 			mActionMode.finish();
@@ -397,12 +354,7 @@ protected void showBulkMoveDialog(){
 	    DialogFragment bulkMoveFragment = new BulkMoveDialogFragment();
 	    Bundle args = new Bundle();
 	    args.putLong(ORIGIN_ACCOUNT_ID, mAccountID);
-	    long[] selectedIds = new long[mSelectedIds.size()]; 
-	    int i = 0;
-	    for (long l : mSelectedIds.values()) {
-			selectedIds[i++] = l;			
-		}
-	    args.putLongArray(SELECTED_TRANSACTION_IDS, selectedIds);
+	    args.putLongArray(SELECTED_TRANSACTION_IDS, getListView().getCheckedItemIds());
 	    bulkMoveFragment.setArguments(args);
 	    bulkMoveFragment.show(ft, "bulk_move_dialog");
 	}	
@@ -420,26 +372,37 @@ public TransactionsCursorAdapter(Context context, int layout, Cursor c,
 		
 		@Override
 		public View getView(int position, View convertView, ViewGroup parent) {
-			View view = super.getView(position, convertView, parent);
+			final View view = super.getView(position, convertView, parent);
 			final int itemPosition = position;
-			CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox);			
-			checkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
+			CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox);
+            final TextView secondaryText = (TextView) view.findViewById(R.id.secondary_text);
+
+            checkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
 				
 				@Override
 				public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
-					startActionMode();
-					getListView().setItemChecked(itemPosition, isChecked);
-					if (isChecked){
-						selectItem(itemPosition);						
-					} else {
-						deselectItem(itemPosition);
-						stopActionMode();
-					}
-					setActionModeTitle();
+                    getListView().setItemChecked(itemPosition, isChecked);
+                    if (isChecked) {
+                        startActionMode();
+                    } else {
+                        stopActionMode();
+                    }
+                    setActionModeTitle();
 				}
 			});
-			
-			return view;
+
+
+            ListView listView = (ListView) parent;
+            if (mInEditMode && listView.isItemChecked(position)){
+                view.setBackgroundColor(getResources().getColor(R.color.abs__holo_blue_light));
+                secondaryText.setTextColor(getResources().getColor(android.R.color.white));
+            } else {
+                view.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+                secondaryText.setTextColor(getResources().getColor(android.R.color.secondary_text_light_nodisable));
+                checkbox.setChecked(false);
+            }
+
+            return view;
 		}
 		
 		@Override
@@ -531,5 +494,4 @@ public Cursor loadInBackground() {
 		}		
 	}
 
-
 }
diff --git a/app/src/org/gnucash/android/util/CheckableLinearLayout.java b/app/src/org/gnucash/android/util/CheckableLinearLayout.java
new file mode 100644
index 00000000..7035250c
--- /dev/null
+++ b/app/src/org/gnucash/android/util/CheckableLinearLayout.java
@@ -0,0 +1,116 @@
+/*
+ * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.gnucash.android.util;
+
+import android.content.Context;
+import android.util.AttributeSet;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.Checkable;
+import android.widget.LinearLayout;
+
+/**
+ * An implementation of {@link android.widget.LinearLayout} which implements the {@link android.widget.Checkable} interface.
+ * This layout keeps track of its checked state or alternatively queries its child views for any {@link View} which is Checkable.
+ * If there is a Checkable child view, then that child view determines the check state of the whole layout.
+ *
+ * <p>This layout is designed for use with ListViews with a choice mode other than {@link android.widget.ListView#CHOICE_MODE_NONE}.
+ * Android requires the parent view of the row items in the list to be checkable in order to take advantage of the APIs</p>
+ * @author Ngewi Fet <ngewif@gmail.com>
+ */
+public class CheckableLinearLayout extends LinearLayout implements Checkable {
+    /**
+     * Checkable view which holds the checked state of the linear layout
+     */
+    private Checkable mCheckable = null;
+
+    /**
+     * Fallback check state of the linear layout if there is no {@link Checkable} amongst its child views.
+     */
+    private boolean mIsChecked = false;
+
+    public CheckableLinearLayout(Context context) {
+        super(context);
+    }
+
+    public CheckableLinearLayout(Context context, AttributeSet attrs) {
+        super(context, attrs);
+    }
+
+    public CheckableLinearLayout(Context context, AttributeSet attrs, int defStyle) {
+        super(context, attrs, defStyle);
+    }
+
+    /**
+     * Find any instance of a {@link Checkable} amongst the children of the linear layout and store a reference to it
+     */
+    @Override
+    protected void onFinishInflate() {
+        super.onFinishInflate();
+
+        //this prevents us from opening transactions since simply clicking on the item checks the checkable and
+        //activates action mode.
+//        mCheckable = findCheckableView(this);
+    }
+
+    /**
+     * Iterates through the child views of <code>parent</code> to an arbitrary depth and returns the first
+     * {@link Checkable} view found
+     * @param parent ViewGroup in which to search for Checkable children
+     * @return First {@link Checkable} child view of parent found
+     */
+    private Checkable findCheckableView(ViewGroup parent){
+        for (int i = 0; i < parent.getChildCount(); i++) {
+            View childView = parent.getChildAt(i);
+
+            if (childView instanceof Checkable)
+                return (Checkable)childView;
+
+            if (childView instanceof ViewGroup){
+                Checkable checkable = findCheckableView((ViewGroup)childView);
+                if (checkable != null){
+                    return checkable;
+                }
+            }
+        }
+        return null;
+    }
+
+    @Override
+    public void setChecked(boolean b) {
+        if (mCheckable != null){
+            mCheckable.setChecked(b);
+        } else {
+            mIsChecked = b;
+        }
+        refreshDrawableState();
+    }
+
+    @Override
+    public boolean isChecked() {
+        return (mCheckable != null) ? mCheckable.isChecked() : mIsChecked;
+    }
+
+    @Override
+    public void toggle() {
+        if (mCheckable != null){
+            mCheckable.toggle();
+        } else {
+            mIsChecked = !mIsChecked;
+        }
+        refreshDrawableState();
+    }
+}

From a81802509b2a4e44049db50b340081950422bd6a Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 29 Aug 2013 17:52:34 +0200
Subject: [PATCH 09/43] Upgraded actionbarsherlock library to 4.4.0 - closes
 #79 Updated app versions for next iteration

---
 app/AndroidManifest.xml                 | 6 +++---
 app/pom.xml                             | 4 ++--
 app/res/layout/widget_configuration.xml | 1 +
 app/res/values-v14/styles.xml           | 3 +++
 app/res/values/colors.xml               | 1 +
 app/res/values/styles.xml               | 2 ++
 integration-tests/pom.xml               | 4 ++--
 pom.xml                                 | 2 +-
 8 files changed, 15 insertions(+), 8 deletions(-)

diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 75c262da..f26054c6 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="13"
-    android:versionName="1.2.3" >
+    android:versionCode="14"
+    android:versionName="1.2.4.beta" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
@@ -61,7 +61,7 @@
         </activity>
         <activity android:name=".ui.widget.WidgetConfigurationActivity"
             android:label="@string/label_widget_configuration"
-            android:theme="@style/Theme.Sherlock.Light.Dialog"
+            android:theme="@style/Dialog.WidgetConfiguration"
             android:excludeFromRecents="true">
 		    <intent-filter>
 		        <action android:name="android.appwidget.action.APPWIDGET_CONFIGURE"/>
diff --git a/app/pom.xml b/app/pom.xml
index b713d6da..b92cf988 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -22,13 +22,13 @@
     <description>Gnucash Android companion application</description>
 
     <parent>
-        <version>1.2.3</version>
+        <version>1.2.4-SNAPSHOT</version>
         <groupId>org.gnucash.android</groupId>
         <artifactId>gnucash-android-parent</artifactId>
     </parent>
 
     <properties>
-        <abs.version>4.2.0</abs.version>
+        <abs.version>4.4.0</abs.version>
     </properties>
 
     <dependencies>
diff --git a/app/res/layout/widget_configuration.xml b/app/res/layout/widget_configuration.xml
index 9439e5fa..06339201 100644
--- a/app/res/layout/widget_configuration.xml
+++ b/app/res/layout/widget_configuration.xml
@@ -18,6 +18,7 @@
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    android:minWidth="250dp"
     android:orientation="vertical" >
     
     <TextView
diff --git a/app/res/values-v14/styles.xml b/app/res/values-v14/styles.xml
index e75f71b4..c63a8719 100644
--- a/app/res/values-v14/styles.xml
+++ b/app/res/values-v14/styles.xml
@@ -3,4 +3,7 @@
     <style name="ImageButton.Transparent" parent="@android:style/Widget.ImageButton">
         <item name="android:background">?android:attr/selectableItemBackground</item>
     </style>
+
+    <style name="Dialog.WidgetConfiguration" parent="android:Theme.Holo.Light.Dialog">
+    </style>
 </resources>
\ No newline at end of file
diff --git a/app/res/values/colors.xml b/app/res/values/colors.xml
index 5b56aa4e..aada90ef 100644
--- a/app/res/values/colors.xml
+++ b/app/res/values/colors.xml
@@ -18,4 +18,5 @@
     <color name="debit_red">#c11b17</color>
     <color name="credit_green">#4cc552</color>
     <color name="light_gray">#FFAAAAAA</color>
+    <color name="abs__holo_blue_light">#ff33b5e5</color>
 </resources>
\ No newline at end of file
diff --git a/app/res/values/styles.xml b/app/res/values/styles.xml
index 1480a43b..5cb3cbfb 100644
--- a/app/res/values/styles.xml
+++ b/app/res/values/styles.xml
@@ -85,4 +85,6 @@
         <item name="android:background">@drawable/selected_background</item>
     </style>
 
+    <style name="Dialog.WidgetConfiguration" parent="android:Theme.Dialog">
+    </style>
 </resources>
\ No newline at end of file
diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index cf5129f9..d2e5aca3 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -17,7 +17,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <parent>
-		<version>1.2.3</version>
+		<version>1.2.4-SNAPSHOT</version>
 		<groupId>org.gnucash.android</groupId>
 		<artifactId>gnucash-android-parent</artifactId>
 	</parent>
@@ -65,7 +65,7 @@
             <!-- optional: compile time dependency, in this case so that we can read from the R.java for example. -->
             <groupId>org.gnucash.android</groupId>
             <artifactId>gnucash-android</artifactId>
-            <version>1.1.3-SNAPSHOT</version>
+            <version>1.2.4-SNAPSHOT</version>
             <scope>provided</scope>
             <type>jar</type>
         </dependency>
diff --git a/pom.xml b/pom.xml
index cbd81da0..dede3110 100644
--- a/pom.xml
+++ b/pom.xml
@@ -17,7 +17,7 @@
 
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
-	<version>1.2.3</version>
+	<version>1.2.4-SNAPSHOT</version>
     <groupId>org.gnucash.android</groupId>
     <artifactId>gnucash-android-parent</artifactId>
     <name>GnuCash Android parent</name>

From 03ff7518f7a36373cd71ca6ef7be37cabe19217d Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 30 Aug 2013 00:06:24 +0200
Subject: [PATCH 10/43] Loads any transaction as a template when selected for
 autocomplete - fixes #109, closes #45 Extracted string resources for
 internationalization - closes #106 Show fully qualified account names where
 relevant (closes #99) Fixed bug in getting the parent account unique ID

---
 app/res/layout/activity_transactions.xml           |  4 +-
 app/res/values-de/strings.xml                      |  2 +
 app/res/values-el/strings.xml                      |  2 +
 app/res/values-es-rMX/strings.xml                  |  2 +
 app/res/values-es/strings.xml                      |  2 +
 app/res/values-fr/strings.xml                      |  2 +
 app/res/values-hu/strings.xml                      |  2 +
 app/res/values-it/strings.xml                      |  2 +
 app/res/values-nb/strings.xml                      |  2 +
 app/res/values-nl/strings.xml                      |  2 +
 app/res/values-pt-rBR/strings.xml                  |  2 +
 app/res/values-ru/strings.xml                      |  2 +
 app/res/values-zh/strings.xml                      |  2 +
 app/res/values/strings.xml                         |  2 +
 .../org/gnucash/android/db/AccountsDbAdapter.java  | 64 ++++++++++++++++++++--
 .../ui/transactions/BulkMoveDialogFragment.java    | 13 ++---
 .../ui/transactions/NewTransactionFragment.java    | 27 +++++----
 .../ui/transactions/TransactionsActivity.java      |  7 +--
 .../android/util/CheckableLinearLayout.java        |  2 +-
 .../util/QualifiedAccountNameCursorAdapter.java    | 49 +++++++++++++++++
 20 files changed, 160 insertions(+), 32 deletions(-)
 create mode 100644 app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java

diff --git a/app/res/layout/activity_transactions.xml b/app/res/layout/activity_transactions.xml
index 2056b145..a8045a07 100644
--- a/app/res/layout/activity_transactions.xml
+++ b/app/res/layout/activity_transactions.xml
@@ -29,7 +29,7 @@
             android:background="@android:color/darker_gray"
             android:textColor="@android:color/white"
             android:visibility="gone"
-            android:text="Sub-Accounts"
+            android:text="@string/section_header_accounts"
             />
 
     <FrameLayout android:id="@+id/sub_accounts_container"
@@ -45,7 +45,7 @@
             android:paddingLeft="10dp"
             android:background="@android:color/darker_gray"
             android:textColor="@android:color/white"
-            android:text="Transactions"
+            android:text="@string/section_header_transactions"
             />
 
     <FrameLayout android:id="@+id/transactions_container"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index e4383327..e8cfae77 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -337,6 +337,8 @@
     <string name="toast_all_transactions_deleted">All transactions successfully deleted!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 0a2dd7b7..931d8b10 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -351,6 +351,8 @@
 	 !</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index eca2e8c8..ea13bd20 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -335,6 +335,8 @@
     <string name="toast_all_transactions_deleted">&#161;Todas las transacciones han sido borradas con exit&#243;samente!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index ada1195a..b075baf1 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -335,6 +335,8 @@
     <string name="toast_all_transactions_deleted">Todas las transacciones han sido borradas con &#233;xito</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index 72750604..02501a36 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -333,6 +333,8 @@
     <string name="toast_all_transactions_deleted">Toutes les transactions ont &#233;t&#233; supprim&#233;es avec succ&#232;s!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index e8c0ea15..0f3530e2 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -336,6 +336,8 @@
     <string name="toast_all_transactions_deleted">All transactions successfully deleted!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 5ff10ff8..6db9c74d 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -336,6 +336,8 @@
     <string name="toast_all_transactions_deleted">Tutte le transazioni sono state eliminate!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 2f4efc7e..0da9be02 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -338,6 +338,8 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="toast_all_transactions_deleted">Alle transaksjoner slettet!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 1980b246..2bb33c70 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -337,6 +337,8 @@
     <string name="toast_all_transactions_deleted">All transactions successfully deleted!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 228f9409..18c6af87 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -335,6 +335,8 @@
     <string name="toast_all_transactions_deleted">Todas as transaes foram deletadas com sucesso!</string>
     <string name="title_progress_importing_accounts">Importando contas</string>
     <string name="toast_tap_again_to_confirm_delete">Toque novamente para confirmar. TODAS as entradas sero deletadas!!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 47d5d4c9..2ddcf19e 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -333,6 +333,8 @@
     <string name="toast_all_transactions_deleted">  !</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 797c2f01..76fcf0a3 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -510,6 +510,8 @@
     <string name="toast_all_transactions_deleted"></string>
     <string name="title_progress_importing_accounts"></string>
     <string name="toast_tap_again_to_confirm_delete"></string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 6e4c0aab..0417f258 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -533,6 +533,8 @@
     <string name="toast_all_transactions_deleted">All transactions successfully deleted!</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
+    <string name="section_header_transactions">Transactions</string>
+    <string name="section_header_accounts">Sub-Accounts</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 472f4e66..c1cbc308 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -35,6 +35,10 @@
  *
  */
 public class AccountsDbAdapter extends DatabaseAdapter {
+    /**
+     * Separator used for account name hierarchies between parent and child accounts
+     */
+    public static final String ACCOUNT_NAME_SEPARATOR = "::";
 
 	/**
 	 * Transactions database adapter for manipulating transactions associated with accounts
@@ -209,7 +213,7 @@ public String getParentAccountUID(String uid){
 		String result = null;
 		if (cursor != null && cursor.moveToFirst()){
 			Log.d(TAG, "Account already exists. Returning existing id");
-			result = cursor.getString(0); //0 because only one row was requested
+			result = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_PARENT_ACCOUNT_UID));
 
 			cursor.close();
 		}
@@ -329,15 +333,19 @@ public String getName(long accountID) {
 	}
 	
 	/**
-	 * Returns a cursor to all account records in the database
+	 * Returns a cursor to all account records in the database.
+     * GnuCash ROOT accounts are ignored
 	 * @return {@link Cursor} to all account records
 	 */
     @Override
 	public Cursor fetchAllRecords(){
 		Log.v(TAG, "Fetching all accounts from db");
-        String selection =  DatabaseHelper.KEY_TYPE + " != " + "'ROOT'";
+        String selection =  DatabaseHelper.KEY_TYPE + " != ?" ;
 		Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
-                null, selection, null, null, null,
+                null,
+                selection,
+                new String[]{AccountType.ROOT.toString()},
+                null, null,
                 DatabaseHelper.KEY_NAME + " ASC");
 		return cursor;
 	}
@@ -538,7 +546,53 @@ public String getCurrencyCode(long id){
 	public String getCurrencyCode(String accountUID){
 		return getCurrencyCode(getAccountID(accountUID));
 	}
-	
+
+    public String getAccountName(String accountUID){
+        Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_NAME},
+                DatabaseHelper.KEY_UID + " = ?",
+                new String[]{accountUID}, null, null, null);
+
+        if (cursor == null || cursor.getCount() < 1){
+            return null;
+        } else {  //account UIDs should be unique
+            cursor.moveToFirst();
+        }
+
+        String accountName = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_NAME));
+        cursor.close();
+
+        return accountName;
+    }
+
+    /**
+     * Returns the full account name including the account hierarchy (parent accounts)
+     * @param accountUID Unique ID of account
+     * @return Fully qualified (with parent hierarchy) account name
+     */
+    public String getFullyQualifiedAccountName(String accountUID){
+        String accountName = getAccountName(accountUID);
+        String parentAccountUID = getParentAccountUID(accountUID);
+
+        if (parentAccountUID == null || parentAccountUID.equalsIgnoreCase(getGnuCashRootAccountUID())){
+            return accountName;
+        }
+
+        String parentAccountName = getFullyQualifiedAccountName(parentAccountUID);
+
+        return parentAccountName + ACCOUNT_NAME_SEPARATOR + accountName;
+    }
+
+    /**
+     * Overloaded convenience method.
+     * Simply resolves the account UID and calls {@link #getFullyQualifiedAccountName(String)}
+     * @param accountId Database record ID of account
+     * @return Fully qualified (with parent hierarchy) account name
+     */
+    public String getFullyQualifiedAccountName(long accountId){
+        return getFullyQualifiedAccountName(getAccountUID(accountId));
+    }
+
 	/**
 	 * Deletes all accounts and their transactions from the database
 	 */
diff --git a/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java b/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
index c526bbcc..b9a14401 100644
--- a/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
@@ -34,6 +34,7 @@
 import android.widget.Button;
 import android.widget.Spinner;
 import android.widget.Toast;
+import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
 /**
  * Dialog fragment for moving transactions from one account to another
@@ -102,15 +103,9 @@ public void onActivityCreated(Bundle savedInstanceState) {
 		
 		mAccountsDbAdapter = new AccountsDbAdapter(getActivity());
 		Cursor cursor = mAccountsDbAdapter.fetchAllRecords();
-		
-		String[] from = new String[] {DatabaseHelper.KEY_NAME};
-		int[] to = new int[] {android.R.id.text1};
-		SimpleCursorAdapter mCursorAdapter = new SimpleCursorAdapter(getActivity(), 
-				android.R.layout.simple_spinner_item, 
-				cursor,
-				from,
-				to, 
-				0);
+
+		SimpleCursorAdapter mCursorAdapter = new QualifiedAccountNameCursorAdapter(getActivity(),
+                android.R.layout.simple_spinner_item, cursor);
 		mCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
 		mDestinationAccountSpinner.setAdapter(mCursorAdapter);
 		setListeners();
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index c1c31d6d..a066078f 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -22,11 +22,7 @@
 import java.text.DecimalFormat;
 import java.text.NumberFormat;
 import java.text.ParseException;
-import java.util.Calendar;
-import java.util.Currency;
-import java.util.Date;
-import java.util.GregorianCalendar;
-import java.util.Locale;
+import java.util.*;
 
 import android.os.Handler;
 import android.widget.*;
@@ -67,6 +63,7 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
+import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
 /**
  * Fragment for creating or editing transactions
@@ -256,6 +253,17 @@ public Cursor runQuery(CharSequence name) {
             }
         });
 
+        mNameEditText.setOnItemClickListener(new AdapterView.OnItemClickListener() {
+            @Override
+            public void onItemClick(AdapterView<?> adapterView, View view, int position, long id) {
+                mTransaction = mTransactionsDbAdapter.getTransaction(id);
+                mTransaction.setUID(UUID.randomUUID().toString());
+                long accountId = ((TransactionsActivity)getSherlockActivity()).getCurrentAccountID();
+                mTransaction.setAccountUID(mTransactionsDbAdapter.getAccountUID(accountId));
+                initializeViewsWithTransaction();
+            }
+        });
+
         mNameEditText.setAdapter(adapter);
     }
 
@@ -326,12 +334,9 @@ private void updateTransferAccountsList(){
 							DatabaseHelper.KEY_CURRENCY_CODE + " = '" + mAccountsDbAdapter.getCurrencyCode(accountId) + "')";
 
 		mCursor = mAccountsDbAdapter.fetchAccounts(conditions);
-		
-		String[] from = new String[] {DatabaseHelper.KEY_NAME};
-		int[] to = new int[] {android.R.id.text1};
-		mCursorAdapter = new SimpleCursorAdapter(getActivity(), 
-				android.R.layout.simple_spinner_item, 
-				mCursor, from, to, 0);
+
+        mCursorAdapter = new QualifiedAccountNameCursorAdapter(getActivity(),
+                android.R.layout.simple_spinner_item, mCursor);
 		mCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);		
 		mDoubleAccountSpinner.setAdapter(mCursorAdapter);
 	}
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 90c97299..5fead01e 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -42,6 +42,7 @@
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.util.OnAccountClickedListener;
 import org.gnucash.android.util.OnTransactionClickedListener;
+import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
 /**
  * Activity for displaying, creating and editing transactions
@@ -187,10 +188,8 @@ private void setupActionBarNavigation() {
 		// set up spinner adapter for navigation list
 		mAccountsDbAdapter = new AccountsDbAdapter(this);
 		Cursor accountsCursor = mAccountsDbAdapter.fetchAllRecords();
-		mSpinnerAdapter = new SimpleCursorAdapter(getSupportActionBar()
-				.getThemedContext(), R.layout.sherlock_spinner_item,
-				accountsCursor, new String[] { DatabaseHelper.KEY_NAME },
-				new int[] { android.R.id.text1 }, 0);
+		mSpinnerAdapter = new QualifiedAccountNameCursorAdapter(getSupportActionBar().getThemedContext(),
+                R.layout.sherlock_spinner_item, accountsCursor);
 		((ResourceCursorAdapter) mSpinnerAdapter)
 				.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);
 		ActionBar actionBar = getSupportActionBar();
diff --git a/app/src/org/gnucash/android/util/CheckableLinearLayout.java b/app/src/org/gnucash/android/util/CheckableLinearLayout.java
index 7035250c..5dc111d6 100644
--- a/app/src/org/gnucash/android/util/CheckableLinearLayout.java
+++ b/app/src/org/gnucash/android/util/CheckableLinearLayout.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java b/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
new file mode 100644
index 00000000..c32c56ff
--- /dev/null
+++ b/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
@@ -0,0 +1,49 @@
+/*
+ * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.util;
+
+import android.content.Context;
+import android.database.Cursor;
+import android.support.v4.widget.SimpleCursorAdapter;
+import android.text.TextUtils;
+import android.view.View;
+import android.widget.TextView;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.DatabaseAdapter;
+import org.gnucash.android.db.DatabaseHelper;
+
+/**
+ * @author Ngewi
+ */
+public class QualifiedAccountNameCursorAdapter extends SimpleCursorAdapter {
+    private AccountsDbAdapter mAccountDbAdapter;
+
+    public QualifiedAccountNameCursorAdapter(Context context, int layout, Cursor c) {
+        super(context, layout, c,
+                new String[] {DatabaseHelper.KEY_NAME},
+                new int[] {android.R.id.text1}, 0);
+        mAccountDbAdapter = new AccountsDbAdapter(context);
+    }
+
+    @Override
+    public void bindView(View view, Context context, Cursor cursor) {
+        super.bindView(view, context, cursor);
+        TextView textView = (TextView) view.findViewById(android.R.id.text1);
+        textView.setText(mAccountDbAdapter.getFullyQualifiedAccountName(cursor.getLong(DatabaseAdapter.COLUMN_ROW_ID)));
+        textView.setEllipsize(TextUtils.TruncateAt.MIDDLE);
+    }
+}

From 84aba53c42b979b0d7bbec6a6051370c2cd2dc9f Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 30 Aug 2013 15:16:26 +0200
Subject: [PATCH 11/43] Fixed: transaction description field does not proceed
 to next input on clicking "next" (closes #116) Sorted sub-accounts in
 alphabetical order Use full qualified account names in
 WidgetConfigurationActivity dialog Prevent setting an account's parent to one
 of it's children

---
 app/res/layout/fragment_new_transaction.xml        |  3 ++
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  9 +++--
 .../android/ui/accounts/AddAccountFragment.java    | 40 +++++++++++++++-------
 .../ui/widget/WidgetConfigurationActivity.java     | 12 +++----
 4 files changed, 40 insertions(+), 24 deletions(-)

diff --git a/app/res/layout/fragment_new_transaction.xml b/app/res/layout/fragment_new_transaction.xml
index 7388922a..847125c4 100644
--- a/app/res/layout/fragment_new_transaction.xml
+++ b/app/res/layout/fragment_new_transaction.xml
@@ -34,6 +34,8 @@
 	        android:ems="10" 
 	        android:layout_marginBottom="@dimen/dialog_padding"
 	        android:inputType="textCapSentences"
+            android:imeOptions="actionNext"
+            android:nextFocusDown="@+id/input_transaction_amount"
 	        style="@style/ListItemText" />
 	
 	    <LinearLayout 
@@ -62,6 +64,7 @@
 		        android:layout_marginBottom="@dimen/dialog_padding"
 		        android:hint="@string/label_transaction_amount"
 		        android:inputType="number"
+                android:nextFocusDown="@+id/input_description"
 		        android:textColor="@color/debit_red"
 		        style="@style/ListItemText" />
 		    
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index c1cbc308..f0e58e6b 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -203,13 +203,15 @@ public long getAccountID(String uid){
 	/**
 	 * Returns the  unique ID of the parent account of the account with unique ID <code>uid</code>
 	 * If the account has no parent, null is returned
-	 * @param uid Unique Identifier of account whose parent is to be returned
+	 * @param uid Unique Identifier of account whose parent is to be returned. Should not be null
 	 * @return DB record UID of the parent account, null if the account has no parent
 	 */
 	public String getParentAccountUID(String uid){
 		Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME, 
 				new String[] {DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_PARENT_ACCOUNT_UID}, 
-				DatabaseHelper.KEY_UID + " = '" + uid + "'", null, null, null, null);
+				DatabaseHelper.KEY_UID + " = ?",
+                new String[]{uid},
+                null, null, null, null);
 		String result = null;
 		if (cursor != null && cursor.moveToFirst()){
 			Log.d(TAG, "Account already exists. Returning existing id");
@@ -432,7 +434,7 @@ public Cursor fetchSubAccounts(long accountId){
                 null,
                 DatabaseHelper.KEY_PARENT_ACCOUNT_UID + " = ?",
                 new String[]{getAccountUID(accountId)},
-                null, null, null);
+                null, null, DatabaseHelper.KEY_NAME + " ASC");
     }
 
     /**
@@ -440,6 +442,7 @@ public Cursor fetchSubAccounts(long accountId){
      * @return Cursor to the top level accounts
      */
     public Cursor fetchTopLevelAccounts(){
+        //condition which selects accounts with no parent, whose UID is not ROOT and whose name is not ROOT
         StringBuilder condition = new StringBuilder("(");
         condition.append(DatabaseHelper.KEY_PARENT_ACCOUNT_UID + " IS NULL");
         condition.append(" OR ");
diff --git a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
index 1dfe6a46..efe149c6 100644
--- a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
@@ -49,6 +49,7 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
+import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
 /**
  * Fragment used for creating and editing accounts
@@ -163,15 +164,12 @@ public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
 	public void onActivityCreated(Bundle savedInstanceState) {
 		super.onActivityCreated(savedInstanceState);
 		
-		ArrayAdapter<String> arrayAdapter = new ArrayAdapter<String>(
+		ArrayAdapter<String> currencyArrayAdapter = new ArrayAdapter<String>(
 				getActivity(), 
 				android.R.layout.simple_spinner_item, 
 				getResources().getStringArray(R.array.currency_names));		
-		arrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
-		mCurrencySpinner.setAdapter(arrayAdapter);
-
-        loadParentAccountList();
-        loadAccountTypesList();
+		currencyArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+		mCurrencySpinner.setAdapter(currencyArrayAdapter);
 
         mSelectedAccountId = getArguments().getLong(TransactionsListFragment.SELECTED_ACCOUNT_ID);
         if (mSelectedAccountId > 0) {
@@ -179,6 +177,10 @@ public void onActivityCreated(Bundle savedInstanceState) {
             getSherlockActivity().getSupportActionBar().setTitle(R.string.title_edit_account);
         }
 
+        //need to load the cursor adapters for the spinners before initializing the views
+        loadParentAccountList();
+        loadAccountTypesList();
+
         if (mAccount != null){
             initializeViewsWithAccount(mAccount);
         } else {
@@ -268,26 +270,38 @@ public boolean onOptionsItemSelected(MenuItem item) {
 		
 		return false;
 	}
-	
+
+    /**
+     * Loads the list of possible accounts which can be set as a parent account and initializes the spinner
+     */
 	private void loadParentAccountList(){
-		String condition = DatabaseHelper.KEY_ROW_ID + "!=" + mSelectedAccountId;
+        String condition = null;
+        if (mAccount != null){  //if editing an account
+            // limit cyclic account hierarchies. Still technically possible since we don't forbid descendant accounts
+            condition = "(" + DatabaseHelper.KEY_PARENT_ACCOUNT_UID + " IS NULL "
+                    + " OR " + DatabaseHelper.KEY_PARENT_ACCOUNT_UID + " != '" + mAccount.getUID() + "')"
+                    + " AND " + DatabaseHelper.KEY_ROW_ID + "!=" + mSelectedAccountId;
+            //TODO: Limit all descendants of the account to eliminate the possibility of cyclic hierarchy
+        }
+
 		mCursor = mAccountsDbAdapter.fetchAccounts(condition);
-		if (mCursor.getCount() <= 0){
+		if (mCursor == null || mCursor.getCount() <= 0){
             final View view = getView();
             view.findViewById(R.id.layout_parent_account).setVisibility(View.GONE);
             view.findViewById(R.id.label_parent_account).setVisibility(View.GONE);
         }
 
-		String[] from = new String[] {DatabaseHelper.KEY_NAME};
-		int[] to = new int[] {android.R.id.text1};
-		mCursorAdapter = new SimpleCursorAdapter(
+		mCursorAdapter = new QualifiedAccountNameCursorAdapter(
 				getActivity(), 
 				android.R.layout.simple_spinner_item, 
-				mCursor, from, to, 0);
+				mCursor);
 		mCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);		
 		mParentAccountSpinner.setAdapter(mCursorAdapter);
 	}
 
+    /**
+     * Loads the list of account types into the account type selector spinner
+     */
     private void loadAccountTypesList(){
         String[] accountTypes = getResources().getStringArray(R.array.account_type_entry_values);
         ArrayAdapter<String> accountTypesAdapter = new ArrayAdapter<String>(
diff --git a/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java b/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
index d56dc216..ee977bb3 100644
--- a/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
+++ b/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
@@ -46,6 +46,7 @@
 import android.widget.RemoteViews;
 import android.widget.Spinner;
 import android.widget.Toast;
+import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
 /**
  * Activity for configuration which account to diplay on a widget. 
@@ -70,9 +71,7 @@ public void onCreate(Bundle savedInstanceState) {
 		mAccountsSpinner = (Spinner) findViewById(R.id.input_accounts_spinner);
 		mOkButton 		= (Button) findViewById(R.id.btn_save);
 		mCancelButton 	= (Button) findViewById(R.id.btn_cancel);
-		
-		String[] from = new String[] {DatabaseHelper.KEY_NAME};
-		int[] to = new int[] {android.R.id.text1};
+
 		mAccountsDbAdapter = new AccountsDbAdapter(this);
 		Cursor cursor = mAccountsDbAdapter.fetchAllRecords();
 		
@@ -81,12 +80,9 @@ public void onCreate(Bundle savedInstanceState) {
 			finish();
 		}
 			
-		mCursorAdapter = new SimpleCursorAdapter(this, 
+		mCursorAdapter = new QualifiedAccountNameCursorAdapter(this,
 				android.R.layout.simple_spinner_item, 
-				cursor,
-				from,
-				to, 
-				0);
+				cursor);
 		mCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
 		mAccountsSpinner.setAdapter(mCursorAdapter);
 		

From 1b224e59d213e0d2cd24f26102a3ac4c473be15a Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 30 Aug 2013 16:28:41 +0200
Subject: [PATCH 12/43] Added support for placeholder accounts (closes #113)
 Placeholder accounts do not allow transactions to be added to them. They will
 also properly be detected during import of the GnuCash account structure
 Filter out placeholder accounts from double account spinner field

---
 app/src/org/gnucash/android/data/Account.java      | 23 ++++++++++
 .../org/gnucash/android/db/AccountsDbAdapter.java  | 33 ++++++++++++++-
 .../org/gnucash/android/db/DatabaseAdapter.java    |  9 ++--
 app/src/org/gnucash/android/db/DatabaseHelper.java | 16 +++++--
 .../android/ui/accounts/AccountsListFragment.java  |  4 +-
 .../ui/transactions/NewTransactionFragment.java    | 29 ++++++-------
 .../ui/transactions/TransactionsActivity.java      | 29 ++++++++-----
 .../android/util/GnucashAccountXmlHandler.java     | 49 +++++++++++++++++++---
 8 files changed, 151 insertions(+), 41 deletions(-)

diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index 7c325411..c1b4b4ee 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -91,6 +91,12 @@
 	 */
 	private String mParentAccountUID;
 
+    /**
+     * Flag for placeholder accounts.
+     * These accounts cannot have transactions
+     */
+    private boolean mPlaceholderAccount;
+
 	/**
 	 * An extra key for passing the currency code (according ISO 4217) in an intent
 	 */
@@ -315,6 +321,23 @@ public String getParentUID() {
 		
 	}
 
+    /**
+     * Returns <code>true</code> if this account is a placeholder account, <code>false</code> otherwise.
+     * @return <code>true</code> if this account is a placeholder account, <code>false</code> otherwise
+     */
+    public boolean isPlaceholderAccount(){
+        return mPlaceholderAccount;
+    }
+
+    /**
+     * Sets the placeholder flag for this account.
+     * Placeholder accounts cannot have transactions
+     * @param isPlaceholder Boolean flag indicating if the account is a placeholder account or not
+     */
+    public void setPlaceHolderFlag(boolean isPlaceholder){
+        mPlaceholderAccount = isPlaceholder;
+    }
+
 	/**
 	 * Maps the <code>accountType</code> to the corresponding account type.
 	 * <code>accountType</code> have corresponding values to GnuCash desktop
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index f0e58e6b..fb742ebc 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -74,7 +74,8 @@ public long addAccount(Account account){
 		contentValues.put(DatabaseHelper.KEY_UID, account.getUID());
 		contentValues.put(DatabaseHelper.KEY_CURRENCY_CODE, account.getCurrency().getCurrencyCode());
 		contentValues.put(DatabaseHelper.KEY_PARENT_ACCOUNT_UID, account.getParentUID());
-		
+		contentValues.put(DatabaseHelper.KEY_PLACEHOLDER, account.isPlaceholderAccount() ? 1 : 0);
+
 		long rowId = -1;
 		if ((rowId = getAccountID(account.getUID())) > 0){
 			//if account already exists, then just update
@@ -178,6 +179,7 @@ public Account buildAccountInstance(Cursor c){
 		//else the transactions end up with a different currency from the account
 		account.setCurrency(Currency.getInstance(c.getString(DatabaseAdapter.COLUMN_CURRENCY_CODE)));
 		account.setTransactions(mTransactionsAdapter.getAllTransactionsForAccount(uid));
+        account.setPlaceHolderFlag(c.getInt(DatabaseAdapter.COLUMN_PLACEHOLDER) == 1);
 		return account;
 	}
 		
@@ -596,6 +598,35 @@ public String getFullyQualifiedAccountName(long accountId){
         return getFullyQualifiedAccountName(getAccountUID(accountId));
     }
 
+    /**
+     * Returns <code>true</code> if the account with unique ID <code>accountUID</code> is a placeholder account.
+     * @param accountUID Unique identifier of the account
+     * @return <code>true</code> if the account is a placeholder account, <code>false</code> otherwise
+     */
+    public boolean isPlaceholderAccount(String accountUID){
+        Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_PLACEHOLDER},
+                DatabaseHelper.KEY_UID + " = ?",
+                new String[]{accountUID}, null, null, null);
+
+        if (cursor == null || !cursor.moveToFirst()){
+            return false;
+        }
+        boolean isPlaceholder = cursor.getInt(cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_PLACEHOLDER)) == 1;
+        cursor.close();
+
+        return isPlaceholder;
+    }
+
+    /**
+     * Convenience method, resolves the account unique ID and calls {@link #isPlaceholderAccount(String)}
+     * @param accountId Database row ID of the account
+     * @return <code>true</code> if the account is a placeholder account, <code>false</code> otherwise
+     */
+    public boolean isPlaceholderAccount(long accountId){
+        return isPlaceholderAccount(getAccountUID(accountId));
+    }
+
 	/**
 	 * Deletes all accounts and their transactions from the database
 	 */
diff --git a/app/src/org/gnucash/android/db/DatabaseAdapter.java b/app/src/org/gnucash/android/db/DatabaseAdapter.java
index 7fa6b42f..88da4d42 100644
--- a/app/src/org/gnucash/android/db/DatabaseAdapter.java
+++ b/app/src/org/gnucash/android/db/DatabaseAdapter.java
@@ -42,7 +42,7 @@
 	public static final int COLUMN_NAME 	= 2;
 	public static final int COLUMN_TYPE 	= 3;
 	
-	//columns specific to transactions
+	//columns indices specific to transactions
 	public static final int COLUMN_AMOUNT 		= 4;
 	public static final int COLUMN_DESCRIPTION 	= 5;
 	public static final int COLUMN_TIMESTAMP 	= 6;
@@ -50,9 +50,10 @@
 	public static final int COLUMN_EXPORTED 	= 8;
 	public static final int COLUMN_DOUBLE_ENTRY_ACCOUNT_UID = 9;
 	
-	//columns specific to accounts
-	public static final int COLUMN_CURRENCY_CODE = 4;
-	public static final int COLUMN_PARENT_ACCOUNT_UID = 5;
+	//columns indices specific to accounts
+	public static final int COLUMN_CURRENCY_CODE        = 4;
+	public static final int COLUMN_PARENT_ACCOUNT_UID   = 5;
+    public static final int COLUMN_PLACEHOLDER          = 6;
 	
 	/**
 	 * {@link DatabaseHelper} for creating and opening the database
diff --git a/app/src/org/gnucash/android/db/DatabaseHelper.java b/app/src/org/gnucash/android/db/DatabaseHelper.java
index 20ee6629..c1efe90a 100644
--- a/app/src/org/gnucash/android/db/DatabaseHelper.java
+++ b/app/src/org/gnucash/android/db/DatabaseHelper.java
@@ -46,7 +46,7 @@
 	 * Database version.
 	 * With any change to the database schema, this number must increase
 	 */
-	private static final int DATABASE_VERSION = 2;
+	private static final int DATABASE_VERSION = 3;
 	
 	/**
 	 * Name of accounts table
@@ -123,7 +123,9 @@
 	 * Flag for exported transactions in the database
 	 */
 	public static final String KEY_EXPORTED		= "is_exported";
-	
+
+    public static final String KEY_PLACEHOLDER  = "is_placeholder";
+
 	/**********************************************************************************************************
 	//if you modify the order of the columns (i.e. the way they are created), 
 	//make sure to modify the indices in DatabaseAdapter
@@ -139,6 +141,7 @@
 			+ KEY_TYPE 	+ " varchar(255) not null, "			
 			+ KEY_CURRENCY_CODE + " varchar(255) not null, "
 			+ KEY_PARENT_ACCOUNT_UID + " varchar(255), "
+            + KEY_PLACEHOLDER + " tinyint default 0, "
 			+ "UNIQUE (" + KEY_UID + ")"	
 			+ ");";
 	
@@ -204,7 +207,14 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
 			ContentValues cv = new ContentValues();
 			cv.put(KEY_TYPE, AccountType.CASH.toString());
 			db.update(ACCOUNTS_TABLE_NAME, cv, null, null);
-				
+
+            if (oldVersion == 2 && newVersion == 3){
+                Log.i(TAG, "Adding flag for placeholder accounts");
+                String addPlaceHolderAccountFlagSql = "ALTER TABLE " + ACCOUNTS_TABLE_NAME +
+                        " ADD COLUMN " + KEY_PLACEHOLDER + " tinyint default 0";
+
+                db.execSQL(addPlaceHolderAccountFlagSql);
+            }
 		} else {
 			Log.i(TAG, "Cannot downgrade database.");
 		}
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 071272c5..e1c68de6 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -575,8 +575,10 @@ public void bindView(View v, Context context, Cursor cursor) {
                     .findViewById(R.id.transactions_summary);
             new AccountBalanceTask(summary, getActivity()).execute(accountId);
 
+            boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(accountId);
+
             ImageButton newTransactionButton = (ImageButton) v.findViewById(R.id.btn_new_transaction);
-            if (inSubAcccount()){
+            if (isPlaceholderAccount){
                 newTransactionButton.setVisibility(View.GONE);
                 v.findViewById(R.id.vertical_line).setVisibility(View.GONE);
             } else {
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index a066078f..dbd8b896 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -24,7 +24,6 @@
 import java.text.ParseException;
 import java.util.*;
 
-import android.os.Handler;
 import android.widget.*;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Money;
@@ -90,14 +89,9 @@
 	/**
 	 * Cursor for transfer account spinner
 	 */
-	private Cursor mCursor;	
-	
-	/**
-	 * Holds database ID of transaction to be edited (if in edit mode)
-	 */
-	private long mTransactionId = 0;
-	
-	/**
+	private Cursor mCursor;
+
+    /**
 	 * Transaction to be created/updated
 	 */
 	private Transaction mTransaction;
@@ -202,7 +196,7 @@ public void onActivityCreated(Bundle savedInstanceState) {
 
 		SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getActivity());
 		mUseDoubleEntry = sharedPrefs.getBoolean(getString(R.string.key_use_double_entry), false);
-		if (mUseDoubleEntry == false){
+		if (!mUseDoubleEntry){
 			getView().findViewById(R.id.layout_double_entry).setVisibility(View.GONE);
 		}
 		
@@ -210,9 +204,9 @@ public void onActivityCreated(Bundle savedInstanceState) {
 		mAccountsDbAdapter = new AccountsDbAdapter(getActivity());
 		updateTransferAccountsList();
 		
-		mTransactionId = getArguments().getLong(SELECTED_TRANSACTION_ID);
+        long transactionId = getArguments().getLong(SELECTED_TRANSACTION_ID);
 		mTransactionsDbAdapter = new TransactionsDbAdapter(getActivity());
-		mTransaction = mTransactionsDbAdapter.getTransaction(mTransactionId);
+		mTransaction = mTransactionsDbAdapter.getTransaction(transactionId);
 		
 		setListeners();
 		if (mTransaction == null)
@@ -330,8 +324,11 @@ private void initalizeViews() {
 	private void updateTransferAccountsList(){
 		long accountId = ((TransactionsActivity)getActivity()).getCurrentAccountID();
 
-		String conditions = "(" + DatabaseHelper.KEY_ROW_ID + " != " + accountId + ") AND " + "(" +
-							DatabaseHelper.KEY_CURRENCY_CODE + " = '" + mAccountsDbAdapter.getCurrencyCode(accountId) + "')";
+		String conditions = "(" + DatabaseHelper.KEY_ROW_ID + " != " + accountId + " AND "
+							+ DatabaseHelper.KEY_CURRENCY_CODE + " = '" + mAccountsDbAdapter.getCurrencyCode(accountId)
+                            + "' AND " + DatabaseHelper.KEY_UID + " != '" + mAccountsDbAdapter.getGnuCashRootAccountUID()
+                            + "' AND " + DatabaseHelper.KEY_PLACEHOLDER + " = 0"
+                            + ")";
 
 		mCursor = mAccountsDbAdapter.fetchAccounts(conditions);
 
@@ -415,12 +412,12 @@ private void setSelectedTransferAccount(long accountId){
 		for (int pos = 0; pos < mCursorAdapter.getCount(); pos++) {
 			if (mCursorAdapter.getItemId(pos) == accountId){
                 final int position = pos;
-				new Handler().postDelayed(new Runnable() {
+                mDoubleAccountSpinner.postDelayed(new Runnable() {
                     @Override
                     public void run() {
                         mDoubleAccountSpinner.setSelection(position);
                     }
-                }, 100);
+                }, 500);
 				break;
 			}
 		}
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 5fead01e..dd480fca 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -95,6 +95,7 @@
     TextView mSectionHeaderSubAccounts;
     TextView mSectionHeaderTransactions;
     View mSubAccountsContainer;
+    View mTransactionsContainer;
 
 	private OnNavigationListener mTransactionListNavigationListener = new OnNavigationListener() {
 
@@ -154,6 +155,7 @@ protected void onCreate(Bundle savedInstanceState) {
         mSectionHeaderSubAccounts = (TextView) findViewById(R.id.section_header_sub_accounts);
         mSectionHeaderTransactions = (TextView) findViewById(R.id.section_header_transactions);
         mSubAccountsContainer = findViewById(R.id.sub_accounts_container);
+        mTransactionsContainer = findViewById(R.id.transactions_container);
 
 		final Intent intent = getIntent();
 		mAccountId = intent.getLongExtra(
@@ -311,7 +313,9 @@ protected void showTransactionsList(){
                 .beginTransaction();
 
         int subAccountCount = mAccountsDbAdapter.getSubAccountCount(mAccountId);
-        if (subAccountCount > 0){
+        boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(mAccountId);
+
+        if (subAccountCount > 0 || isPlaceholderAccount){
             mSubAccountsContainer.setVisibility(View.VISIBLE);
             mSectionHeaderSubAccounts.setVisibility(View.VISIBLE);
             String subAccountSectionText = getResources().getQuantityString(R.plurals.label_sub_accounts, subAccountCount, subAccountCount);
@@ -323,16 +327,21 @@ protected void showTransactionsList(){
             fragmentTransaction.replace(R.id.sub_accounts_container, subAccountsListFragment, AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
         }
 
-        TransactionsListFragment transactionsListFragment = new TransactionsListFragment();
-        Bundle args = new Bundle();
-        args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID,
-                mAccountId);
-        transactionsListFragment.setArguments(args);
-        Log.i(TAG, "Opening transactions for account id " +  mAccountId);
-
-        fragmentTransaction.replace(R.id.transactions_container,
-                transactionsListFragment, FRAGMENT_TRANSACTIONS_LIST);
+        //only load transactions if it is not a placeholder account
+        if (!isPlaceholderAccount){
+            TransactionsListFragment transactionsListFragment = new TransactionsListFragment();
+            Bundle args = new Bundle();
+            args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID,
+                    mAccountId);
+            transactionsListFragment.setArguments(args);
+            Log.i(TAG, "Opening transactions for account id " +  mAccountId);
 
+            fragmentTransaction.replace(R.id.transactions_container,
+                    transactionsListFragment, FRAGMENT_TRANSACTIONS_LIST);
+        } else {
+            mSectionHeaderTransactions.setVisibility(View.GONE);
+            mTransactionsContainer.setVisibility(View.GONE);
+        }
         fragmentTransaction.commit();
 	}
 	
diff --git a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
index a9760b72..03c65ff9 100644
--- a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
+++ b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
@@ -44,22 +44,45 @@
     /*
      * GnuCash account XML file qualified tag names. Used for matching tags
      */
-    public static final String TAG_NAME         = "act:name";
-    public static final String TAG_UID          = "act:id";
-    public static final String TAG_TYPE         = "act:type";
-    public static final String TAG_CURRENCY     = "cmdty:id";
-    public static final String TAG_PARENT_UID   = "act:parent";
-    public static final String TAG_ACCOUNT      = "gnc:account";
+    public static final String TAG_NAME             = "act:name";
+    public static final String TAG_UID              = "act:id";
+    public static final String TAG_TYPE             = "act:type";
+    public static final String TAG_CURRENCY         = "cmdty:id";
     public static final String TAG_COMMODITY_SPACE  = "cmdty:space";
+    public static final String TAG_PARENT_UID       = "act:parent";
+    public static final String TAG_ACCOUNT          = "gnc:account";
+    public static final String TAG_SLOT_KEY         = "slot:key";
+    public static final String TAG_SLOT_VALUE       = "slot:value";
+
+    /**
+     * ISO 4217 currency code for "No Currency"
+     */
     private static final String NO_CURRENCY_CODE    = "XXX";
 
+    /**
+     * Tag for logging
+     */
     private static final String LOG_TAG = "GnuCashAccountImporter";
 
+    /**
+     * Value for placeholder slots in GnuCash account structure file
+     */
+    private static final String PLACEHOLDER_KEY = "placeholder";
+
 
     AccountsDbAdapter mDatabaseAdapter;
+
+    /**
+     * StringBuilder for accumulating characters between XML tags
+     */
     StringBuilder mContent;
+
+    /**
+     * Reference to account which is built when each account tag is parsed in the XML file
+     */
     Account mAccount;
 
+    boolean mInPlaceHolderSlot = false;
     boolean mISO4217Currency = false;
 
     public GnucashAccountXmlHandler(Context context) {
@@ -116,6 +139,20 @@ public void endElement(String uri, String localName, String qualifiedName) throw
             mISO4217Currency = false;
         }
 
+        if (qualifiedName.equalsIgnoreCase(TAG_SLOT_KEY)){
+            if (characterString.equals(PLACEHOLDER_KEY)){
+                mInPlaceHolderSlot = true;
+            }
+        }
+
+        if (qualifiedName.equalsIgnoreCase(TAG_SLOT_VALUE)){
+            if (mInPlaceHolderSlot){
+                if (characterString.equals("true")){
+                    mAccount.setPlaceHolderFlag(true);
+                };
+                mInPlaceHolderSlot = false;
+            }
+        }
         //reset the accumulated characters
         mContent.setLength(0);
     }

From 8ede19f7995992b4945a0461fd12b65ab085a69f Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 2 Sep 2013 23:35:03 +0200
Subject: [PATCH 13/43] Update widgets when all accounts or transactions are
 deleted Fixed: Up arrow not displayed in secondary level activities Updated
 app version to 1.2.4

---
 app/AndroidManifest.xml                                             | 2 +-
 app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java   | 6 +++++-
 .../android/ui/settings/DeleteAllAccountsConfirmationDialog.java    | 3 ++-
 .../ui/settings/DeleteAllTransacationsConfirmationDialog.java       | 3 ++-
 .../ui/transactions/TransactionsDeleteConfirmationDialog.java       | 4 +++-
 .../org/gnucash/android/ui/widget/WidgetConfigurationActivity.java  | 2 +-
 app/src/org/gnucash/android/util/OfxFormatter.java                  | 1 -
 integration-tests/AndroidManifest.xml                               | 2 +-
 8 files changed, 15 insertions(+), 8 deletions(-)

diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index f26054c6..8cb00d06 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -18,7 +18,7 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
     android:versionCode="14"
-    android:versionName="1.2.4.beta" >
+    android:versionName="1.2.4" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index e1c68de6..e60ca6ad 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -184,7 +184,11 @@ public void onActivityCreated(Bundle savedInstanceState) {
 
         ActionBar actionbar = getSherlockActivity().getSupportActionBar();
         actionbar.setTitle(R.string.title_accounts);
-        actionbar.setDisplayHomeAsUpEnabled(false);
+        if (getActivity() instanceof TransactionsActivity){
+            actionbar.setDisplayHomeAsUpEnabled(true);
+        } else {
+            actionbar.setDisplayHomeAsUpEnabled(false);
+        }
 
         if (!inSubAcccount())
             setHasOptionsMenu(true);
diff --git a/app/src/org/gnucash/android/ui/settings/DeleteAllAccountsConfirmationDialog.java b/app/src/org/gnucash/android/ui/settings/DeleteAllAccountsConfirmationDialog.java
index 6df857e4..9872a809 100644
--- a/app/src/org/gnucash/android/ui/settings/DeleteAllAccountsConfirmationDialog.java
+++ b/app/src/org/gnucash/android/ui/settings/DeleteAllAccountsConfirmationDialog.java
@@ -25,6 +25,7 @@
 import android.widget.Toast;
 import org.gnucash.android.R;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
 
 /**
  * Confirmation dialog for deleting all accounts from the system.
@@ -52,7 +53,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
                                 accountsDbAdapter.deleteAllRecords();
                                 accountsDbAdapter.close();
                                 Toast.makeText(context, R.string.toast_all_accounts_deleted, Toast.LENGTH_SHORT).show();
-
+                                WidgetConfigurationActivity.updateAllWidgets(context);
                             }
                         }
                 )
diff --git a/app/src/org/gnucash/android/ui/settings/DeleteAllTransacationsConfirmationDialog.java b/app/src/org/gnucash/android/ui/settings/DeleteAllTransacationsConfirmationDialog.java
index 4f148da2..0c5ec587 100644
--- a/app/src/org/gnucash/android/ui/settings/DeleteAllTransacationsConfirmationDialog.java
+++ b/app/src/org/gnucash/android/ui/settings/DeleteAllTransacationsConfirmationDialog.java
@@ -9,6 +9,7 @@
 import android.widget.Toast;
 import org.gnucash.android.R;
 import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
 
 /**
  * Copyright (c) 2013 - gnucash-android
@@ -36,7 +37,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
                                 transactionsDbAdapter.deleteAllRecords();
                                 transactionsDbAdapter.close();
                                 Toast.makeText(context, R.string.toast_all_transactions_deleted, Toast.LENGTH_SHORT).show();
-
+                                WidgetConfigurationActivity.updateAllWidgets(getActivity());
                             }
                         }
                 )
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
index 5d00c0d6..86f8b8fa 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
@@ -10,6 +10,7 @@
 import android.os.Bundle;
 
 import com.actionbarsherlock.app.SherlockDialogFragment;
+import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
 
 /**
  * Displays a delete confirmation dialog for transactions
@@ -47,7 +48,8 @@ public void onClick(DialogInterface dialog, int whichButton) {
                             }
                             if (getTargetFragment() instanceof AccountsListFragment){                            	
                             	((AccountsListFragment)getTargetFragment()).refreshList();
-                            }                                                        
+                            }
+                            WidgetConfigurationActivity.updateAllWidgets(getActivity());
                         }
                     }
                 )
diff --git a/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java b/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
index ee977bb3..5cd6ccbf 100644
--- a/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
+++ b/app/src/org/gnucash/android/ui/widget/WidgetConfigurationActivity.java
@@ -156,7 +156,7 @@ public static void updateWidget(Context context, int appWidgetId, long accountId
 
 		
 		if (account == null){
-			Log.i("WidgetConfiguration", "Account not found, updating widget " + appWidgetId);
+			Log.i("WidgetConfiguration", "Account not found, resetting widget " + appWidgetId);
 			//if account has been deleted, let the user know
 			RemoteViews views = new RemoteViews(context.getPackageName(),
 					R.layout.widget_4x1);
diff --git a/app/src/org/gnucash/android/util/OfxFormatter.java b/app/src/org/gnucash/android/util/OfxFormatter.java
index dbdd7598..21c609ec 100644
--- a/app/src/org/gnucash/android/util/OfxFormatter.java
+++ b/app/src/org/gnucash/android/util/OfxFormatter.java
@@ -88,7 +88,6 @@
 	public OfxFormatter(Context context, boolean exportAll) {
 		AccountsDbAdapter dbAdapter = new AccountsDbAdapter(context);
 		mAccountsList = exportAll ? dbAdapter.getAllAccounts() : dbAdapter.getExportableAccounts();
-		dbAdapter.close();
 		mExportAll = exportAll;
 		mContext = context;
 	}
diff --git a/integration-tests/AndroidManifest.xml b/integration-tests/AndroidManifest.xml
index 40bdde97..ff7e1ceb 100644
--- a/integration-tests/AndroidManifest.xml
+++ b/integration-tests/AndroidManifest.xml
@@ -2,7 +2,7 @@
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android.test"
     android:versionCode="3"
-    android:versionName="1.2.3" >
+    android:versionName="1.2.4" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15" />
 

From 42425d3d11b289ec580be982fad73331e38be91b Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Wed, 4 Sep 2013 14:39:05 +0200
Subject: [PATCH 14/43] Updated Robotium version to 4.2 Updated integration
 tests Changed integration test target to usb device from emulator

---
 .../org/gnucash/android/db/AccountsDbAdapter.java  |   4 +-
 .../android/ui/accounts/AccountsListFragment.java  |   1 +
 .../ui/transactions/TransactionsActivity.java      |  18 +-
 .../libs/robotium-solo-3.4.1-javadoc.jar           | Bin 41867 -> 0 bytes
 integration-tests/libs/robotium-solo-3.4.1.jar     | Bin 58041 -> 0 bytes
 integration-tests/pom.xml                          |  18 +-
 .../android/test/ui/AccountsActivityTest.java      | 255 +++++++++++++--------
 .../org/gnucash/android/test/ui/OfxExportTest.java |  46 ++--
 .../android/test/ui/TransactionsActivityTest.java  | 224 +++++++++---------
 .../org/gnucash/android/test/unit/AccountTest.java |   3 +-
 .../gnucash/android/test/util/ActionBarUtils.java  |  34 +++
 11 files changed, 363 insertions(+), 240 deletions(-)
 delete mode 100644 integration-tests/libs/robotium-solo-3.4.1-javadoc.jar
 delete mode 100644 integration-tests/libs/robotium-solo-3.4.1.jar
 create mode 100644 integration-tests/src/org/gnucash/android/test/util/ActionBarUtils.java

diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index fb742ebc..3967754d 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -262,7 +262,7 @@ public String getAccountUID(long id){
 				DatabaseHelper.KEY_ROW_ID + "=" + id, 
 				null, null, null, null);
 		if (c != null && c.moveToFirst()){
-			uid = c.getString(1);
+			uid = c.getString(c.getColumnIndexOrThrow(DatabaseHelper.KEY_UID));
 			c.close();
 		}
 		return uid;
@@ -348,7 +348,7 @@ public Cursor fetchAllRecords(){
 		Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
                 null,
                 selection,
-                new String[]{AccountType.ROOT.toString()},
+                new String[]{AccountType.ROOT.name()},
                 null, null,
                 DatabaseHelper.KEY_NAME + " ASC");
 		return cursor;
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index e60ca6ad..ef5093ef 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -655,6 +655,7 @@ protected void onPostExecute(Money balance) {
                     balanceTextView.setTextColor(fontColor);
                 }
             }
+            accountsDbAdapter.close();
         }
     }
 
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index dd480fca..0bea0c51 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -211,15 +211,15 @@ public void updateNavigationSelection() {
 		// set the selected item in the spinner
 		int i = 0;
 		Cursor accountsCursor = mAccountsDbAdapter.fetchAllRecords();
-		accountsCursor.moveToFirst();
-		do {
-			long id = accountsCursor.getLong(DatabaseAdapter.COLUMN_ROW_ID);			
-			if (mAccountId == id) {
-				getSupportActionBar().setSelectedNavigationItem(i);
-				break;
-			}
-			++i;
-		} while (accountsCursor.moveToNext());
+//		boolean cursorMoved = accountsCursor.moveToFirst();
+        while (accountsCursor.moveToNext()) {
+            long id = accountsCursor.getLong(DatabaseAdapter.COLUMN_ROW_ID);
+            if (mAccountId == id) {
+                getSupportActionBar().setSelectedNavigationItem(i);
+                break;
+            }
+            ++i;
+        }
         accountsCursor.close();
 	}
 
diff --git a/integration-tests/libs/robotium-solo-3.4.1-javadoc.jar b/integration-tests/libs/robotium-solo-3.4.1-javadoc.jar
deleted file mode 100644
index 9a79d8c8318239f8893f67963b45866e3bc83a76..0000000000000000000000000000000000000000
GIT binary patch
literal 0
HcmV?d00001

literal 41867
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%0D6r<-hcEaryU!u#O;5!iG2V|K?>NxC8#)Xg
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
CV5Xq}

diff --git a/integration-tests/libs/robotium-solo-3.4.1.jar b/integration-tests/libs/robotium-solo-3.4.1.jar
deleted file mode 100644
index 88906845a372b41f752619b7476ac90cf4161b36..0000000000000000000000000000000000000000
GIT binary patch
literal 0
HcmV?d00001

literal 58041
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
NrocvC>m~l({{U@D1_}TG

diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index d2e5aca3..0f805cba 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -27,8 +27,10 @@
 	<description>Instrumentation tests for Gnucash for Android</description>
 	
 	<properties>
-		<robotium.version>3.4.1</robotium.version>
-		<android.device>emulator</android.device>
+		<robotium.version>4.2</robotium.version>
+        <spoon-client.version>1.0.5</spoon-client.version>
+        <fest-android.version>1.0.6</fest-android.version>
+        <android.device>usb</android.device>
 	</properties>
 	
     <dependencies>
@@ -50,13 +52,17 @@
             <scope>provided</scope>
 			<version>${android.version}</version>
         </dependency>
-		
+        <dependency>
+            <groupId>com.squareup</groupId>
+            <artifactId>fest-android</artifactId>
+            <version>${fest-android.version}</version>
+        </dependency>
         <dependency>
             <!-- the target apk, which we will test. will automatically be deployed to device in pre-integration-test
             phase. -->
             <groupId>org.gnucash.android</groupId>
             <artifactId>gnucash-android</artifactId>
-            <version>1.1.3-SNAPSHOT</version>
+            <version>${project.version}</version>
             <type>apk</type>       
             <scope>provided</scope>     
         </dependency>
@@ -65,7 +71,7 @@
             <!-- optional: compile time dependency, in this case so that we can read from the R.java for example. -->
             <groupId>org.gnucash.android</groupId>
             <artifactId>gnucash-android</artifactId>
-            <version>1.2.4-SNAPSHOT</version>
+            <version>${project.version}</version>
             <scope>provided</scope>
             <type>jar</type>
         </dependency>
@@ -77,7 +83,7 @@
             <plugin>
                 <groupId>com.jayway.maven.plugins.android.generation2</groupId>
                 <artifactId>android-maven-plugin</artifactId>
-                <extensions>true</extensions>                
+                <extensions>true</extensions>
             </plugin>
         </plugins>
     </build>
diff --git a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
index bf62bc5f..60847576 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
@@ -16,9 +16,17 @@
 
 package org.gnucash.android.test.ui;
 
-import java.util.Currency;
-import java.util.List;
-
+import android.content.Context;
+import android.content.Intent;
+import android.content.SharedPreferences.Editor;
+import android.preference.PreferenceManager;
+import android.support.v4.app.Fragment;
+import android.test.ActivityInstrumentationTestCase2;
+import android.view.View;
+import android.widget.EditText;
+import android.widget.ListView;
+import android.widget.TextView;
+import com.jayway.android.robotium.solo.Solo;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
@@ -29,22 +37,15 @@
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
 
-import android.content.Context;
-import android.content.Intent;
-import android.content.SharedPreferences.Editor;
-import android.os.Build;
-import android.preference.PreferenceManager;
-import android.support.v4.app.Fragment;
-import android.test.ActivityInstrumentationTestCase2;
-import android.widget.Button;
-import android.widget.ListView;
-import android.widget.TextView;
+import java.util.Currency;
+import java.util.List;
 
-import com.jayway.android.robotium.solo.Solo;
+import static org.fest.assertions.api.ANDROID.assertThat;
 
 public class AccountsActivityTest extends ActivityInstrumentationTestCase2<AccountsActivity> {
 	private static final String DUMMY_ACCOUNT_CURRENCY_CODE = "USD";
-	private static final String DUMMY_ACCOUNT_NAME = "Test account";
+	private static final String DUMMY_ACCOUNT_NAME = "Dummy account";
+    public static final String  DUMMY_ACCOUNT_UID   = "dummy-account";
 	private Solo mSolo;
 	
 	public AccountsActivityTest() {		
@@ -61,50 +62,79 @@ protected void setUp() throws Exception {
 		
 		AccountsDbAdapter adapter = new AccountsDbAdapter(getActivity());
 		Account account = new Account(DUMMY_ACCOUNT_NAME);
+        account.setUID(DUMMY_ACCOUNT_UID);
 		account.setCurrency(Currency.getInstance(DUMMY_ACCOUNT_CURRENCY_CODE));
 		adapter.addAccount(account);
 		adapter.close();
+
+        //the What's new dialog is usually displayed on first run
+        String dismissDialog = getActivity().getString(R.string.label_dismiss);
+        if (mSolo.waitForText(dismissDialog)){
+            mSolo.clickOnText(dismissDialog);
+        }
 	}
 
 	
-	public void testDisplayAccountsList(){		
-		//there should exist a listview of accounts
-		Fragment fragment = getActivity()
-				.getSupportFragmentManager()
-				.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+	public void testDisplayAccountsList(){
+        final int NUMBER_OF_ACCOUNTS = 15;
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(getActivity());
+        for (int i = 0; i < NUMBER_OF_ACCOUNTS; i++) {
+            Account account = new Account("Acct " + i);
+            accountsDbAdapter.addAccount(account);
+        }
+        accountsDbAdapter.close();
+
+        //there should exist a listview of accounts
+        Fragment fragment = getActivity()
+                .getSupportFragmentManager()
+                .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+        ((AccountsListFragment)fragment).refreshList();
+
+        mSolo.waitForText("Acct");
+
 		assertNotNull(fragment);
-		assertNotNull(mSolo.getCurrentListViews().get(0));		
+        ListView accountsListView = mSolo.getCurrentViews(ListView.class).get(0);
+		assertNotNull(accountsListView);
+
+        assertEquals(NUMBER_OF_ACCOUNTS + 1, accountsListView.getCount());
 	}
-	
+
+    /**
+     * Tests that an account can be created successfully and that the account list is sorted alphabetically.
+     */
 	public void testCreateAccount(){
-		if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.ICE_CREAM_SANDWICH)
-			mSolo.clickOnActionBarItem(R.id.menu_add_account);
-		else
-			mSolo.clickOnImage(1);
-		
+        mSolo.waitForFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+		mSolo.clickOnActionBarItem(R.id.menu_add_account);
 		mSolo.waitForText(getActivity().getString(R.string.title_add_account));
-		mSolo.enterText(0, "New Account");
-		
-		mSolo.clickOnText(getActivity().getString(R.string.btn_save));
-		
-		mSolo.waitForDialogToClose(1000);
-		ListView lv = mSolo.getCurrentListViews().get(0);
+
+        //there already exists one eligible parent account in the system
+        assertThat(getActivity().findViewById(R.id.checkbox)).isVisible();
+
+        EditText inputAccountName = (EditText) getActivity().findViewById(R.id.edit_text_account_name);
+        String NEW_ACCOUNT_NAME = "A New Account";
+//        mSolo.enterText(0, NEW_ACCOUNT_NAME);
+        mSolo.enterText(inputAccountName, NEW_ACCOUNT_NAME);
+        mSolo.clickOnActionBarItem(R.id.menu_save);
+
+        mSolo.waitForText(NEW_ACCOUNT_NAME);
+
+		ListView lv = mSolo.getCurrentViews(ListView.class).get(0);
 		assertNotNull(lv);
 		TextView v = (TextView) lv.getChildAt(0) //accounts are sorted alphabetically
-				.findViewById(R.id.account_name);
-		
-		assertEquals("New Account", v.getText().toString());
+				.findViewById(R.id.primary_text);
+
+		assertEquals(NEW_ACCOUNT_NAME, v.getText().toString());
 		AccountsDbAdapter accAdapter = new AccountsDbAdapter(getActivity());
 		
 		List<Account> accounts = accAdapter.getAllAccounts();
 		Account newestAccount = accounts.get(0);
 		
-		assertEquals("New Account", newestAccount.getName());		
-		assertEquals(Money.DEFAULT_CURRENCY_CODE, newestAccount.getCurrency().getCurrencyCode());	
-		
+		assertEquals(NEW_ACCOUNT_NAME, newestAccount.getName());
+		assertEquals(Money.DEFAULT_CURRENCY_CODE, newestAccount.getCurrency().getCurrencyCode());
+
 		accAdapter.close();		
 	}
-	
+
 	public void testEditAccount(){
 		Fragment fragment = getActivity()
 				.getSupportFragmentManager()
@@ -116,18 +146,22 @@ public void testEditAccount(){
 		String editedAccountName = "Edited Account";
 				
 		mSolo.clickLongOnText(DUMMY_ACCOUNT_NAME);
-		
-		mSolo.clickOnImage(1);
-		
+
+        clickSherlockActionBarItem(R.id.context_menu_edit_accounts);
+
+        mSolo.waitForView(EditText.class);
+
 		mSolo.clearEditText(0);
 		mSolo.enterText(0, editedAccountName);
-				
-		mSolo.clickOnText(getActivity().getString(R.string.btn_save));
+
+        clickSherlockActionBarItem(R.id.menu_save);
+
 		mSolo.waitForDialogToClose(2000);
-		
-		ListView lv = mSolo.getCurrentListViews().get(0);
+        mSolo.waitForText("Accounts");
+
+		ListView lv = mSolo.getCurrentViews(ListView.class).get(0);
 		TextView tv = (TextView) lv.getChildAt(0)
-				.findViewById(R.id.account_name);		
+				.findViewById(R.id.primary_text);
 		assertEquals(editedAccountName, tv.getText().toString());
 		
 		AccountsDbAdapter accAdapter = new AccountsDbAdapter(getActivity());
@@ -140,50 +174,59 @@ public void testEditAccount(){
 		accAdapter.close();
 	}
 	
-	public void testDeleteAccount(){		
-			Account acc = new Account("TO BE DELETED");
-			acc.setUID("to-be-deleted");
-			
-			Transaction transaction = new Transaction("5.99", "hats");
-			transaction.setAccountUID("to-be-deleted");
-			acc.addTransaction(transaction);
-			AccountsDbAdapter accDbAdapter = new AccountsDbAdapter(getActivity());
-			accDbAdapter.addAccount(acc);		
-			
-			Fragment fragment = getActivity()
-					.getSupportFragmentManager()
-					.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-			assertNotNull(fragment);
-			
-			((AccountsListFragment) fragment).refreshList();
-			
-			mSolo.clickLongOnText("TO BE DELETED");
-							
-			mSolo.clickOnImage(2);
-			//robotium and Sherloock context actionbar don't play nice
-	//		mSolo.clickOnActionBarItem(R.id.context_menu_delete);
-						
-			String deleteConfirm = getActivity().getString(R.string.alert_dialog_ok_delete);
-			Button b = mSolo.getButton(deleteConfirm);
-			mSolo.clickOnView(b);
-			//FIXME: deletion fails often because the confirmation dialog cannot be confirmed
-			//we could also click on the button position, but it is different pre and post 4.0
-			
-			mSolo.waitForDialogToClose(1000);
-			
-			long id = accDbAdapter.getAccountID("to-be-deleted");
-			assertEquals(-1, id);
-			
-			TransactionsDbAdapter transDbAdapter = new TransactionsDbAdapter(getActivity());
-			List<Transaction> transactions = transDbAdapter.getAllTransactionsForAccount("to-be-deleted");
-			
-			assertEquals(0, transactions.size());
-			
-			accDbAdapter.close();
-			transDbAdapter.close();
-		}
+	public void testDeleteAccount(){
+        final String accountNameToDelete = "TO BE DELETED";
+        final String accountUidToDelete = "to-be-deleted";
+
+        Account acc = new Account(accountNameToDelete);
+        acc.setUID(accountUidToDelete);
+
+        Transaction transaction = new Transaction("5.99", "hats");
+        transaction.setAccountUID(accountUidToDelete);
+        acc.addTransaction(transaction);
+        AccountsDbAdapter accDbAdapter = new AccountsDbAdapter(getActivity());
+        accDbAdapter.addAccount(acc);
+
+        Fragment fragment = getActivity()
+                .getSupportFragmentManager()
+                .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+        assertNotNull(fragment);
+
+        ((AccountsListFragment) fragment).refreshList();
+
+        mSolo.clickLongOnText(accountNameToDelete);
+
+        clickSherlockActionBarItem(R.id.context_menu_delete);
+
+        String deleteConfirm = getActivity().getString(R.string.alert_dialog_ok_delete);
+        mSolo.clickOnText(deleteConfirm);
+
+        mSolo.waitForDialogToClose(1000);
+        mSolo.waitForText("Accounts");
+
+        long id = accDbAdapter.getAccountID(accountUidToDelete);
+        assertEquals(-1, id);
+
+        TransactionsDbAdapter transDbAdapter = new TransactionsDbAdapter(getActivity());
+        List<Transaction> transactions = transDbAdapter.getAllTransactionsForAccount(accountUidToDelete);
+
+        assertEquals(0, transactions.size());
+
+        accDbAdapter.close();
+        transDbAdapter.close();
+    }
+
+	public void testDisplayTransactionsList(){
+        final int TRANSACTION_COUNT = 15;
+        //first create a couple of transations
+        TransactionsDbAdapter transactionsDbAdapter = new TransactionsDbAdapter(getActivity());
+        for (int i = 0; i < TRANSACTION_COUNT; i++) {
+            Transaction transaction = new Transaction(Money.getZeroInstance(), "Transaxion " + i);
+            transaction.setAccountUID(DUMMY_ACCOUNT_UID);
+            transactionsDbAdapter.addTransaction(transaction);
+        }
+        transactionsDbAdapter.close();
 
-	public void testDisplayTransactionsList(){	
 		Fragment fragment = getActivity()
 				.getSupportFragmentManager()
 				.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
@@ -191,19 +234,25 @@ public void testDisplayTransactionsList(){
 		
 		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 		mSolo.clickOnText(DUMMY_ACCOUNT_NAME);
-		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
-		
-		String classname = mSolo.getAllOpenedActivities().get(1).getComponentName().getClassName();
+		mSolo.waitForText("Transaxion");
+
+        mSolo.scrollDown();
+
+		String classname = mSolo.getCurrentActivity().getComponentName().getClassName();
 		assertEquals(TransactionsActivity.class.getName(), classname);
 		
-		fragment = ((TransactionsActivity)mSolo.getAllOpenedActivities().get(1))
+		fragment = ((TransactionsActivity)mSolo.getCurrentActivity())
 				.getSupportFragmentManager()
 				.findFragmentByTag(TransactionsActivity.FRAGMENT_TRANSACTIONS_LIST);
+
 		assertNotNull(fragment);
-		
-		assertNotNull(mSolo.getCurrentListViews());
-		assertTrue(mSolo.getCurrentListViews().size() != 0);	
-		
+
+        //there are two list views in the transactions activity, one for sub-accounts and another for transactions
+        assertEquals(2, mSolo.getCurrentViews(ListView.class).size());
+        ListView listView = mSolo.getCurrentViews(ListView.class).get(1);
+        assertNotNull(listView);
+        assertEquals(TRANSACTION_COUNT, listView.getCount());
+
 	}
 		
 	public void testIntentAccountCreation(){
@@ -242,4 +291,12 @@ protected void tearDown() throws Exception {
 		super.tearDown();
 	}
 
+    /**
+     * Finds a view in the action bar and clicks it, since the native methods are not supported by ActionBarSherlock
+     * @param id
+     */
+    private void clickSherlockActionBarItem(int id){
+        View view = mSolo.getView(id);
+        mSolo.clickOnView(view);
+    }
 }
diff --git a/integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java b/integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java
index 26ab4674..5faa880a 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java
@@ -18,11 +18,16 @@
 
 import java.io.File;
 
+import android.app.AlertDialog;
+import android.content.Context;
+import android.content.SharedPreferences;
+import android.preference.PreferenceManager;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Transaction;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.test.util.ActionBarUtils;
 import org.gnucash.android.ui.accounts.AccountsActivity;
 import org.gnucash.android.ui.accounts.ExportDialogFragment;
 
@@ -66,10 +71,11 @@ protected void setUp() throws Exception {
 	 * Just try rerunning it again.
 	 */
 	public void testOfxExport(){
-		mSolo.clickOnActionBarItem(R.id.menu_export);
-		
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
 		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentSpinners().get(0);
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
 		mSolo.clickOnView(spinner);
 		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
 		mSolo.clickOnText(options[1]);
@@ -95,9 +101,11 @@ public void testDeleteTransactionsAfterExport(){
 		TransactionsDbAdapter transAdapter = new TransactionsDbAdapter(getActivity());
 		assertTrue(transAdapter.getAllTransactionsCount() != 0);
 		
-		mSolo.clickOnActionBarItem(R.id.menu_export);		
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//        ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
 		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentSpinners().get(0);
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
 		mSolo.clickOnView(spinner);
 		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
 		mSolo.clickOnText(options[1]);
@@ -105,26 +113,28 @@ public void testDeleteTransactionsAfterExport(){
 		//check to delete after export
 		mSolo.clickOnCheckBox(1);
 		
-		Button b = (Button) mSolo.getView(R.id.btn_save);
+		Button b = (Button) mSolo.getView(R.id.btn_save); //getActivity().findViewById(R.id.btn_save);
 		mSolo.clickOnView(b);
 		mSolo.waitForDialogToClose(2000);
-		
-		//confirm delete
-		Button deleteButton = (Button) mSolo.getView(android.R.id.button1);
-		mSolo.clickOnView(deleteButton);
+
+        String deleteConfirm = getActivity().getString(R.string.alert_dialog_ok_delete);
+        mSolo.clickOnText(deleteConfirm);
 		mSolo.waitForDialogToClose(1000);
-		
+        mSolo.sleep(1000);
+
 		assertEquals(0, transAdapter.getAllTransactionsCount());
 		
 		transAdapter.close();
+        mSolo.goBack();
 	}
 	
 	public void testShouldIgnoreExportedTransactions(){
 		testOfxExport();
-		mSolo.clickOnActionBarItem(R.id.menu_export);
-		
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
 		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentSpinners().get(0);
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
 		mSolo.clickOnView(spinner);
 		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
 		mSolo.clickOnText(options[1]);
@@ -151,11 +161,11 @@ public void testShouldIgnoreExportedTransactions(){
 	
 	public void testExportAlreadyExportedTransactions(){
 		testOfxExport();
-		
-		mSolo.clickOnActionBarItem(R.id.menu_export);
-		
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
 		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentSpinners().get(0);
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
 		mSolo.clickOnView(spinner);
 		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
 		mSolo.clickOnText(options[1]);
diff --git a/integration-tests/src/org/gnucash/android/test/ui/TransactionsActivityTest.java b/integration-tests/src/org/gnucash/android/test/ui/TransactionsActivityTest.java
index 61c4332c..f02cdcbd 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/TransactionsActivityTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/TransactionsActivityTest.java
@@ -16,23 +16,6 @@
 
 package org.gnucash.android.test.ui;
 
-import java.text.NumberFormat;
-import java.text.ParseException;
-import java.util.Currency;
-import java.util.Date;
-import java.util.List;
-import java.util.Locale;
-
-import org.gnucash.android.R;
-import org.gnucash.android.data.Account;
-import org.gnucash.android.data.Money;
-import org.gnucash.android.data.Transaction;
-import org.gnucash.android.db.AccountsDbAdapter;
-import org.gnucash.android.db.TransactionsDbAdapter;
-import org.gnucash.android.ui.transactions.NewTransactionFragment;
-import org.gnucash.android.ui.transactions.TransactionsActivity;
-import org.gnucash.android.ui.transactions.TransactionsListFragment;
-
 import android.content.Context;
 import android.content.Intent;
 import android.content.SharedPreferences;
@@ -44,8 +27,25 @@
 import android.widget.Spinner;
 import android.widget.TextView;
 import android.widget.ToggleButton;
-
 import com.jayway.android.robotium.solo.Solo;
+import org.gnucash.android.R;
+import org.gnucash.android.data.Account;
+import org.gnucash.android.data.Money;
+import org.gnucash.android.data.Transaction;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.ui.transactions.NewTransactionFragment;
+import org.gnucash.android.ui.transactions.TransactionsActivity;
+import org.gnucash.android.ui.transactions.TransactionsListFragment;
+
+import java.text.NumberFormat;
+import java.text.ParseException;
+import java.util.Currency;
+import java.util.Date;
+import java.util.List;
+import java.util.Locale;
+
+import static org.fest.assertions.api.ANDROID.assertThat;
 
 public class TransactionsActivityTest extends
 		ActivityInstrumentationTestCase2<TransactionsActivity> {
@@ -58,35 +58,44 @@
 	private long mTransactionTimeMillis;
 	
 	public TransactionsActivityTest() {
-		super(TransactionsActivity.class);		
+		super(TransactionsActivity.class);
 	}
 	
 	@Override
 	protected void setUp() throws Exception {
-		mTransactionTimeMillis = System.currentTimeMillis();
-		Account account = new Account(DUMMY_ACCOUNT_NAME);
-		account.setUID(DUMMY_ACCOUNT_UID);
-		account.setCurrency(Currency.getInstance(Locale.getDefault()));
-		mTransaction = new Transaction(TRANSACTION_AMOUNT, TRANSACTION_NAME);
-		mTransaction.setAccountUID(DUMMY_ACCOUNT_UID);
-		mTransaction.setDescription("What up?");
-		mTransaction.setTime(mTransactionTimeMillis);
-		
-		account.addTransaction(mTransaction);		
-		
-		Context context = getInstrumentation().getTargetContext();
-		AccountsDbAdapter adapter = new AccountsDbAdapter(context);
-		long id = adapter.addAccount(account);
-		adapter.close();
-		
+        mTransactionTimeMillis = System.currentTimeMillis();
+        Account account = new Account(DUMMY_ACCOUNT_NAME);
+        account.setUID(DUMMY_ACCOUNT_UID);
+        account.setCurrency(Currency.getInstance(Locale.getDefault()));
+        mTransaction = new Transaction(TRANSACTION_AMOUNT, TRANSACTION_NAME);
+        mTransaction.setAccountUID(DUMMY_ACCOUNT_UID);
+        mTransaction.setDescription("What up?");
+        mTransaction.setTime(mTransactionTimeMillis);
 
-		Intent intent = new Intent(Intent.ACTION_VIEW);
-		intent.putExtra(TransactionsListFragment.SELECTED_ACCOUNT_ID, id);
-		setActivityIntent(intent);
-		
-		mSolo = new Solo(getInstrumentation(), getActivity());			
+        account.addTransaction(mTransaction);
+
+        Context context = getInstrumentation().getTargetContext();
+        AccountsDbAdapter adapter = new AccountsDbAdapter(context);
+        long id = adapter.addAccount(account);
+        adapter.close();
+        assertTrue(id > 0);
+
+        Intent intent = new Intent(Intent.ACTION_VIEW);
+        intent.putExtra(TransactionsListFragment.SELECTED_ACCOUNT_ID, id);
+        setActivityIntent(intent);
+
+        mSolo = new Solo(getInstrumentation(), getActivity());
 	}
-	
+
+    /**
+     * Finds a view in the action bar and clicks it, since the native methods are not supported by ActionBarSherlock
+     * @param id
+     */
+    private void clickSherlockActionBarItem(int id){
+        View view = mSolo.getView(id);
+        mSolo.clickOnView(view);
+    }
+
 	private void validateTransactionListDisplayed(){
 		Fragment fragment = getActivity()
 				.getSupportFragmentManager()
@@ -104,34 +113,37 @@ private int getTranscationCount(){
 	
 	private void validateNewTransactionFields(){
 		String expectedValue = NewTransactionFragment.DATE_FORMATTER.format(new Date(mTransactionTimeMillis));
-		TextView dateView = (TextView) mSolo.getView(R.id.input_date);//(TextView) getActivity().findViewById(R.id.input_date);
+		TextView dateView = (TextView) mSolo.getView(R.id.input_date);
 		String actualValue = dateView.getText().toString();
 		assertEquals(expectedValue, actualValue);
 		
 		expectedValue = NewTransactionFragment.TIME_FORMATTER.format(new Date(mTransactionTimeMillis));
-		TextView timeView = (TextView) mSolo.getView(R.id.input_time); //(TextView) getActivity().findViewById(R.id.input_time);
+		TextView timeView = (TextView) mSolo.getView(R.id.input_time);
 		actualValue = timeView.getText().toString();
 		assertEquals(expectedValue, actualValue);
 		
 	}
 	
 	public void testAddTransactionShouldRequireAmount(){
-		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
+		mSolo.waitForText(TRANSACTION_NAME);
 		validateTransactionListDisplayed();
 		
 		TransactionsDbAdapter adapter = new TransactionsDbAdapter(getActivity());
 		int beforeCount = adapter.getTransactionsCount(adapter.getAccountID(DUMMY_ACCOUNT_UID));
-		mSolo.clickOnActionBarItem(R.id.menu_add_transaction);
+        clickSherlockActionBarItem(R.id.menu_add_transaction);
 		mSolo.waitForText("Description");
 		mSolo.enterText(0, "Lunch");
-		
-		//verify that only text does not enable save button
-		View saveButtonView = mSolo.getView(R.id.menu_save);				
-		assertFalse(saveButtonView.isEnabled());//mSolo.getImage(3).isEnabled());
-		mSolo.clickOnActionBarItem(R.id.btn_save);
-		
+
+        clickSherlockActionBarItem(R.id.menu_save);
+        String toastAmountRequired = getActivity().getString(R.string.toast_transanction_amount_required);
+		boolean toastFound = mSolo.waitForText(toastAmountRequired);
+        assertTrue(toastFound);
+
 		int afterCount = adapter.getTransactionsCount(adapter.getAccountID(DUMMY_ACCOUNT_UID));
 		assertEquals(beforeCount, afterCount);
+
+        adapter.close();
+        mSolo.goBack();
 	}
 	
 	private void validateEditTransactionFields(Transaction transaction){
@@ -163,33 +175,39 @@ private void validateEditTransactionFields(Transaction transaction){
 		assertEquals(expectedValue, actualValue);
 	}
 	
-	public void testAddTransaction(){	
-			mSolo.waitForText(DUMMY_ACCOUNT_NAME);
-			validateTransactionListDisplayed();
-			
-			//Android 2.2 cannot handle this for some reason, use image instead
-			mSolo.clickOnActionBarItem(R.id.menu_add_transaction);
-//			mSolo.clickOnImage(2);
-			mSolo.waitForText("Description");
-			
-			validateNewTransactionFields();
-			
-			//validate creation of transaction
+	public void testAddTransaction(){
+			mSolo.waitForText(TRANSACTION_NAME);
+//            mSolo.waitForFragmentByTag(TransactionsActivity.FRAGMENT_TRANSACTIONS_LIST);
+
+        validateTransactionListDisplayed();
+
+//			mSolo.clickOnActionBarItem(R.id.menu_add_transaction);
+            clickSherlockActionBarItem(R.id.menu_add_transaction);
+
+//			mSolo.waitForView(EditText.class);
+            mSolo.waitForText("New transaction");
+
+//			validateNewTransactionFields();
+
+
+        //validate creation of transaction
 			mSolo.enterText(0, "Lunch");
 			mSolo.enterText(1, "899");
 			//check that the amount is correctly converted in the input field
 			String value = mSolo.getEditText(1).getText().toString();
-			String expectedValue = NumberFormat.getInstance().format(-8.99); 
+			String expectedValue = NumberFormat.getInstance().format(-8.99);
 			assertEquals(expectedValue, value);
-			
+
 			int transactionsCount = getTranscationCount();
-			
+
 			//Android 2.2 cannot handle this for some reason
-			mSolo.clickOnActionBarItem(R.id.menu_save);	
+//			mSolo.clickOnActionBarItem(R.id.menu_save);
 //			mSolo.clickOnImage(3);
+        clickSherlockActionBarItem(R.id.menu_save);
+
 			mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 			validateTransactionListDisplayed();
-			
+
 			assertEquals(transactionsCount + 1, getTranscationCount());
 		}
 
@@ -205,8 +223,8 @@ public void testEditTransaction(){
 		validateEditTransactionFields(mTransaction);
 				
 		mSolo.enterText(0, "Pasta");
-		mSolo.clickOnActionBarItem(R.id.menu_save);
-		
+		clickSherlockActionBarItem(R.id.menu_save);
+
 		//if we see the text, then it was successfully created
 		mSolo.waitForText("Pasta");
 	}
@@ -216,26 +234,27 @@ public void testDefaultTransactionType(){
 		Editor editor = prefs.edit();
 		editor.putString(getActivity().getString(R.string.key_default_transaction_type), "CREDIT");
 		editor.commit();
-		
-		mSolo.clickOnActionBarItem(R.id.menu_add_transaction);
+
+        clickSherlockActionBarItem(R.id.menu_add_transaction);
 		mSolo.waitForText(getActivity().getString(R.string.label_transaction_name));
 		
-//		ToggleButton transactionTypeButton = (ToggleButton) mSolo.getView(R.id.input_transaction_type); 
 		ToggleButton transactionTypeButton = (ToggleButton) mSolo.getButton(0);
-		assertTrue(transactionTypeButton.isChecked() == false);
-		
-		mSolo.clickOnActionBarItem(R.id.menu_cancel);
-		
+		assertThat(transactionTypeButton).isNotChecked();
+
+		clickSherlockActionBarItem(R.id.menu_cancel);
+
 		//now validate the other case 
 		editor = prefs.edit();
 		editor.putString(getActivity().getString(R.string.key_default_transaction_type), "DEBIT");
 		editor.commit();
 		
-		mSolo.clickOnActionBarItem(R.id.menu_add_transaction);
+        clickSherlockActionBarItem(R.id.menu_add_transaction);
 		mSolo.waitForText(getActivity().getString(R.string.label_transaction_name));
 		
 		transactionTypeButton = (ToggleButton) mSolo.getButton(0);
-		assertTrue(transactionTypeButton.isChecked());
+		assertThat(transactionTypeButton).isChecked();
+        clickSherlockActionBarItem(R.id.menu_cancel);
+        mSolo.goBack();
 	}
 
 	public void testToggleTransactionType(){
@@ -257,11 +276,8 @@ public void testToggleTransactionType(){
 		}
 		Money amount = new Money(amountString, Currency.getInstance(Locale.getDefault()).getCurrencyCode());
 		assertEquals("-9.99", amount.toPlainString());
-		
-		//save the transaction, should now be a debit
-//		mSolo.clickOnImage(3);
-		mSolo.clickOnActionBarItem(R.id.menu_save);
-		
+
+		clickSherlockActionBarItem(R.id.menu_save);
 		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 		
 		TransactionsDbAdapter adapter = new TransactionsDbAdapter(getActivity());
@@ -270,6 +286,8 @@ public void testToggleTransactionType(){
 		assertEquals(1, transactions.size());
 		Transaction trx = transactions.get(0);
 		assertTrue(trx.getAmount().isNegative());
+
+        mSolo.goBack();
 	}
 	
 	public void testOpenTransactionEditShouldNotModifyTransaction(){
@@ -278,12 +296,12 @@ public void testOpenTransactionEditShouldNotModifyTransaction(){
 			validateTransactionListDisplayed();
 			
 			mSolo.clickOnText(TRANSACTION_NAME);
-			mSolo.waitForText("Note");
+			mSolo.waitForText("Edit transaction");
 			
 			validateNewTransactionFields();
 			
-			mSolo.clickOnActionBarItem(R.id.menu_save);
-			
+			clickSherlockActionBarItem(R.id.menu_save);
+
 			mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 			
 			TransactionsDbAdapter adapter = new TransactionsDbAdapter(getActivity());
@@ -311,20 +329,21 @@ public void testDeleteTransaction(){
 		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 		
 		mSolo.clickOnCheckBox(0);		
-		mSolo.clickOnImage(2);
+		clickSherlockActionBarItem(R.id.context_menu_delete);
 		
-		AccountsDbAdapter accAdapter = new AccountsDbAdapter(getActivity());
-		long id = accAdapter.getId(DUMMY_ACCOUNT_UID);
+		AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(getActivity());
+		long id = accountsDbAdapter.getId(DUMMY_ACCOUNT_UID);
 		TransactionsDbAdapter adapter = new TransactionsDbAdapter(getActivity());
 		assertEquals(0, adapter.getTransactionsCount(id));
 		
-		accAdapter.close();
+		accountsDbAdapter.close();
 		adapter.close();
 		
 	}
 	
 	public void testBulkMoveTransactions(){
-		Account account = new Account("Target");
+        String targetAccountName = "Target";
+        Account account = new Account(targetAccountName);
 		account.setCurrency(Currency.getInstance(Locale.getDefault()));
 		AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(getActivity());
 		accountsDbAdapter.addAccount(account);
@@ -338,15 +357,16 @@ public void testBulkMoveTransactions(){
 		mSolo.clickOnCheckBox(0);
 		mSolo.waitForText(getActivity().getString(R.string.title_selected, 1));
 		//initiate bulk move
-		mSolo.clickOnImage(1);		
+		clickSherlockActionBarItem(R.id.context_menu_move_transactions);
 		
 		mSolo.waitForDialogToClose(2000);
 		
-		Spinner spinner = mSolo.getCurrentSpinners().get(0);
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
 		mSolo.clickOnView(spinner);
-		mSolo.clickOnText("Target");
+        mSolo.sleep(500);
+		mSolo.clickOnText(targetAccountName);
 		mSolo.clickOnButton(1);
-//		mSolo.clickOnText(getActivity().getString(R.string.menu_move));
+//		mSolo.clickOnText(getActivity().getString(R.string.btn_move));
 		
 		mSolo.waitForDialogToClose(2000);
 		
@@ -371,15 +391,9 @@ public void testIntentTransactionRecording(){
 		transactionIntent.putExtra(Transaction.EXTRA_ACCOUNT_UID, DUMMY_ACCOUNT_UID);
 		
 		getActivity().sendBroadcast(transactionIntent);
-		
-		synchronized (mSolo) {
-			try {
-				mSolo.wait(2000);
-			} catch (InterruptedException e) {
-				e.printStackTrace();
-			}
-		}
-		
+
+        mSolo.sleep(2000);
+
 		int afterCount = trxnAdapter.getTransactionsCount(trxnAdapter.getAccountID(DUMMY_ACCOUNT_UID));
 		
 		assertEquals(beforeCount + 1, afterCount);
diff --git a/integration-tests/src/org/gnucash/android/test/unit/AccountTest.java b/integration-tests/src/org/gnucash/android/test/unit/AccountTest.java
index 77221508..ff024be4 100644
--- a/integration-tests/src/org/gnucash/android/test/unit/AccountTest.java
+++ b/integration-tests/src/org/gnucash/android/test/unit/AccountTest.java
@@ -11,6 +11,7 @@ public AccountTest(String name) {
 	}
 
 	public void testUIDContainsName(){
+        //TODO: modify this test when migrating to GnuCash file exports
 		Account account = new Account("dummy");
 		assertTrue(account.getUID().contains("dummy"));
 				
@@ -18,7 +19,7 @@ public void testUIDContainsName(){
 		String uid = another.getUID();
 		
 		//only first ten characters are used in uid
-		assertTrue(uid.contains("tele-pathy"));
+		assertTrue(uid.contains("telepathy"));
 		
 		//no spaces allowed
 		assertFalse(uid.contains(" "));
diff --git a/integration-tests/src/org/gnucash/android/test/util/ActionBarUtils.java b/integration-tests/src/org/gnucash/android/test/util/ActionBarUtils.java
new file mode 100644
index 00000000..a7603da4
--- /dev/null
+++ b/integration-tests/src/org/gnucash/android/test/util/ActionBarUtils.java
@@ -0,0 +1,34 @@
+/*
+ * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.test.util;
+
+import android.view.View;
+import com.jayway.android.robotium.solo.Solo;
+
+/**
+ * @author Ngewi
+ */
+public class ActionBarUtils {
+    /**
+     * Finds a view in the action bar and clicks it, since the native methods are not supported by ActionBarSherlock
+     * @param id
+     */
+    public static void clickSherlockActionBarItem(Solo solo, int id){
+        View view = solo.getView(id);
+        solo.clickOnView(view);
+    }
+}

From e8ebbf2e0cefec724e9f0106fee19cc768039b3d Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 6 Sep 2013 15:09:20 +0200
Subject: [PATCH 15/43] Implemented account search feature

---
 app/res/menu/global_actions.xml                    |   8 +-
 app/res/values-de/strings.xml                      |   1 +
 app/res/values-el/strings.xml                      |   1 +
 app/res/values-es-rMX/strings.xml                  |   1 +
 app/res/values-es/strings.xml                      |   1 +
 app/res/values-fr/strings.xml                      |   1 +
 app/res/values-hu/strings.xml                      |   1 +
 app/res/values-it/strings.xml                      |   1 +
 app/res/values-nb/strings.xml                      |   1 +
 app/res/values-nl/strings.xml                      |   1 +
 app/res/values-pt-rBR/strings.xml                  |   1 +
 app/res/values-ru/strings.xml                      |   1 +
 app/res/values-zh/strings.xml                      |   1 +
 app/res/values/strings.xml                         |   1 +
 .../android/ui/accounts/AccountsActivity.java      |   2 -
 .../android/ui/accounts/AccountsListFragment.java  | 136 +++++++++++++++++----
 .../android/test/ui/AccountsActivityTest.java      |  49 ++++++--
 17 files changed, 175 insertions(+), 33 deletions(-)

diff --git a/app/res/menu/global_actions.xml b/app/res/menu/global_actions.xml
index 287712a4..8203ecc0 100644
--- a/app/res/menu/global_actions.xml
+++ b/app/res/menu/global_actions.xml
@@ -16,7 +16,13 @@
 -->
 
 <menu xmlns:android="http://schemas.android.com/apk/res/android" >
-    
+
+    <item android:id="@+id/menu_search"
+          android:title="@string/menu_search_accounts"
+          android:icon="@drawable/abs__ic_search"
+          android:showAsAction="collapseActionView|ifRoom"
+          android:actionViewClass="com.actionbarsherlock.widget.SearchView" />
+
     <item android:id="@+id/menu_settings"
           android:icon="@drawable/action_settings"
           android:title="@string/title_settings"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index e8cfae77..2930d3a5 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -339,6 +339,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 931d8b10..824b65dc 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -353,6 +353,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index ea13bd20..d581f6d4 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -337,6 +337,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index b075baf1..89b972cd 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -337,6 +337,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index 02501a36..8ecc0367 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -335,6 +335,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 0f3530e2..ee566dbb 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -338,6 +338,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 6db9c74d..72acddf0 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -338,6 +338,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 0da9be02..fcf8f063 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -340,6 +340,7 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 2bb33c70..95c4b639 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -339,6 +339,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 18c6af87..b45b853d 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -337,6 +337,7 @@
     <string name="toast_tap_again_to_confirm_delete">Toque novamente para confirmar. TODAS as entradas sero deletadas!!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 2ddcf19e..6eae03d7 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -335,6 +335,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 76fcf0a3..8bc9209f 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -512,6 +512,7 @@
     <string name="toast_tap_again_to_confirm_delete"></string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 0417f258..be34f74c 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -535,6 +535,7 @@
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="menu_search_accounts">Search</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 4372061b..b2ae56f9 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -49,8 +49,6 @@
 import org.gnucash.android.util.GnucashAccountXmlHandler;
 import org.gnucash.android.util.OnAccountClickedListener;
 
-import java.io.FileNotFoundException;
-import java.io.InputStream;
 import java.util.ArrayList;
 import java.util.Currency;
 import java.util.Locale;
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index ef5093ef..e174ee6b 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -19,6 +19,7 @@
 import android.app.Activity;
 import android.app.AlertDialog;
 import android.app.Dialog;
+import android.app.SearchManager;
 import android.content.Context;
 import android.content.DialogInterface;
 import android.content.Intent;
@@ -32,12 +33,14 @@
 import android.support.v4.app.LoaderManager.LoaderCallbacks;
 import android.support.v4.content.Loader;
 import android.support.v4.widget.SimpleCursorAdapter;
+import android.text.TextUtils;
 import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.*;
 import android.widget.AdapterView.OnItemLongClickListener;
+import android.widget.SearchView;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockDialogFragment;
 import com.actionbarsherlock.app.SherlockListFragment;
@@ -46,6 +49,7 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
+import com.actionbarsherlock.widget.*;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
@@ -65,7 +69,9 @@
  * @author Ngewi Fet <ngewif@gmail.com>
  */
 public class AccountsListFragment extends SherlockListFragment implements
-        LoaderCallbacks<Cursor>, OnItemLongClickListener {
+        LoaderCallbacks<Cursor>, OnItemLongClickListener,
+        com.actionbarsherlock.widget.SearchView.OnQueryTextListener,
+        com.actionbarsherlock.widget.SearchView.OnCloseListener {
 
     public static final int REQUEST_PICK_ACCOUNTS_FILE = 0x1;
     /**
@@ -102,16 +108,31 @@
      * Is not null only when an accoun is selected and the Context ActionBar (CAB) is activated
      */
     private ActionMode mActionMode = null;
-    /**
-     * Position which has been selected in the ListView
-     */
-    private int mSelectedViewPosition = -1;
+
     /**
      * Stores the database ID of the currently selected account when in action mode.
      * This is necessary because getSelectedItemId() does not work properly (by design)
      * in touch mode (which is the majority of devices today)
      */
     private long mSelectedItemId = -1;
+
+    /**
+     * Database record ID of the account whose children will be loaded by the list fragment.
+     * If no parent account is specified, then all top-level accounts are loaded.
+     * <p>This value is set in {@link #inSubAcccount()}, so always call that method first before using this value</p>
+     */
+    private long mParentAccountId = -1;
+
+    /**
+     * Filter for which accounts should be displayed. Used by search interface
+     */
+    private String mCurrentFilter;
+
+    /**
+     * Search view for searching accounts
+     */
+    private com.actionbarsherlock.widget.SearchView mSearchView;
+
     /**
      * Callbacks for the CAB menu
      */
@@ -168,6 +189,11 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
     @Override
     public void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
+
+        Bundle args = getArguments();
+        if (args != null)
+            mParentAccountId = args.getLong(ARG_PARENT_ACCOUNT_ID);
+
         mAccountsDbAdapter = new AccountsDbAdapter(getActivity());
         mAccountsCursorAdapter = new AccountsCursorAdapter(
                 getActivity().getApplicationContext(),
@@ -251,12 +277,11 @@ public void onActivityResult(int requestCode, int resultCode, Intent data) {
     }
 
     /**
-     * Returns true if this fragment is currently rendering sub-accounts. false otherwise
+     * Returns true if this fragment is currently rendering sub-accounts. false otherwise.
      * @return true if this fragment is currently rendering sub-accounts. false otherwise
      */
     public boolean inSubAcccount(){
-        Bundle args = getArguments();
-        return (args != null) && (args.getLong(ARG_PARENT_ACCOUNT_ID) > 0);
+        return mParentAccountId > 0;
     }
 
     /**
@@ -309,7 +334,6 @@ public void showConfirmationDialog(long id) {
     public void finishEditMode() {
         mInEditMode = false;
         getListView().setItemChecked(getListView().getCheckedItemPosition(), false);
-//        deselectPreviousSelectedItem();
         mActionMode = null;
         mSelectedItemId = -1;
     }
@@ -317,6 +341,19 @@ public void finishEditMode() {
     @Override
     public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
         inflater.inflate(R.menu.account_actions, menu);
+
+        // Associate searchable configuration with the SearchView
+        SearchManager searchManager =
+                (SearchManager) getActivity().getSystemService(Context.SEARCH_SERVICE);
+        mSearchView =
+                (com.actionbarsherlock.widget.SearchView) menu.findItem(R.id.menu_search).getActionView();
+        if (mSearchView == null)
+            return;
+
+        mSearchView.setSearchableInfo(
+                searchManager.getSearchableInfo(getActivity().getComponentName()));
+        mSearchView.setOnQueryTextListener(this);
+        mSearchView.setOnCloseListener(this);
     }
 
     @Override
@@ -437,9 +474,11 @@ public void showExportDialog() {
         Bundle fragmentArguments = getArguments();
         long accountId = fragmentArguments == null ? -1 : fragmentArguments.getLong(ARG_PARENT_ACCOUNT_ID);
 
-        return id < 0 ?
-                new AccountsCursorLoader(this.getActivity().getApplicationContext()) :
-                new AccountsCursorLoader(this.getActivity(), accountId);
+        if (mCurrentFilter != null){
+            return new AccountsCursorLoader(getActivity(), mCurrentFilter);
+        } else {
+            return new AccountsCursorLoader(this.getActivity(), accountId);
+        }
     }
 
     @Override
@@ -455,6 +494,35 @@ public void onLoaderReset(Loader<Cursor> arg0) {
         mAccountsCursorAdapter.swapCursor(null);
     }
 
+    @Override
+    public boolean onQueryTextSubmit(String query) {
+        //nothing to see here, move along
+        return true;
+    }
+
+    @Override
+    public boolean onQueryTextChange(String newText) {
+        String newFilter = !TextUtils.isEmpty(newText) ? newText : null;
+
+        if (mCurrentFilter == null && newFilter == null) {
+            return true;
+        }
+        if (mCurrentFilter != null && mCurrentFilter.equals(newFilter)) {
+            return true;
+        }
+        mCurrentFilter = newFilter;
+        getLoaderManager().restartLoader(0, null, this);
+        return true;
+    }
+
+    @Override
+    public boolean onClose() {
+        if (!TextUtils.isEmpty(mSearchView.getQuery())) {
+            mSearchView.setQuery(null, true);
+        }
+        return true;
+    }
+
     /**
      * Delete confirmation dialog
      * Is displayed when deleting an account which has transactions.
@@ -508,30 +576,54 @@ public void onClick(DialogInterface dialog, int whichButton) {
 
     /**
      * Extends {@link DatabaseCursorLoader} for loading of {@link Account} from the
-     * database asynchronously
-     *
+     * database asynchronously.
+     * <p>By default it loads only top-level accounts (accounts which have no parent or have GnuCash ROOT account as parent.
+     * By submitting a parent account ID in the constructor parameter, it will load child accounts of that parent.</p>
+     * <p>Class must be static because the Android loader framework requires it to be so</p>
      * @author Ngewi Fet <ngewif@gmail.com>
      */
     private static final class AccountsCursorLoader extends DatabaseCursorLoader {
         private long mParentAccountId = -1;
-
-        public AccountsCursorLoader(Context context) {
+        private String mFilter;
+
+        /**
+         * Initializes the loader to load accounts from the database.
+         * If the <code>parentAccountId <= 0</code> then only top-level accounts are loaded.
+         * Else only the child accounts of the <code>parentAccountId</code> will be loaded
+         * @param context Application context
+         * @param parentAccountId Record ID of the parent account
+         */
+        public AccountsCursorLoader(Context context, long parentAccountId) {
             super(context);
+            mParentAccountId = parentAccountId;
         }
 
-        public AccountsCursorLoader(Context context, long parentAccountId) {
+        /**
+         * Initializes the loader with a filter for account names.
+         * Only accounts whose name match the filter will be loaded.
+         * @param context Application context
+         * @param filter Account name filter string
+         */
+        public AccountsCursorLoader(Context context, String filter){
             super(context);
-            mParentAccountId = parentAccountId;
+            mFilter = filter;
         }
 
         @Override
         public Cursor loadInBackground() {
             mDatabaseAdapter = new AccountsDbAdapter(getContext());
             Cursor cursor;
-            if (mParentAccountId > 0)
-                cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchSubAccounts(mParentAccountId);
-            else
-                cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchTopLevelAccounts();
+
+            if (mFilter != null){
+                StringBuffer queryBuffer = new StringBuffer(DatabaseHelper.KEY_NAME)
+                        .append(" LIKE '%").append(mFilter).append("%'");
+                cursor = ((AccountsDbAdapter)mDatabaseAdapter).fetchAccounts(queryBuffer.toString());
+            } else {
+                if (mParentAccountId > 0)
+                    cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchSubAccounts(mParentAccountId);
+                else
+                    cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchTopLevelAccounts();
+            }
 
             if (cursor != null)
                 registerContentObserver(cursor);
diff --git a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
index 60847576..4d910848 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
@@ -26,6 +26,7 @@
 import android.widget.EditText;
 import android.widget.ListView;
 import android.widget.TextView;
+import com.actionbarsherlock.widget.SearchView;
 import com.jayway.android.robotium.solo.Solo;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
@@ -33,6 +34,7 @@
 import org.gnucash.android.data.Transaction;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.test.util.ActionBarUtils;
 import org.gnucash.android.ui.accounts.AccountsActivity;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
@@ -47,8 +49,8 @@
 	private static final String DUMMY_ACCOUNT_NAME = "Dummy account";
     public static final String  DUMMY_ACCOUNT_UID   = "dummy-account";
 	private Solo mSolo;
-	
-	public AccountsActivityTest() {		
+
+	public AccountsActivityTest() {
 		super(AccountsActivity.class);
 	}
 
@@ -85,20 +87,41 @@ public void testDisplayAccountsList(){
         accountsDbAdapter.close();
 
         //there should exist a listview of accounts
-        Fragment fragment = getActivity()
-                .getSupportFragmentManager()
-                .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-        ((AccountsListFragment)fragment).refreshList();
-
+        refreshAccountsList();
         mSolo.waitForText("Acct");
 
-		assertNotNull(fragment);
         ListView accountsListView = mSolo.getCurrentViews(ListView.class).get(0);
 		assertNotNull(accountsListView);
 
         assertEquals(NUMBER_OF_ACCOUNTS + 1, accountsListView.getCount());
 	}
 
+    public void testSearchAccounts(){
+        String SEARCH_ACCOUNT_NAME = "Search Account";
+
+        Account account = new Account(SEARCH_ACCOUNT_NAME);
+        account.setParentUID(DUMMY_ACCOUNT_UID);
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(getActivity());
+        accountsDbAdapter.addAccount(account);
+        accountsDbAdapter.close();
+
+        refreshAccountsList();
+
+        //enter search query
+        ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_search);
+        mSolo.sleep(200);
+        mSolo.enterText(0, "Se");
+
+        boolean accountFound = mSolo.waitForText(SEARCH_ACCOUNT_NAME, 1, 2000);
+        assertTrue(accountFound);
+
+        mSolo.clearEditText(0);
+
+        //the child account should be hidden again
+        accountFound = mSolo.waitForText(SEARCH_ACCOUNT_NAME, 1, 2000);
+        assertFalse(accountFound);
+    }
+
     /**
      * Tests that an account can be created successfully and that the account list is sorted alphabetically.
      */
@@ -299,4 +322,14 @@ private void clickSherlockActionBarItem(int id){
         View view = mSolo.getView(id);
         mSolo.clickOnView(view);
     }
+
+    /**
+     * Refresh the account list fragment
+     */
+    private void refreshAccountsList(){
+        Fragment fragment = getActivity()
+                .getSupportFragmentManager()
+                .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+        ((AccountsListFragment)fragment).refreshList();
+    }
 }

From 463784d3bf0aadbf5b8b890ebdaba57e072a008f Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Sat, 7 Sep 2013 00:29:23 +0200
Subject: [PATCH 16/43] Implemented exporting to QIF format Created setting for
 default export format

---
 app/res/layout/dialog_export_ofx.xml               |  38 ++++++-
 app/res/values-de/strings.xml                      |   6 ++
 app/res/values-el/strings.xml                      |   6 ++
 app/res/values-es-rMX/strings.xml                  |   6 ++
 app/res/values-es/strings.xml                      |   6 ++
 app/res/values-fr/strings.xml                      |   6 ++
 app/res/values-hu/strings.xml                      |   6 ++
 app/res/values-it/strings.xml                      |   6 ++
 app/res/values-nb/strings.xml                      |   6 ++
 app/res/values-nl/strings.xml                      |   6 ++
 app/res/values-pt-rBR/strings.xml                  |   6 ++
 app/res/values-ru/strings.xml                      |   6 ++
 app/res/values-zh/strings.xml                      |   6 ++
 app/res/values/strings.xml                         |  11 ++
 app/res/xml/fragment_general_preferences.xml       |   7 +-
 app/src/org/gnucash/android/data/Account.java      |  35 ++++++-
 app/src/org/gnucash/android/data/Transaction.java  |  35 +++++++
 .../org/gnucash/android/db/AccountsDbAdapter.java  |   9 +-
 .../gnucash/android/export/qif/QifExporter.java    |  45 ++++++++
 .../org/gnucash/android/export/qif/QifHelper.java  |  74 +++++++++++++
 .../android/ui/accounts/ExportDialogFragment.java  | 116 +++++++++++++++------
 .../ui/settings/GeneralPreferenceFragment.java     |  21 ++++
 22 files changed, 427 insertions(+), 36 deletions(-)
 create mode 100644 app/src/org/gnucash/android/export/qif/QifExporter.java
 create mode 100644 app/src/org/gnucash/android/export/qif/QifHelper.java

diff --git a/app/res/layout/dialog_export_ofx.xml b/app/res/layout/dialog_export_ofx.xml
index 9dbd624b..e032abaa 100644
--- a/app/res/layout/dialog_export_ofx.xml
+++ b/app/res/layout/dialog_export_ofx.xml
@@ -38,8 +38,38 @@
 	        style="@style/ListItem"
 	        android:layout_marginLeft="@dimen/dialog_padding"
 	        android:layout_marginRight="@dimen/dialog_padding"
-	        android:layout_marginBottom="20dp" />
-	       
+	        android:layout_marginBottom="@dimen/dialog_padding" />
+
+        <TextView
+                android:id="@+id/label_export_format"
+                android:text="Export Format"
+                android:layout_height="wrap_content"
+                android:layout_width="wrap_content"
+                android:layout_marginBottom="-8dip"
+                android:layout_marginLeft="@dimen/dialog_padding"
+                style="@style/TextAppearance.EditTransaction_LabelSmall" />
+
+        <RadioGroup xmlns:android="http://schemas.android.com/apk/res/android"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    android:layout_marginLeft="@dimen/dialog_padding"
+                    android:layout_marginRight="@dimen/dialog_padding"
+                    android:layout_marginBottom="@dimen/dialog_padding"
+                    android:orientation="horizontal">
+
+            <RadioButton android:id="@+id/radio_qif_format"
+                         android:layout_width="wrap_content"
+                         android:layout_height="wrap_content"
+                         android:layout_marginRight="20dp"
+                         android:checked="true"
+                         android:text="QIF" />
+
+            <RadioButton android:id="@+id/radio_ofx_format"
+                         android:layout_width="wrap_content"
+                         android:layout_height="wrap_content"
+                         android:text="OFX"/>
+        </RadioGroup>
+
 	    <CheckBox android:id="@+id/checkbox_export_all"
 	        android:layout_width="wrap_content"
 	        android:layout_height="wrap_content"
@@ -57,8 +87,8 @@
 	        android:layout_marginTop="@dimen/dialog_padding"
 	        android:layout_marginLeft="@dimen/dialog_padding"
 	        android:textAppearance="?android:attr/textAppearanceMedium"
-	        android:text="@string/option_delete_after_export"        
-	        />    
+	        android:text="@string/option_delete_after_export"
+	        />
 	        
 	    <TextView android:layout_marginLeft="@dimen/dialog_padding"
 	        android:text="@string/hint_delete_after_export"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index 2930d3a5..8365f48d 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -340,6 +340,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
@@ -359,4 +361,8 @@
         <item>STOCK</item>
         <item>MUTUAL FUND</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 824b65dc..5ee70dd5 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -354,6 +354,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
@@ -373,4 +375,8 @@
         <item></item>
         <item> </item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index d581f6d4..30e80be4 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -338,6 +338,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
@@ -357,4 +359,8 @@
         <item>ACCIONES</item>
         <item>FONDOS</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 89b972cd..c2133653 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -338,6 +338,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
@@ -357,4 +359,8 @@
         <item>ACCIONES</item>
         <item>FONDOS</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index 8ecc0367..d368f03a 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -336,6 +336,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
@@ -355,4 +357,8 @@
         <item>ACTIONS</item>
         <item>FONDS COMMUNS</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index ee566dbb..9ff8a842 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -339,6 +339,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
@@ -358,4 +360,8 @@
         <item>STOCK</item>
         <item>MUTUAL FUND</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 72acddf0..09fe8c2a 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -339,6 +339,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
@@ -358,4 +360,8 @@
         <item>AZIONE</item>
         <item>FONDO COMUNE</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index fcf8f063..f3adc989 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -341,6 +341,8 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
@@ -360,4 +362,8 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
         <item>AKSJE</item>
         <item>AKSJEFOND</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 95c4b639..446907a1 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -340,6 +340,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
@@ -359,4 +361,8 @@
         <item>STOCK</item>
         <item>MUTUAL FUND</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index b45b853d..f0d50e82 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -338,6 +338,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
@@ -357,4 +359,8 @@
         <item>AES</item>
         <item>FUNDO MTUO</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 6eae03d7..295d4f1e 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -336,6 +336,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
@@ -355,4 +357,8 @@
         <item>STOCK</item>
         <item>MUTUAL FUND</item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 8bc9209f..c35bac8e 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -513,6 +513,8 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
@@ -532,4 +534,8 @@
         <item></item>
         <item></item>
     </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index be34f74c..4fd8ee3e 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -536,6 +536,9 @@
     <string name="section_header_transactions">Transactions</string>
     <string name="section_header_accounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
+    <string name="title_default_export_format">Default Export Format</string>
+    <string name="key_default_export_format">default_export_format</string>
+    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
@@ -570,4 +573,12 @@
         <item>STOCK</item>
         <item>MUTUAL</item>
     </string-array>
+    <string-array name="key_export_format_values">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
+    <string-array name="export_formats">
+        <item>QIF</item>
+        <item>OFX</item>
+    </string-array>
 </resources>
diff --git a/app/res/xml/fragment_general_preferences.xml b/app/res/xml/fragment_general_preferences.xml
index 8b684feb..5ea542b2 100644
--- a/app/res/xml/fragment_general_preferences.xml
+++ b/app/res/xml/fragment_general_preferences.xml
@@ -17,7 +17,12 @@
 
 <PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android" >
     <PreferenceCategory android:title="@string/title_export_preference_category">
-        <EditTextPreference android:title="@string/title_default_export_email" 
+        <ListPreference android:title="@string/title_default_export_format"
+                        android:entryValues="@array/key_export_format_values"
+                        android:entries="@array/export_formats"
+                        android:key="@string/key_default_export_format"
+                        android:summary="@string/summary_default_export_format"/>
+        <EditTextPreference android:title="@string/title_default_export_email"
             android:key="@string/key_default_export_email" 
             android:summary="@string/summary_default_export_email"
             android:inputType="textEmailAddress"/>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index c1b4b4ee..e36bc9e2 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -23,6 +23,9 @@
 import java.util.Locale;
 import java.util.UUID;
 
+import android.content.Context;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.export.qif.QifHelper;
 import org.gnucash.android.util.OfxFormatter;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
@@ -45,7 +48,7 @@
 	 * This is used when sending intents from third-party applications
 	 */
 	public static final String MIME_TYPE = "vnd.android.cursor.item/vnd.org.gnucash.android.account";
-	
+
 	/**
 	 * The type of account
 	 * This are the different types specified by the OFX format and 
@@ -453,4 +456,34 @@ public void toOfx(Document doc, Element parent, boolean allTransactions){
 				
 	}
 
+    /**
+     * Exports the account info and transactions in the QIF format
+     * @param exportAll Flag to determine whether to export all transactions, or only new transactions since last export
+     * @return QIF representation of the account information
+     */
+    public String toQIF(boolean exportAll, Context context) {
+        StringBuffer accountQifBuffer = new StringBuffer();
+        final String newLine = "\n";
+
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(context);
+        String fullyQualifiedAccountName = accountsDbAdapter.getFullyQualifiedAccountName(mUID);
+        accountsDbAdapter.close();
+
+        accountQifBuffer.append(QifHelper.ACCOUNT_HEADER).append(newLine);
+        accountQifBuffer.append(QifHelper.ACCOUNT_NAME_PREFIX).append(fullyQualifiedAccountName).append(newLine);
+        accountQifBuffer.append(QifHelper.ENTRY_TERMINATOR).append(newLine);
+
+        String header = QifHelper.getQifHeader(mAccountType);
+        accountQifBuffer.append(header + newLine);
+
+        for (Transaction transaction : mTransactionsList) {
+            //ignore those which are loaded as double transactions.
+            // They will be handled as splits
+            if (!transaction.getAccountUID().equals(mUID))
+                continue;
+
+            accountQifBuffer.append(transaction.toQIF(context) + newLine);
+        }
+        return accountQifBuffer.toString();
+    }
 }
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index 7c9cb180..6860f232 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -22,9 +22,11 @@
 import java.util.Locale;
 import java.util.UUID;
 
+import android.content.Context;
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.data.Account.OfxAccountType;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.export.qif.QifHelper;
 import org.gnucash.android.util.OfxFormatter;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
@@ -430,4 +432,37 @@ public Element toOfx(Document doc, String accountUID){
 		return transactionNode;
 	}
 
+    /**
+     * Builds a QIF entry representing this transaction
+     * @param context Application context
+     * @return String QIF representation of this transaction
+     */
+    public String toQIF(Context context){
+        final String newLine = "\n";
+
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(context);
+
+        StringBuffer transactionQifBuffer = new StringBuffer();
+        transactionQifBuffer.append(QifHelper.DATE_PREFIX + QifHelper.formatDate(mTimestamp) + newLine);
+
+        if (mDoubleEntryAccountUID != null && !mDoubleEntryAccountUID.isEmpty()){
+            String splitAccountFullName = accountsDbAdapter.getFullyQualifiedAccountName(mDoubleEntryAccountUID);
+            transactionQifBuffer.append(QifHelper.SPLIT_CATEGORY_PREFIX + splitAccountFullName + newLine);
+            if (mDescription != null || mDescription.isEmpty()){
+                transactionQifBuffer.append(QifHelper.SPLIT_MEMO_PREFIX + mDescription + newLine);
+            }
+            transactionQifBuffer.append(QifHelper.SPLIT_AMOUNT_PREFIX + mAmount.negate().asString() + newLine);
+        } else {
+            transactionQifBuffer.append(QifHelper.AMOUNT_PREFIX + mAmount.asString() + newLine);
+            if (mDescription != null && !mDescription.isEmpty()){
+                transactionQifBuffer.append(QifHelper.MEMO_PREFIX + mDescription + newLine);
+            }
+            transactionQifBuffer.append(QifHelper.CATEGORY_PREFIX + QifHelper.getImbalanceAccountName(mAmount.getCurrency()) + newLine);
+        }
+
+        transactionQifBuffer.append(QifHelper.ENTRY_TERMINATOR + newLine);
+
+        accountsDbAdapter.close();
+        return transactionQifBuffer.toString();
+    }
 }
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 3967754d..e9889c1c 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -38,7 +38,7 @@
     /**
      * Separator used for account name hierarchies between parent and child accounts
      */
-    public static final String ACCOUNT_NAME_SEPARATOR = "::";
+    public static final String ACCOUNT_NAME_SEPARATOR = ":";
 
 	/**
 	 * Transactions database adapter for manipulating transactions associated with accounts
@@ -324,6 +324,7 @@ public String getName(long accountID) {
 	 * @return List of {@link Account}s with unexported transactions
 	 */
 	public List<Account> getExportableAccounts(){
+        //TODO: Optimize to use SQL DISTINCT and load only necessary accounts from db
 		List<Account> accountsList = getAllAccounts();
 		Iterator<Account> it = accountsList.iterator();
 		
@@ -552,6 +553,12 @@ public String getCurrencyCode(String accountUID){
 		return getCurrencyCode(getAccountID(accountUID));
 	}
 
+    /**
+     * Returns the simple name of the account with unique ID <code>accountUID</code>.
+     * @param accountUID Unique identifier of the account
+     * @return Name of the account as String
+     * @see #getFullyQualifiedAccountName(String)
+     */
     public String getAccountName(String accountUID){
         Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
                 new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_NAME},
diff --git a/app/src/org/gnucash/android/export/qif/QifExporter.java b/app/src/org/gnucash/android/export/qif/QifExporter.java
new file mode 100644
index 00000000..e6cd8163
--- /dev/null
+++ b/app/src/org/gnucash/android/export/qif/QifExporter.java
@@ -0,0 +1,45 @@
+package org.gnucash.android.export.qif;
+
+import android.content.Context;
+import org.gnucash.android.data.Account;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.TransactionsDbAdapter;
+
+import java.util.List;
+
+/**
+ * @author Ngewi
+ */
+public class QifExporter {
+    boolean mExportAll;
+    Context mContext;
+    private List<Account> mAccountsList;
+
+    public QifExporter(Context context, boolean exportAll){
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(context);
+        mAccountsList = exportAll ? accountsDbAdapter.getAllAccounts() : accountsDbAdapter.getExportableAccounts();
+        accountsDbAdapter.close();
+
+        this.mExportAll = exportAll;
+        this.mContext = context;
+    }
+
+    public String generateQIF(){
+        StringBuffer qifBuffer = new StringBuffer();
+
+        TransactionsDbAdapter transactionsDbAdapter = new TransactionsDbAdapter(mContext);
+        for (Account account : mAccountsList) {
+            if (account.getTransactionCount() == 0)
+                continue;
+
+            qifBuffer.append(account.toQIF(mExportAll, mContext) + "\n");
+
+            //mark as exported
+            transactionsDbAdapter.markAsExported(account.getUID());
+        }
+        transactionsDbAdapter.close();
+
+        return qifBuffer.toString();
+    }
+
+}
diff --git a/app/src/org/gnucash/android/export/qif/QifHelper.java b/app/src/org/gnucash/android/export/qif/QifHelper.java
new file mode 100644
index 00000000..e8fd1f99
--- /dev/null
+++ b/app/src/org/gnucash/android/export/qif/QifHelper.java
@@ -0,0 +1,74 @@
+package org.gnucash.android.export.qif;
+
+import org.gnucash.android.data.Account;
+
+import java.text.SimpleDateFormat;
+import java.util.Currency;
+import java.util.Date;
+
+/**
+ * @author Ngewi
+ */
+public class QifHelper {
+    /*
+    Prefixes for the QIF file
+     */
+    public static final String DATE_PREFIX          = "D";
+    public static final String AMOUNT_PREFIX        = "T";
+    public static final String MEMO_PREFIX          = "M";
+    public static final String CATEGORY_PREFIX      = "L";
+    public static final String SPLIT_MEMO_PREFIX    = "E";
+    public static final String SPLIT_AMOUNT_PREFIX  = "$";
+    public static final String SPLIT_CATEGORY_PREFIX    = "S";
+    public static final String SPLIT_PERCENTAGE_PREFIX  = "%";
+    public static final String ACCOUNT_HEADER           = "!Account";
+    public static final String ACCOUNT_NAME_PREFIX      = "N";
+
+
+    public static final String ENTRY_TERMINATOR = "^";
+    private static final SimpleDateFormat QIF_DATE_FORMATTER = new SimpleDateFormat("yyyy/M/d");
+
+    /**
+     * Formats the date for QIF in the form d MMMM YYYY.
+     * For example 25 January 2013
+     * @param timeMillis Time in milliseconds since epoch
+     * @return Formatted date from the time
+     */
+    public static final String formatDate(long timeMillis){
+        Date date = new Date(timeMillis);
+        return QIF_DATE_FORMATTER.format(date);
+    }
+
+    /**
+     * Returns the QIF header for the transaction based on the account type.
+     * By default, the QIF cash header is used
+     * @param accountType AccountType of account
+     * @return QIF header for the transactions
+     */
+    public static String getQifHeader(Account.AccountType accountType){
+        switch (accountType) {
+            case CASH:
+                return "!Type:Cash";
+            case BANK:
+                return "!Type:Bank";
+            case CREDIT:
+                return "!Type:CCard";
+            case ASSET:
+                return "!Type:Oth A";
+            case LIABILITY:
+                return "!Type:Oth L";
+            default:
+                return "!Type:Cash";
+        }
+    }
+
+    /**
+     * Returns the imbalance account where to store transactions which are not double entry
+     * @param currency Currency of the transaction
+     * @return Imbalance account name
+     */
+    public static String getImbalanceAccountName(Currency currency){
+        //TODO: localize this in the future
+        return "Imbalance-" + currency.getCurrencyCode();
+    }
+}
diff --git a/app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java b/app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java
index 27ee3b27..ae20d279 100644
--- a/app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java
@@ -40,7 +40,9 @@
 import javax.xml.transform.dom.DOMSource;
 import javax.xml.transform.stream.StreamResult;
 
+import android.widget.*;
 import org.gnucash.android.R;
+import org.gnucash.android.export.qif.QifExporter;
 import org.gnucash.android.ui.transactions.TransactionsDeleteConfirmationDialog;
 import org.gnucash.android.util.OfxFormatter;
 import org.w3c.dom.Document;
@@ -61,11 +63,6 @@
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.ArrayAdapter;
-import android.widget.Button;
-import android.widget.CheckBox;
-import android.widget.Spinner;
-import android.widget.Toast;
 
 /**
  * Dialog fragment for exporting account information as OFX files.
@@ -110,7 +107,11 @@
 	 * Tag for logging
 	 */
 	private static final String TAG = "ExportDialogFragment";
-	
+
+    public enum ExportFormat { QIF, OFX};
+
+    private ExportFormat mExportFormat = ExportFormat.QIF;
+
 	/**
 	 * Click listener for positive button in the dialog.
 	 * @author Ngewi Fet <ngewif@gmail.com>
@@ -119,20 +120,33 @@
 
 		@Override
 		public void onClick(View v) {
-			boolean exportAll = mExportAllCheckBox.isChecked();
-			Document document = null;				
-			try {
-				document = exportOfx(exportAll);
-				writeToExternalStorage(document);
-			} catch (Exception e) {
-				Log.e(TAG, e.getMessage());
-				Toast.makeText(getActivity(), R.string.error_exporting,
-						Toast.LENGTH_LONG).show();
-				dismiss();
-				return;
-			}
-			
-			int position = mDestinationSpinner.getSelectedItemPosition();
+            boolean exportAll = mExportAllCheckBox.isChecked();
+            try {
+                switch (mExportFormat) {
+                    case QIF: {
+                        QifExporter qifExporter = new QifExporter(getActivity(), exportAll);
+                        String qif = qifExporter.generateQIF();
+
+                        writeQifExternalStorage(qif);
+                    }
+                    break;
+
+                    case OFX: {
+                        Document document = exportOfx(exportAll);
+                        writeOfxToExternalStorage(document);
+                    }
+                    break;
+                }
+            } catch (Exception e) {
+                Log.e(TAG, e.getMessage());
+                Toast.makeText(getActivity(), R.string.error_exporting,
+                        Toast.LENGTH_LONG).show();
+                dismiss();
+                return;
+            }
+
+
+            int position = mDestinationSpinner.getSelectedItemPosition();
 			switch (position) {
 			case 0:					
 				shareFile(mFilePath);				
@@ -141,7 +155,7 @@ public void onClick(View v) {
 			case 1:				
 				File src = new File(mFilePath);
 				new File(Environment.getExternalStorageDirectory() + "/gnucash/").mkdirs();
-				File dst = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + buildExportFilename());
+				File dst = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + buildExportFilename(mExportFormat));
 				
 				try {
 					copyFile(src, dst);
@@ -176,7 +190,19 @@ public void onClick(View v) {
 		}
 		
 	}
-	
+
+    public void onRadioButtonClicked(View view){
+        switch (view.getId()){
+            case R.id.radio_ofx_format:
+                mExportFormat = ExportFormat.OFX;
+                break;
+            case R.id.radio_qif_format:
+                mExportFormat = ExportFormat.QIF;
+        }
+        mFilePath = buildExportFilename(mExportFormat);
+        return;
+    }
+
 	@Override
 	public View onCreateView(LayoutInflater inflater, ViewGroup container,
 			Bundle savedInstanceState) {
@@ -186,7 +212,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 	@Override
 	public void onActivityCreated(Bundle savedInstanceState) {		
 		super.onActivityCreated(savedInstanceState);
-		mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename();
+		mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename(mExportFormat);
 		getDialog().setTitle(R.string.menu_export_ofx);
 		bindViews();
 	}
@@ -222,17 +248,41 @@ public void onClick(View v) {
 		});
 		
 		mSaveButton.setOnClickListener(new ExportClickListener());
+
+        String defaultExportFormat = sharedPrefs.getString(getString(R.string.key_default_export_format), ExportFormat.QIF.name());
+        View.OnClickListener clickListener = new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                onRadioButtonClicked(view);
+            }
+        };
+
+        RadioButton ofxRadioButton = (RadioButton) v.findViewById(R.id.radio_ofx_format);
+        ofxRadioButton.setChecked(defaultExportFormat.equalsIgnoreCase(ExportFormat.OFX.name()));
+        ofxRadioButton.setOnClickListener(clickListener);
+
+        RadioButton qifRadioButton = (RadioButton) v.findViewById(R.id.radio_qif_format);
+        qifRadioButton.setChecked(defaultExportFormat.equalsIgnoreCase(ExportFormat.QIF.name()));
+        qifRadioButton.setOnClickListener(clickListener);
 	}
-	
+
+    private void writeQifExternalStorage(String qif) throws IOException {
+        File file = new File(mFilePath);
+
+        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
+        writer.write(qif);
+
+        writer.flush();
+    }
+
 	/**
 	 * Writes the OFX document <code>doc</code> to external storage
 	 * @param doc Document containing OFX file data
 	 * @throws IOException if file could not be saved
 	 */
-	private void writeToExternalStorage(Document doc) throws IOException{
+	private void writeOfxToExternalStorage(Document doc) throws IOException{
 		File file = new File(mFilePath);
 		
-//		FileWriter writer = new FileWriter(file);
 		BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
 		boolean useXmlHeader = PreferenceManager.getDefaultSharedPreferences(getActivity())
 				.getBoolean(getString(R.string.key_xml_ofx_header), false);
@@ -317,11 +367,19 @@ public static void copyFile(File src, File dst) throws IOException
 	 * Builds a file name based on the current time stamp for the exported file
 	 * @return String containing the file name
 	 */
-	public static String buildExportFilename(){
-		SimpleDateFormat formatter = new SimpleDateFormat("yyyyMMdd_HHmm", Locale.US);
+	public static String buildExportFilename(ExportFormat format){
+		SimpleDateFormat formatter = new SimpleDateFormat("yyyyMMdd_HHmmss", Locale.US);
 		String filename = formatter.format(
 				new Date(System.currentTimeMillis())) 
-				+ "_gnucash_all.ofx";
+				+ "_gnucash_all";
+        switch (format) {
+            case QIF:
+                filename += ".qif";
+                break;
+            case OFX:
+                filename += ".ofx";
+                break;
+        }
 		return filename;
 	}
 	
diff --git a/app/src/org/gnucash/android/ui/settings/GeneralPreferenceFragment.java b/app/src/org/gnucash/android/ui/settings/GeneralPreferenceFragment.java
index 238492d7..be15e595 100644
--- a/app/src/org/gnucash/android/ui/settings/GeneralPreferenceFragment.java
+++ b/app/src/org/gnucash/android/ui/settings/GeneralPreferenceFragment.java
@@ -61,8 +61,22 @@ public void onResume() {
 			pref.setSummary(defaultEmail);			
 		}
 		pref.setOnPreferenceChangeListener(this);
+
+        String keyDefaultExportFormat = getString(R.string.key_default_export_format);
+        pref = findPreference(keyDefaultExportFormat);
+        String defaultExportFormat = manager.getString(keyDefaultExportFormat, null);
+        if (defaultExportFormat != null && !defaultExportFormat.trim().isEmpty()){
+            pref.setSummary(defaultExportFormat);
+        }
+        pref.setOnPreferenceChangeListener(this);
 	}
 
+    /**
+     * Listens for changes to the preference and sets the preference summary to the new value
+     * @param preference Preference which has been changed
+     * @param newValue New value for the changed preference
+     * @return <code>true</code> if handled, <code>false</code> otherwise
+     */
 	@Override
 	public boolean onPreferenceChange(Preference preference, Object newValue) {
 		preference.setSummary(newValue.toString());
@@ -76,6 +90,13 @@ public boolean onPreferenceChange(Preference preference, Object newValue) {
 				preference.setSummary(R.string.summary_default_export_email);
 			}					
 		}
+
+        if (preference.getKey().equals(getString(R.string.key_default_export_format))){
+            String exportFormat = newValue.toString();
+            if (exportFormat == null || exportFormat.trim().isEmpty()){
+                preference.setSummary(R.string.summary_default_export_format);
+            }
+        }
 		return true;
 	}
 

From 4ebd206018263587cbd11e193375b9b6bd6aff87 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Tue, 17 Sep 2013 14:27:32 +0200
Subject: [PATCH 17/43] Started test cases for QIF export and fixing broken
 tests for OFX export Code refactoring

---
 app/res/menu/account_actions.xml                   |   2 +-
 app/res/values-de/strings.xml                      |   1 +
 app/res/values-el/strings.xml                      |   1 +
 app/res/values-es-rMX/strings.xml                  |   1 +
 app/res/values-es/strings.xml                      |   1 +
 app/res/values-fr/strings.xml                      |   1 +
 app/res/values-hu/strings.xml                      |   1 +
 app/res/values-it/strings.xml                      |   1 +
 app/res/values-nb/strings.xml                      |   1 +
 app/res/values-nl/strings.xml                      |   1 +
 app/res/values-pt-rBR/strings.xml                  |   1 +
 app/res/values-ru/strings.xml                      |   1 +
 app/res/values-zh/strings.xml                      |   1 +
 app/res/values/strings.xml                         |   1 +
 app/src/org/gnucash/android/data/Account.java      |   6 +-
 app/src/org/gnucash/android/data/Transaction.java  |   8 +-
 .../accounts => export}/ExportDialogFragment.java  | 880 +++++++++++----------
 .../org/gnucash/android/export/ExportFormat.java   |  39 +
 .../ofx/OfxExporter.java}                          |   6 +-
 .../android/ui/accounts/AccountsListFragment.java  |   4 +-
 ...ExportTest.java => ExportTransactionsTest.java} | 441 ++++++-----
 21 files changed, 742 insertions(+), 657 deletions(-)
 rename app/src/org/gnucash/android/{ui/accounts => export}/ExportDialogFragment.java (94%)
 create mode 100644 app/src/org/gnucash/android/export/ExportFormat.java
 rename app/src/org/gnucash/android/{util/OfxFormatter.java => export/ofx/OfxExporter.java} (97%)
 rename integration-tests/src/org/gnucash/android/test/ui/{OfxExportTest.java => ExportTransactionsTest.java} (71%)

diff --git a/app/res/menu/account_actions.xml b/app/res/menu/account_actions.xml
index 6b594b21..61101df1 100644
--- a/app/res/menu/account_actions.xml
+++ b/app/res/menu/account_actions.xml
@@ -23,7 +23,7 @@
     
         <item android:id="@+id/menu_export"
           android:icon="@drawable/content_import_export_holo_light"
-          android:title="@string/menu_export_ofx"
+          android:title="@string/menu_export_transactions"
           android:showAsAction="never"
           android:orderInCategory="3"/>
 </menu>
\ No newline at end of file
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index 8365f48d..c8e3562a 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -342,6 +342,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 5ee70dd5..ac793865 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -356,6 +356,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 30e80be4..23d41528 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -340,6 +340,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index c2133653..4215a056 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -340,6 +340,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index d368f03a..bb7b5c3e 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -338,6 +338,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 9ff8a842..19c3a432 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -341,6 +341,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 09fe8c2a..5e3f6625 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -341,6 +341,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index f3adc989..91c8de10 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -343,6 +343,7 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 446907a1..330cbeec 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -342,6 +342,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index f0d50e82..7e6569ab 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -340,6 +340,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 295d4f1e..da53c039 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -338,6 +338,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index c35bac8e..7ea5255a 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -515,6 +515,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 4fd8ee3e..bf609112 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -539,6 +539,7 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="key_default_export_format">default_export_format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
+    <string name="menu_export_transactions">Export transactions...</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index e36bc9e2..d6304d81 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -25,8 +25,8 @@
 
 import android.content.Context;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.export.ofx.OfxExporter;
 import org.gnucash.android.export.qif.QifHelper;
-import org.gnucash.android.util.OfxFormatter;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 
@@ -389,7 +389,7 @@ public void toOfx(Document doc, Element parent, boolean allTransactions){
 		//================= BEGIN BANK ACCOUNT INFO (BANKACCTFROM) =================================
 		
 		Element bankId = doc.createElement("BANKID");
-		bankId.appendChild(doc.createTextNode(OfxFormatter.APP_ID));
+		bankId.appendChild(doc.createTextNode(OfxExporter.APP_ID));
 		
 		Element acctId = doc.createElement("ACCTID");
 		acctId.appendChild(doc.createTextNode(mUID));
@@ -408,7 +408,7 @@ public void toOfx(Document doc, Element parent, boolean allTransactions){
 		
 		//================= BEGIN ACCOUNT BALANCE INFO =================================
 		String balance = getBalance().toPlainString();
-		String formattedCurrentTimeString = OfxFormatter.getFormattedCurrentTime();
+		String formattedCurrentTimeString = OfxExporter.getFormattedCurrentTime();
 		
 		Element balanceAmount = doc.createElement("BALAMT");
 		balanceAmount.appendChild(doc.createTextNode(balance));			
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index 6860f232..03217d53 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -26,8 +26,8 @@
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.data.Account.OfxAccountType;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.export.ofx.OfxExporter;
 import org.gnucash.android.export.qif.QifHelper;
-import org.gnucash.android.util.OfxFormatter;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 
@@ -379,12 +379,12 @@ public Element toOfx(Document doc, String accountUID){
 		transactionNode.appendChild(type);
 
 		Element datePosted = doc.createElement("DTPOSTED");
-		datePosted.appendChild(doc.createTextNode(OfxFormatter.getOfxFormattedTime(mTimestamp)));
+		datePosted.appendChild(doc.createTextNode(OfxExporter.getOfxFormattedTime(mTimestamp)));
 		transactionNode.appendChild(datePosted);
 		
 		Element dateUser = doc.createElement("DTUSER");
 		dateUser.appendChild(doc.createTextNode(
-				OfxFormatter.getOfxFormattedTime(mTimestamp)));
+				OfxExporter.getOfxFormattedTime(mTimestamp)));
 		transactionNode.appendChild(dateUser);
 		
 		Element amount = doc.createElement("TRNAMT");
@@ -407,7 +407,7 @@ public Element toOfx(Document doc, String accountUID){
 		
 		if (mDoubleEntryAccountUID != null && mDoubleEntryAccountUID.length() > 0){
 			Element bankId = doc.createElement("BANKID");
-			bankId.appendChild(doc.createTextNode(OfxFormatter.APP_ID));
+			bankId.appendChild(doc.createTextNode(OfxExporter.APP_ID));
 			
 			//select the proper account as the double account
 			String doubleAccountUID = mDoubleEntryAccountUID.equals(accountUID) ? mAccountUID : mDoubleEntryAccountUID;
diff --git a/app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java b/app/src/org/gnucash/android/export/ExportDialogFragment.java
similarity index 94%
rename from app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java
rename to app/src/org/gnucash/android/export/ExportDialogFragment.java
index ae20d279..b1d0add8 100644
--- a/app/src/org/gnucash/android/ui/accounts/ExportDialogFragment.java
+++ b/app/src/org/gnucash/android/export/ExportDialogFragment.java
@@ -1,439 +1,441 @@
-/*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package org.gnucash.android.ui.accounts;
-
-import java.io.BufferedWriter;
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileOutputStream;
-import java.io.IOException;
-import java.io.OutputStreamWriter;
-import java.io.StringWriter;
-import java.io.Writer;
-import java.nio.channels.FileChannel;
-import java.text.SimpleDateFormat;
-import java.util.Date;
-import java.util.Locale;
-
-import javax.xml.parsers.DocumentBuilder;
-import javax.xml.parsers.DocumentBuilderFactory;
-import javax.xml.parsers.ParserConfigurationException;
-import javax.xml.transform.OutputKeys;
-import javax.xml.transform.Transformer;
-import javax.xml.transform.TransformerConfigurationException;
-import javax.xml.transform.TransformerException;
-import javax.xml.transform.TransformerFactory;
-import javax.xml.transform.dom.DOMSource;
-import javax.xml.transform.stream.StreamResult;
-
-import android.widget.*;
-import org.gnucash.android.R;
-import org.gnucash.android.export.qif.QifExporter;
-import org.gnucash.android.ui.transactions.TransactionsDeleteConfirmationDialog;
-import org.gnucash.android.util.OfxFormatter;
-import org.w3c.dom.Document;
-import org.w3c.dom.Element;
-import org.w3c.dom.Node;
-import org.w3c.dom.ProcessingInstruction;
-
-import android.app.Activity;
-import android.content.Intent;
-import android.content.SharedPreferences;
-import android.net.Uri;
-import android.os.Bundle;
-import android.os.Environment;
-import android.preference.PreferenceManager;
-import android.support.v4.app.DialogFragment;
-import android.support.v4.app.Fragment;
-import android.util.Log;
-import android.view.LayoutInflater;
-import android.view.View;
-import android.view.ViewGroup;
-
-/**
- * Dialog fragment for exporting account information as OFX files.
- * @author Ngewi Fet <ngewif@gmail.com>
- */
-public class ExportDialogFragment extends DialogFragment {
-		
-	/**
-	 * Spinner for selecting destination for the exported file.
-	 * The destination could either be SD card, or another application which
-	 * accepts files, like Google Drive.
-	 */
-	Spinner mDestinationSpinner;
-	
-	/**
-	 * Checkbox indicating that all transactions should be exported,
-	 * regardless of whether they have been exported previously or not
-	 */
-	CheckBox mExportAllCheckBox;
-	
-	/**
-	 * Checkbox for deleting all transactions after exporting them
-	 */
-	CheckBox mDeleteAllCheckBox;
-	
-	/**
-	 * Save button for saving the exported files
-	 */
-	Button mSaveButton;
-	
-	/**
-	 * Cancels the export dialog
-	 */
-	Button mCancelButton;
-	
-	/**
-	 * File path for saving the OFX files
-	 */
-	String mFilePath;
-	
-	/**
-	 * Tag for logging
-	 */
-	private static final String TAG = "ExportDialogFragment";
-
-    public enum ExportFormat { QIF, OFX};
-
-    private ExportFormat mExportFormat = ExportFormat.QIF;
-
-	/**
-	 * Click listener for positive button in the dialog.
-	 * @author Ngewi Fet <ngewif@gmail.com>
-	 */
-	protected class ExportClickListener implements View.OnClickListener {
-
-		@Override
-		public void onClick(View v) {
-            boolean exportAll = mExportAllCheckBox.isChecked();
-            try {
-                switch (mExportFormat) {
-                    case QIF: {
-                        QifExporter qifExporter = new QifExporter(getActivity(), exportAll);
-                        String qif = qifExporter.generateQIF();
-
-                        writeQifExternalStorage(qif);
-                    }
-                    break;
-
-                    case OFX: {
-                        Document document = exportOfx(exportAll);
-                        writeOfxToExternalStorage(document);
-                    }
-                    break;
-                }
-            } catch (Exception e) {
-                Log.e(TAG, e.getMessage());
-                Toast.makeText(getActivity(), R.string.error_exporting,
-                        Toast.LENGTH_LONG).show();
-                dismiss();
-                return;
-            }
-
-
-            int position = mDestinationSpinner.getSelectedItemPosition();
-			switch (position) {
-			case 0:					
-				shareFile(mFilePath);				
-				break;
-
-			case 1:				
-				File src = new File(mFilePath);
-				new File(Environment.getExternalStorageDirectory() + "/gnucash/").mkdirs();
-				File dst = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + buildExportFilename(mExportFormat));
-				
-				try {
-					copyFile(src, dst);
-				} catch (IOException e) {
-					Toast.makeText(getActivity(), 
-							getString(R.string.toast_error_exporting_ofx) + dst.getAbsolutePath(), 
-							Toast.LENGTH_LONG).show();		
-					Log.e(TAG, e.getMessage());
-					break;
-				}
-				
-				//file already exists, just let the user know
-				Toast.makeText(getActivity(), 
-						getString(R.string.toast_ofx_exported_to) + dst.getAbsolutePath(), 
-						Toast.LENGTH_LONG).show();					
-				break;
-				
-			default:
-				break;
-			}
-			
-			if (mDeleteAllCheckBox.isChecked()){
-				Fragment currentFragment = getActivity().getSupportFragmentManager()
-						.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-				TransactionsDeleteConfirmationDialog alertFragment = 
-						TransactionsDeleteConfirmationDialog.newInstance(R.string.title_confirm_delete, 0);
-				alertFragment.setTargetFragment(currentFragment, 0);
-				alertFragment.show(getActivity().getSupportFragmentManager(), "transactions_delete_confirmation_dialog");
-			}
-			
-			dismiss();
-		}
-		
-	}
-
-    public void onRadioButtonClicked(View view){
-        switch (view.getId()){
-            case R.id.radio_ofx_format:
-                mExportFormat = ExportFormat.OFX;
-                break;
-            case R.id.radio_qif_format:
-                mExportFormat = ExportFormat.QIF;
-        }
-        mFilePath = buildExportFilename(mExportFormat);
-        return;
-    }
-
-	@Override
-	public View onCreateView(LayoutInflater inflater, ViewGroup container,
-			Bundle savedInstanceState) {
-		return inflater.inflate(R.layout.dialog_export_ofx, container, false);
-	}
-	
-	@Override
-	public void onActivityCreated(Bundle savedInstanceState) {		
-		super.onActivityCreated(savedInstanceState);
-		mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename(mExportFormat);
-		getDialog().setTitle(R.string.menu_export_ofx);
-		bindViews();
-	}
-
-	/**
-	 * Collects references to the UI elements and binds click listeners
-	 */
-	private void bindViews(){		
-		View v = getView();
-		mDestinationSpinner = (Spinner) v.findViewById(R.id.spinner_export_destination);
-		ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(),
-		        R.array.export_destinations, android.R.layout.simple_spinner_item);		
-		adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);		
-		mDestinationSpinner.setAdapter(adapter);
-		
-		SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getActivity());
-		mExportAllCheckBox = (CheckBox) v.findViewById(R.id.checkbox_export_all);
-		mExportAllCheckBox.setChecked(sharedPrefs.getBoolean(getString(R.string.key_export_all_transactions), false));
-		
-		mDeleteAllCheckBox = (CheckBox) v.findViewById(R.id.checkbox_post_export_delete);
-		mDeleteAllCheckBox.setChecked(sharedPrefs.getBoolean(getString(R.string.key_delete_transactions_after_export), false));
-		
-		mSaveButton = (Button) v.findViewById(R.id.btn_save);
-		mSaveButton.setText(R.string.btn_export);
-		mCancelButton = (Button) v.findViewById(R.id.btn_cancel);
-		
-		mCancelButton.setOnClickListener(new View.OnClickListener() {
-			
-			@Override
-			public void onClick(View v) {				
-				dismiss();
-			}
-		});
-		
-		mSaveButton.setOnClickListener(new ExportClickListener());
-
-        String defaultExportFormat = sharedPrefs.getString(getString(R.string.key_default_export_format), ExportFormat.QIF.name());
-        View.OnClickListener clickListener = new View.OnClickListener() {
-            @Override
-            public void onClick(View view) {
-                onRadioButtonClicked(view);
-            }
-        };
-
-        RadioButton ofxRadioButton = (RadioButton) v.findViewById(R.id.radio_ofx_format);
-        ofxRadioButton.setChecked(defaultExportFormat.equalsIgnoreCase(ExportFormat.OFX.name()));
-        ofxRadioButton.setOnClickListener(clickListener);
-
-        RadioButton qifRadioButton = (RadioButton) v.findViewById(R.id.radio_qif_format);
-        qifRadioButton.setChecked(defaultExportFormat.equalsIgnoreCase(ExportFormat.QIF.name()));
-        qifRadioButton.setOnClickListener(clickListener);
-	}
-
-    private void writeQifExternalStorage(String qif) throws IOException {
-        File file = new File(mFilePath);
-
-        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
-        writer.write(qif);
-
-        writer.flush();
-    }
-
-	/**
-	 * Writes the OFX document <code>doc</code> to external storage
-	 * @param doc Document containing OFX file data
-	 * @throws IOException if file could not be saved
-	 */
-	private void writeOfxToExternalStorage(Document doc) throws IOException{
-		File file = new File(mFilePath);
-		
-		BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
-		boolean useXmlHeader = PreferenceManager.getDefaultSharedPreferences(getActivity())
-				.getBoolean(getString(R.string.key_xml_ofx_header), false);
-
-		//if we want SGML OFX headers, write first to string and then prepend header
-		if (useXmlHeader){
-			write(doc, writer, false);
-		} else {			
-			Node ofxNode = doc.getElementsByTagName("OFX").item(0);
-			StringWriter stringWriter = new StringWriter();
-			write(ofxNode, stringWriter, true);
-			
-			StringBuffer stringBuffer = new StringBuffer(OfxFormatter.OFX_SGML_HEADER);
-			stringBuffer.append('\n');
-			writer.write(stringBuffer.toString() + stringWriter.toString());
-		}
-		
-		writer.flush();
-		writer.close();
-	}
-	
-	/**
-	 * Callback for when the activity chooser dialog is completed
-	 */
-	@Override
-	public void onActivityResult(int requestCode, int resultCode, Intent data) {
-		//TODO: fix the exception which is thrown on return
-		if (resultCode == Activity.RESULT_OK){
-			//uploading or emailing has finished. clean up now.
-			File file = new File(mFilePath);
-			file.delete();
-		}
-	}
-	
-	/**
-	 * Starts an intent chooser to allow the user to select an activity to receive
-	 * the exported OFX file
-	 * @param path String path to the file on disk
-	 */
-	private void shareFile(String path){
-		String defaultEmail = PreferenceManager.getDefaultSharedPreferences(getActivity())
-												.getString(getString(R.string.key_default_export_email), null);
-		Intent shareIntent = new Intent(Intent.ACTION_SEND);
-		shareIntent.setType("application/xml");
-		shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file://"+ path));
-		shareIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.title_export_email));
-		if (defaultEmail != null && defaultEmail.trim().length() > 0){
-			shareIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{defaultEmail});
-		}			
-		SimpleDateFormat formatter = (SimpleDateFormat) SimpleDateFormat.getDateTimeInstance();
-		
-		shareIntent.putExtra(Intent.EXTRA_TEXT, getString(R.string.description_export_email) 
-							+ " " + formatter.format(new Date(System.currentTimeMillis())));
-		startActivity(Intent.createChooser(shareIntent, getString(R.string.title_share_ofx_with)));	
-	}
-	
-	/**
-	 * Copies a file from <code>src</code> to <code>dst</code>
-	 * @param src Absolute path to the source file
-	 * @param dst Absolute path to the destination file 
-	 * @throws IOException if the file could not be copied
-	 */
-	public static void copyFile(File src, File dst) throws IOException
-	{
-		//TODO: Make this asynchronous at some time, t in the future.
-	    FileChannel inChannel = new FileInputStream(src).getChannel();
-	    FileChannel outChannel = new FileOutputStream(dst).getChannel();
-	    try
-	    {
-	        inChannel.transferTo(0, inChannel.size(), outChannel);
-	    }
-	    finally
-	    {
-	        if (inChannel != null)
-	            inChannel.close();
-	        if (outChannel != null)
-	            outChannel.close();
-	    }
-	}
-	
-	/**
-	 * Builds a file name based on the current time stamp for the exported file
-	 * @return String containing the file name
-	 */
-	public static String buildExportFilename(ExportFormat format){
-		SimpleDateFormat formatter = new SimpleDateFormat("yyyyMMdd_HHmmss", Locale.US);
-		String filename = formatter.format(
-				new Date(System.currentTimeMillis())) 
-				+ "_gnucash_all";
-        switch (format) {
-            case QIF:
-                filename += ".qif";
-                break;
-            case OFX:
-                filename += ".ofx";
-                break;
-        }
-		return filename;
-	}
-	
-	/**
-	 * Exports transactions in the database to the OFX format.
-	 * The accounts are written to a DOM document and returned
-	 * @param exportAll Flag to export all transactions or only the new ones since last export
-	 * @return DOM {@link Document} containing the OFX file information
-	 * @throws ParserConfigurationException
-	 */
-	protected Document exportOfx(boolean exportAll) throws ParserConfigurationException{		
-		DocumentBuilderFactory docFactory = DocumentBuilderFactory
-				.newInstance();
-		DocumentBuilder docBuilder = docFactory.newDocumentBuilder();
-
-		Document document = docBuilder.newDocument();
-		Element root = document.createElement("OFX");
-		
-		ProcessingInstruction pi = document.createProcessingInstruction("OFX", OfxFormatter.OFX_HEADER);
-		document.appendChild(pi);		
-		document.appendChild(root);
-		
-		OfxFormatter exporter = new OfxFormatter(getActivity(), exportAll);
-		exporter.toOfx(document, root);
-		
-		return document;
-	}
-	
-	/**
-	 * Writes out the document held in <code>node</code> to <code>outputWriter</code>
-	 * @param node {@link Node} containing the OFX document structure. Usually the parent node
-	 * @param outputWriter {@link Writer} to use in writing the file to stream
-     * @param omitXmlDeclaration Flag which causes the XML declaration to be omitted
-	 */
-	public void write(Node node, Writer outputWriter, boolean omitXmlDeclaration){
-		try {
-			TransformerFactory transformerFactory = TransformerFactory
-					.newInstance();
-			Transformer transformer = transformerFactory.newTransformer();
-			DOMSource source = new DOMSource(node);
-			StreamResult result = new StreamResult(outputWriter);
-			
-			transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "2");
-			transformer.setOutputProperty(OutputKeys.INDENT, "yes");
-			if (omitXmlDeclaration) {
-				transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "yes");
-			}
-			
-			transformer.transform(source, result);
-		} catch (TransformerConfigurationException txconfigException) {
-			txconfigException.printStackTrace();
-		} catch (TransformerException tfException) {
-			tfException.printStackTrace();
-		}
-	}
-}
-
+/*
+ * Copyright (c) 2012-2013 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.export;
+
+import java.io.BufferedWriter;
+import java.io.File;
+import java.io.FileInputStream;
+import java.io.FileOutputStream;
+import java.io.IOException;
+import java.io.OutputStreamWriter;
+import java.io.StringWriter;
+import java.io.Writer;
+import java.nio.channels.FileChannel;
+import java.text.SimpleDateFormat;
+import java.util.Date;
+import java.util.Locale;
+
+import javax.xml.parsers.DocumentBuilder;
+import javax.xml.parsers.DocumentBuilderFactory;
+import javax.xml.parsers.ParserConfigurationException;
+import javax.xml.transform.OutputKeys;
+import javax.xml.transform.Transformer;
+import javax.xml.transform.TransformerConfigurationException;
+import javax.xml.transform.TransformerException;
+import javax.xml.transform.TransformerFactory;
+import javax.xml.transform.dom.DOMSource;
+import javax.xml.transform.stream.StreamResult;
+
+import android.widget.*;
+import org.gnucash.android.R;
+import org.gnucash.android.export.ExportFormat;
+import org.gnucash.android.export.ofx.OfxExporter;
+import org.gnucash.android.export.qif.QifExporter;
+import org.gnucash.android.ui.accounts.AccountsActivity;
+import org.gnucash.android.ui.transactions.TransactionsDeleteConfirmationDialog;
+import org.w3c.dom.Document;
+import org.w3c.dom.Element;
+import org.w3c.dom.Node;
+import org.w3c.dom.ProcessingInstruction;
+
+import android.app.Activity;
+import android.content.Intent;
+import android.content.SharedPreferences;
+import android.net.Uri;
+import android.os.Bundle;
+import android.os.Environment;
+import android.preference.PreferenceManager;
+import android.support.v4.app.DialogFragment;
+import android.support.v4.app.Fragment;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+
+/**
+ * Dialog fragment for exporting account information as OFX files.
+ * @author Ngewi Fet <ngewif@gmail.com>
+ */
+public class ExportDialogFragment extends DialogFragment {
+		
+	/**
+	 * Spinner for selecting destination for the exported file.
+	 * The destination could either be SD card, or another application which
+	 * accepts files, like Google Drive.
+	 */
+	Spinner mDestinationSpinner;
+	
+	/**
+	 * Checkbox indicating that all transactions should be exported,
+	 * regardless of whether they have been exported previously or not
+	 */
+	CheckBox mExportAllCheckBox;
+	
+	/**
+	 * Checkbox for deleting all transactions after exporting them
+	 */
+	CheckBox mDeleteAllCheckBox;
+	
+	/**
+	 * Save button for saving the exported files
+	 */
+	Button mSaveButton;
+	
+	/**
+	 * Cancels the export dialog
+	 */
+	Button mCancelButton;
+	
+	/**
+	 * File path for saving the OFX files
+	 */
+	String mFilePath;
+	
+	/**
+	 * Tag for logging
+	 */
+	private static final String TAG = "ExportDialogFragment";
+
+    ;
+
+    private ExportFormat mExportFormat = ExportFormat.QIF;
+
+	/**
+	 * Click listener for positive button in the dialog.
+	 * @author Ngewi Fet <ngewif@gmail.com>
+	 */
+	protected class ExportClickListener implements View.OnClickListener {
+
+		@Override
+		public void onClick(View v) {
+            boolean exportAll = mExportAllCheckBox.isChecked();
+            try {
+                switch (mExportFormat) {
+                    case QIF: {
+                        QifExporter qifExporter = new QifExporter(getActivity(), exportAll);
+                        String qif = qifExporter.generateQIF();
+
+                        writeQifExternalStorage(qif);
+                    }
+                    break;
+
+                    case OFX: {
+                        Document document = exportOfx(exportAll);
+                        writeOfxToExternalStorage(document);
+                    }
+                    break;
+                }
+            } catch (Exception e) {
+                Log.e(TAG, e.getMessage());
+                Toast.makeText(getActivity(), R.string.error_exporting,
+                        Toast.LENGTH_LONG).show();
+                dismiss();
+                return;
+            }
+
+
+            int position = mDestinationSpinner.getSelectedItemPosition();
+			switch (position) {
+			case 0:					
+				shareFile(mFilePath);				
+				break;
+
+			case 1:				
+				File src = new File(mFilePath);
+				new File(Environment.getExternalStorageDirectory() + "/gnucash/").mkdirs();
+				File dst = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + buildExportFilename(mExportFormat));
+				
+				try {
+					copyFile(src, dst);
+				} catch (IOException e) {
+					Toast.makeText(getActivity(), 
+							getString(R.string.toast_error_exporting_ofx) + dst.getAbsolutePath(), 
+							Toast.LENGTH_LONG).show();		
+					Log.e(TAG, e.getMessage());
+					break;
+				}
+				
+				//file already exists, just let the user know
+				Toast.makeText(getActivity(), 
+						getString(R.string.toast_ofx_exported_to) + dst.getAbsolutePath(), 
+						Toast.LENGTH_LONG).show();					
+				break;
+				
+			default:
+				break;
+			}
+			
+			if (mDeleteAllCheckBox.isChecked()){
+				Fragment currentFragment = getActivity().getSupportFragmentManager()
+						.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+				TransactionsDeleteConfirmationDialog alertFragment = 
+						TransactionsDeleteConfirmationDialog.newInstance(R.string.title_confirm_delete, 0);
+				alertFragment.setTargetFragment(currentFragment, 0);
+				alertFragment.show(getActivity().getSupportFragmentManager(), "transactions_delete_confirmation_dialog");
+			}
+			
+			dismiss();
+		}
+		
+	}
+
+    public void onRadioButtonClicked(View view){
+        switch (view.getId()){
+            case R.id.radio_ofx_format:
+                mExportFormat = ExportFormat.OFX;
+                break;
+            case R.id.radio_qif_format:
+                mExportFormat = ExportFormat.QIF;
+        }
+        mFilePath = buildExportFilename(mExportFormat);
+        return;
+    }
+
+	@Override
+	public View onCreateView(LayoutInflater inflater, ViewGroup container,
+			Bundle savedInstanceState) {
+		return inflater.inflate(R.layout.dialog_export_ofx, container, false);
+	}
+	
+	@Override
+	public void onActivityCreated(Bundle savedInstanceState) {		
+		super.onActivityCreated(savedInstanceState);
+		mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename(mExportFormat);
+		getDialog().setTitle(R.string.menu_export_ofx);
+		bindViews();
+	}
+
+	/**
+	 * Collects references to the UI elements and binds click listeners
+	 */
+	private void bindViews(){		
+		View v = getView();
+		mDestinationSpinner = (Spinner) v.findViewById(R.id.spinner_export_destination);
+		ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(getActivity(),
+		        R.array.export_destinations, android.R.layout.simple_spinner_item);		
+		adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);		
+		mDestinationSpinner.setAdapter(adapter);
+		
+		SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getActivity());
+		mExportAllCheckBox = (CheckBox) v.findViewById(R.id.checkbox_export_all);
+		mExportAllCheckBox.setChecked(sharedPrefs.getBoolean(getString(R.string.key_export_all_transactions), false));
+		
+		mDeleteAllCheckBox = (CheckBox) v.findViewById(R.id.checkbox_post_export_delete);
+		mDeleteAllCheckBox.setChecked(sharedPrefs.getBoolean(getString(R.string.key_delete_transactions_after_export), false));
+		
+		mSaveButton = (Button) v.findViewById(R.id.btn_save);
+		mSaveButton.setText(R.string.btn_export);
+		mCancelButton = (Button) v.findViewById(R.id.btn_cancel);
+		
+		mCancelButton.setOnClickListener(new View.OnClickListener() {
+			
+			@Override
+			public void onClick(View v) {				
+				dismiss();
+			}
+		});
+		
+		mSaveButton.setOnClickListener(new ExportClickListener());
+
+        String defaultExportFormat = sharedPrefs.getString(getString(R.string.key_default_export_format), ExportFormat.QIF.name());
+        View.OnClickListener clickListener = new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                onRadioButtonClicked(view);
+            }
+        };
+
+        RadioButton ofxRadioButton = (RadioButton) v.findViewById(R.id.radio_ofx_format);
+        ofxRadioButton.setChecked(defaultExportFormat.equalsIgnoreCase(ExportFormat.OFX.name()));
+        ofxRadioButton.setOnClickListener(clickListener);
+
+        RadioButton qifRadioButton = (RadioButton) v.findViewById(R.id.radio_qif_format);
+        qifRadioButton.setChecked(defaultExportFormat.equalsIgnoreCase(ExportFormat.QIF.name()));
+        qifRadioButton.setOnClickListener(clickListener);
+	}
+
+    private void writeQifExternalStorage(String qif) throws IOException {
+        File file = new File(mFilePath);
+
+        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
+        writer.write(qif);
+
+        writer.flush();
+    }
+
+	/**
+	 * Writes the OFX document <code>doc</code> to external storage
+	 * @param doc Document containing OFX file data
+	 * @throws IOException if file could not be saved
+	 */
+	private void writeOfxToExternalStorage(Document doc) throws IOException{
+		File file = new File(mFilePath);
+		
+		BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
+		boolean useXmlHeader = PreferenceManager.getDefaultSharedPreferences(getActivity())
+				.getBoolean(getString(R.string.key_xml_ofx_header), false);
+
+		//if we want SGML OFX headers, write first to string and then prepend header
+		if (useXmlHeader){
+			write(doc, writer, false);
+		} else {			
+			Node ofxNode = doc.getElementsByTagName("OFX").item(0);
+			StringWriter stringWriter = new StringWriter();
+			write(ofxNode, stringWriter, true);
+			
+			StringBuffer stringBuffer = new StringBuffer(OfxExporter.OFX_SGML_HEADER);
+			stringBuffer.append('\n');
+			writer.write(stringBuffer.toString() + stringWriter.toString());
+		}
+		
+		writer.flush();
+		writer.close();
+	}
+	
+	/**
+	 * Callback for when the activity chooser dialog is completed
+	 */
+	@Override
+	public void onActivityResult(int requestCode, int resultCode, Intent data) {
+		//TODO: fix the exception which is thrown on return
+		if (resultCode == Activity.RESULT_OK){
+			//uploading or emailing has finished. clean up now.
+			File file = new File(mFilePath);
+			file.delete();
+		}
+	}
+	
+	/**
+	 * Starts an intent chooser to allow the user to select an activity to receive
+	 * the exported OFX file
+	 * @param path String path to the file on disk
+	 */
+	private void shareFile(String path){
+		String defaultEmail = PreferenceManager.getDefaultSharedPreferences(getActivity())
+												.getString(getString(R.string.key_default_export_email), null);
+		Intent shareIntent = new Intent(Intent.ACTION_SEND);
+		shareIntent.setType("application/xml");
+		shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file://"+ path));
+		shareIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.title_export_email));
+		if (defaultEmail != null && defaultEmail.trim().length() > 0){
+			shareIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{defaultEmail});
+		}			
+		SimpleDateFormat formatter = (SimpleDateFormat) SimpleDateFormat.getDateTimeInstance();
+		
+		shareIntent.putExtra(Intent.EXTRA_TEXT, getString(R.string.description_export_email) 
+							+ " " + formatter.format(new Date(System.currentTimeMillis())));
+		startActivity(Intent.createChooser(shareIntent, getString(R.string.title_share_ofx_with)));	
+	}
+	
+	/**
+	 * Copies a file from <code>src</code> to <code>dst</code>
+	 * @param src Absolute path to the source file
+	 * @param dst Absolute path to the destination file 
+	 * @throws IOException if the file could not be copied
+	 */
+	public static void copyFile(File src, File dst) throws IOException
+	{
+		//TODO: Make this asynchronous at some time, t in the future.
+	    FileChannel inChannel = new FileInputStream(src).getChannel();
+	    FileChannel outChannel = new FileOutputStream(dst).getChannel();
+	    try
+	    {
+	        inChannel.transferTo(0, inChannel.size(), outChannel);
+	    }
+	    finally
+	    {
+	        if (inChannel != null)
+	            inChannel.close();
+	        if (outChannel != null)
+	            outChannel.close();
+	    }
+	}
+	
+	/**
+	 * Builds a file name based on the current time stamp for the exported file
+	 * @return String containing the file name
+	 */
+	public static String buildExportFilename(ExportFormat format){
+		SimpleDateFormat formatter = new SimpleDateFormat("yyyyMMdd_HHmmss", Locale.US);
+		String filename = formatter.format(
+				new Date(System.currentTimeMillis())) 
+				+ "_gnucash_all";
+        switch (format) {
+            case QIF:
+                filename += ".qif";
+                break;
+            case OFX:
+                filename += ".ofx";
+                break;
+        }
+		return filename;
+	}
+	
+	/**
+	 * Exports transactions in the database to the OFX format.
+	 * The accounts are written to a DOM document and returned
+	 * @param exportAll Flag to export all transactions or only the new ones since last export
+	 * @return DOM {@link Document} containing the OFX file information
+	 * @throws ParserConfigurationException
+	 */
+	protected Document exportOfx(boolean exportAll) throws ParserConfigurationException{		
+		DocumentBuilderFactory docFactory = DocumentBuilderFactory
+				.newInstance();
+		DocumentBuilder docBuilder = docFactory.newDocumentBuilder();
+
+		Document document = docBuilder.newDocument();
+		Element root = document.createElement("OFX");
+		
+		ProcessingInstruction pi = document.createProcessingInstruction("OFX", OfxExporter.OFX_HEADER);
+		document.appendChild(pi);		
+		document.appendChild(root);
+		
+		OfxExporter exporter = new OfxExporter(getActivity(), exportAll);
+		exporter.toOfx(document, root);
+		
+		return document;
+	}
+	
+	/**
+	 * Writes out the document held in <code>node</code> to <code>outputWriter</code>
+	 * @param node {@link Node} containing the OFX document structure. Usually the parent node
+	 * @param outputWriter {@link Writer} to use in writing the file to stream
+     * @param omitXmlDeclaration Flag which causes the XML declaration to be omitted
+	 */
+	public void write(Node node, Writer outputWriter, boolean omitXmlDeclaration){
+		try {
+			TransformerFactory transformerFactory = TransformerFactory
+					.newInstance();
+			Transformer transformer = transformerFactory.newTransformer();
+			DOMSource source = new DOMSource(node);
+			StreamResult result = new StreamResult(outputWriter);
+			
+			transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "2");
+			transformer.setOutputProperty(OutputKeys.INDENT, "yes");
+			if (omitXmlDeclaration) {
+				transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "yes");
+			}
+			
+			transformer.transform(source, result);
+		} catch (TransformerConfigurationException txconfigException) {
+			txconfigException.printStackTrace();
+		} catch (TransformerException tfException) {
+			tfException.printStackTrace();
+		}
+	}
+}
+
diff --git a/app/src/org/gnucash/android/export/ExportFormat.java b/app/src/org/gnucash/android/export/ExportFormat.java
new file mode 100644
index 00000000..6000ebd1
--- /dev/null
+++ b/app/src/org/gnucash/android/export/ExportFormat.java
@@ -0,0 +1,39 @@
+/*
+ * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.gnucash.android.export;
+
+/**
+ * Enumeration of the different export formats supported by the application
+* @author Ngewi Fet <ngewif@gmail.com>
+*/
+public enum ExportFormat {
+    QIF("Quicken Interchange Format"),
+    OFX("Open Financial eXchange");
+
+    /**
+     * Full name of the export format acronym
+     */
+    private String mDescription;
+
+    ExportFormat(String description) {
+        this.mDescription = description;
+    }
+
+    @Override
+    public String toString() {
+        return mDescription;
+    }
+}
diff --git a/app/src/org/gnucash/android/util/OfxFormatter.java b/app/src/org/gnucash/android/export/ofx/OfxExporter.java
similarity index 97%
rename from app/src/org/gnucash/android/util/OfxFormatter.java
rename to app/src/org/gnucash/android/export/ofx/OfxExporter.java
index 21c609ec..5578670e 100644
--- a/app/src/org/gnucash/android/util/OfxFormatter.java
+++ b/app/src/org/gnucash/android/export/ofx/OfxExporter.java
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-package org.gnucash.android.util;
+package org.gnucash.android.export.ofx;
 
 import java.text.SimpleDateFormat;
 import java.util.Calendar;
@@ -36,7 +36,7 @@
  * Exports the data in the database in OFX format
  * @author Ngewi Fet <ngewi.fet@gmail.com>
  */
-public class OfxFormatter {
+public class OfxExporter {
 
 	/**
 	 * A date formatter used when creating file names for the exported data
@@ -85,7 +85,7 @@
 	 * @param context Application context
 	 * @param exportAll Whether all transactions should be exported or only new ones since last export
 	 */
-	public OfxFormatter(Context context, boolean exportAll) {
+	public OfxExporter(Context context, boolean exportAll) {
 		AccountsDbAdapter dbAdapter = new AccountsDbAdapter(context);
 		mAccountsList = exportAll ? dbAdapter.getAllAccounts() : dbAdapter.getExportableAccounts();
 		mExportAll = exportAll;
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index e174ee6b..3d9bea58 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -40,7 +40,6 @@
 import android.view.ViewGroup;
 import android.widget.*;
 import android.widget.AdapterView.OnItemLongClickListener;
-import android.widget.SearchView;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockDialogFragment;
 import com.actionbarsherlock.app.SherlockListFragment;
@@ -49,11 +48,11 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
-import com.actionbarsherlock.widget.*;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.*;
+import org.gnucash.android.export.ExportDialogFragment;
 import org.gnucash.android.ui.settings.SettingsActivity;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
 import org.gnucash.android.ui.transactions.TransactionsListFragment;
@@ -61,7 +60,6 @@
 import org.gnucash.android.util.OnAccountClickedListener;
 
 import java.lang.ref.WeakReference;
-import java.util.Locale;
 
 /**
  * Fragment for displaying the list of accounts in the database
diff --git a/integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java b/integration-tests/src/org/gnucash/android/test/ui/ExportTransactionsTest.java
similarity index 71%
rename from integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java
rename to integration-tests/src/org/gnucash/android/test/ui/ExportTransactionsTest.java
index 5faa880a..552ac322 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/OfxExportTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/ExportTransactionsTest.java
@@ -1,204 +1,237 @@
-/*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- *
- * Licensed under the Apache License, Version 2.0 (the "License");
- * you may not use this file except in compliance with the License.
- * You may obtain a copy of the License at
- *
- *     http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing, software
- * distributed under the License is distributed on an "AS IS" BASIS,
- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
- * See the License for the specific language governing permissions and
- * limitations under the License.
- */
-
-package org.gnucash.android.test.ui;
-
-import java.io.File;
-
-import android.app.AlertDialog;
-import android.content.Context;
-import android.content.SharedPreferences;
-import android.preference.PreferenceManager;
-import org.gnucash.android.R;
-import org.gnucash.android.data.Account;
-import org.gnucash.android.data.Transaction;
-import org.gnucash.android.db.AccountsDbAdapter;
-import org.gnucash.android.db.TransactionsDbAdapter;
-import org.gnucash.android.test.util.ActionBarUtils;
-import org.gnucash.android.ui.accounts.AccountsActivity;
-import org.gnucash.android.ui.accounts.ExportDialogFragment;
-
-import android.os.Environment;
-import android.test.ActivityInstrumentationTestCase2;
-import android.widget.Button;
-import android.widget.Spinner;
-
-import com.jayway.android.robotium.solo.Solo;
-
-public class OfxExportTest extends
-		ActivityInstrumentationTestCase2<AccountsActivity> {
-
-	private Solo mSolo;
-	
-	public OfxExportTest() {
-		super(AccountsActivity.class);
-	}
-	
-	@Override
-	protected void setUp() throws Exception {
-		super.setUp();
-		mSolo = new Solo(getInstrumentation(), getActivity());	
-		
-		Account account = new Account("Exportable");		
-		Transaction transaction = new Transaction("9.99", "Pizza");		
-		transaction.setDescription("What up?");
-		transaction.setTime(System.currentTimeMillis());
-		
-		account.addTransaction(transaction);
-		
-		AccountsDbAdapter adapter = new AccountsDbAdapter(getActivity());
-		adapter.addAccount(account);
-		adapter.close();	
-	}
-	
-	/**
-	 * Tests the export of an OFX file with account information.
-	 * The exported file name contains a timestamp with minute precision.
-	 * If this test fails, it may be due to the file being created and tested in different minutes of the clock
-	 * Just try rerunning it again.
-	 */
-	public void testOfxExport(){
-        mSolo.clickOnActionBarItem(R.id.menu_export);
-//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
-
-		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
-		mSolo.clickOnView(spinner);
-		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
-		mSolo.clickOnText(options[1]);
-		mSolo.clickOnButton(3);
-		
-		//the file name is time-based (down to the minute), so we cache it here, 
-		//as close as possible to the export itself to minimize difference
-		String filename = ExportDialogFragment.buildExportFilename();
-		
-		mSolo.waitForDialogToClose(10000);
-		
-		
-		File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
-		assertNotNull(file);
-		assertTrue(file.exists());
-		
-		//if this is not deleted, we cannot be certain that the next test will pass on its own merits
-		boolean isDeleted = file.delete();
-		assertTrue(isDeleted);
-	}	
-	
-	public void testDeleteTransactionsAfterExport(){
-		TransactionsDbAdapter transAdapter = new TransactionsDbAdapter(getActivity());
-		assertTrue(transAdapter.getAllTransactionsCount() != 0);
-		
-        mSolo.clickOnActionBarItem(R.id.menu_export);
-//        ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
-
-		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
-		mSolo.clickOnView(spinner);
-		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
-		mSolo.clickOnText(options[1]);
-		
-		//check to delete after export
-		mSolo.clickOnCheckBox(1);
-		
-		Button b = (Button) mSolo.getView(R.id.btn_save); //getActivity().findViewById(R.id.btn_save);
-		mSolo.clickOnView(b);
-		mSolo.waitForDialogToClose(2000);
-
-        String deleteConfirm = getActivity().getString(R.string.alert_dialog_ok_delete);
-        mSolo.clickOnText(deleteConfirm);
-		mSolo.waitForDialogToClose(1000);
-        mSolo.sleep(1000);
-
-		assertEquals(0, transAdapter.getAllTransactionsCount());
-		
-		transAdapter.close();
-        mSolo.goBack();
-	}
-	
-	public void testShouldIgnoreExportedTransactions(){
-		testOfxExport();
-        mSolo.clickOnActionBarItem(R.id.menu_export);
-//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
-
-		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
-		mSolo.clickOnView(spinner);
-		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
-		mSolo.clickOnText(options[1]);
-		mSolo.clickOnCheckBox(0);
-		mSolo.clickOnButton(3);
-		
-		//the file name is time-based (down to the minute), so we cache it here, 
-		//as close as possible to the export itself to minimize chance of a different name 
-		//due to a different minute
-		String filename = ExportDialogFragment.buildExportFilename();
-		
-		mSolo.waitForDialogToClose(10000);
-				
-		File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
-		assertNotNull(file);
-		assertTrue(file.exists());
-		//there should be something in the file (OFX headers, etc)
-		assertTrue(file.length() > 0);
-		
-		//if this is not deleted, we cannot be certain that the next test will pass on its own merits
-		boolean isDeleted = file.delete();
-		assertTrue(isDeleted);		
-	}
-	
-	public void testExportAlreadyExportedTransactions(){
-		testOfxExport();
-        mSolo.clickOnActionBarItem(R.id.menu_export);
-//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
-
-		mSolo.waitForText("Export OFX");
-		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
-		mSolo.clickOnView(spinner);
-		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
-		mSolo.clickOnText(options[1]);
-		mSolo.clickOnCheckBox(0);
-		mSolo.clickOnButton(3);
-		
-		//the file name is time-based (down to the minute), so we cache it here, 
-		//as close as possible to the export itself to minimize chance of a different name 
-		//due to a different minute
-		String filename = ExportDialogFragment.buildExportFilename();
-		
-		mSolo.waitForDialogToClose(10000);		
-		
-		File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
-		assertNotNull(file);
-		//the file will exist but not contain any account information
-		assertTrue(file.exists());
-
-		//if this is not deleted, we cannot be certain that the next test will pass on its own merits
-		boolean isDeleted = file.delete();
-		assertTrue(isDeleted);		
-	}
-	
-	public void testValidityOfExport(){
-		//TODO: Validate exported file contents with an XML schema, if possible
-	}
-	
-	@Override
-	protected void tearDown() throws Exception {
-		AccountsDbAdapter adapter = new AccountsDbAdapter(getActivity());
-		adapter.deleteAllRecords();
-		adapter.close();
-		mSolo.finishOpenedActivities();
-		super.tearDown();
-	}
-}
+/*
+ * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.test.ui;
+
+import java.io.File;
+
+import org.gnucash.android.R;
+import org.gnucash.android.data.Account;
+import org.gnucash.android.data.Transaction;
+import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.export.ExportFormat;
+import org.gnucash.android.ui.accounts.AccountsActivity;
+import org.gnucash.android.export.ExportDialogFragment;
+
+import android.os.Environment;
+import android.test.ActivityInstrumentationTestCase2;
+import android.widget.Button;
+import android.widget.Spinner;
+
+import com.jayway.android.robotium.solo.Solo;
+
+public class ExportTransactionsTest extends
+		ActivityInstrumentationTestCase2<AccountsActivity> {
+
+	private Solo mSolo;
+	
+	public ExportTransactionsTest() {
+		super(AccountsActivity.class);
+	}
+	
+	@Override
+	protected void setUp() throws Exception {
+		super.setUp();
+		mSolo = new Solo(getInstrumentation(), getActivity());	
+		
+		Account account = new Account("Exportable");		
+		Transaction transaction = new Transaction("9.99", "Pizza");		
+		transaction.setDescription("What up?");
+		transaction.setTime(System.currentTimeMillis());
+		
+		account.addTransaction(transaction);
+		
+		AccountsDbAdapter adapter = new AccountsDbAdapter(getActivity());
+		adapter.addAccount(account);
+		adapter.close();	
+	}
+	
+	/**
+	 * Tests the export of an OFX file with the transactions from the application.
+	 * The exported file name contains a timestamp with minute precision.
+	 * If this test fails, it may be due to the file being created and tested in different minutes of the clock
+	 * Just try rerunning it again.
+	 */
+	public void testOfxExport(){
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
+		mSolo.waitForText(getActivity().getString(R.string.menu_export_transactions));
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
+		mSolo.clickOnView(spinner);
+		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
+		mSolo.clickOnText(options[1]);
+        mSolo.clickOnRadioButton(1);
+
+        mSolo.clickOnView(mSolo.getView(R.id.btn_save));
+		
+		//the file name is time-based (down to the minute), so we cache it here, 
+		//as close as possible to the export itself to minimize difference
+		String filename = ExportDialogFragment.buildExportFilename(ExportFormat.OFX);
+		
+		mSolo.waitForDialogToClose(2000);
+        mSolo.sleep(2000);
+		
+		
+		File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
+		assertNotNull(file);
+		assertTrue(file.exists());
+		
+		//if this is not deleted, we cannot be certain that the next test will pass on its own merits
+		boolean isDeleted = file.delete();
+		assertTrue(isDeleted);
+	}
+
+    /**
+     * Test the export of transactions in the QIF format
+     */
+    public void testQifExport(){
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
+        mSolo.waitForText(getActivity().getString(R.string.menu_export_transactions));
+        Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
+        mSolo.clickOnView(spinner);
+        String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);
+        mSolo.clickOnText(options[1]);
+        mSolo.clickOnRadioButton(0);
+        mSolo.clickOnView(mSolo.getView(R.id.btn_save));
+
+        //the file name is time-based (down to the minute), so we cache it here,
+        //as close as possible to the export itself to minimize difference
+        String filename = ExportDialogFragment.buildExportFilename(ExportFormat.QIF);
+
+        mSolo.waitForDialogToClose(10000);
+
+        File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
+        assertNotNull(file);
+        assertTrue(file.exists());
+
+        //if this is not deleted, we cannot be certain that the next test will pass on its own merits
+        boolean isDeleted = file.delete();
+        assertTrue(isDeleted);
+    }
+
+	public void testDeleteTransactionsAfterExport(){
+		TransactionsDbAdapter transAdapter = new TransactionsDbAdapter(getActivity());
+		assertTrue(transAdapter.getAllTransactionsCount() != 0);
+		
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//        ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
+		mSolo.waitForText(getActivity().getString(R.string.menu_export_transactions));
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
+		mSolo.clickOnView(spinner);
+		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
+		mSolo.clickOnText(options[1]);
+        mSolo.clickOnRadioButton(1);
+
+		//check to delete after export
+		mSolo.clickOnCheckBox(1);
+
+        mSolo.clickOnView(mSolo.getView(R.id.btn_save));
+		mSolo.waitForDialogToClose(2000);
+
+        String deleteConfirm = getActivity().getString(R.string.alert_dialog_ok_delete);
+        mSolo.clickOnText(deleteConfirm);
+		mSolo.waitForDialogToClose(1000);
+        mSolo.sleep(1000);
+
+		assertEquals(0, transAdapter.getAllTransactionsCount());
+		
+		transAdapter.close();
+        mSolo.goBack();
+	}
+	
+	public void testShouldIgnoreExportedTransactions(){
+		testOfxExport();
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
+		mSolo.waitForText(getActivity().getString(R.string.menu_export_transactions));
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
+		mSolo.clickOnView(spinner);
+		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
+		mSolo.clickOnText(options[1]);
+        mSolo.clickOnRadioButton(1);
+
+		mSolo.clickOnCheckBox(0);
+		mSolo.clickOnView(mSolo.getView(R.id.btn_save));
+
+		//the file name is time-based (down to the minute), so we cache it here, 
+		//as close as possible to the export itself to minimize chance of a different name 
+		//due to a different minute
+		String filename = ExportDialogFragment.buildExportFilename(ExportFormat.OFX);
+		
+		mSolo.waitForDialogToClose(10000);
+				
+		File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
+		assertNotNull(file);
+		assertTrue(file.exists());
+		//there should be something in the file (OFX headers, etc)
+		assertTrue(file.length() > 0);
+		
+		//if this is not deleted, we cannot be certain that the next test will pass on its own merits
+		boolean isDeleted = file.delete();
+		assertTrue(isDeleted);		
+	}
+	
+	public void testExportAlreadyExportedTransactions(){
+		testOfxExport();
+        mSolo.clickOnActionBarItem(R.id.menu_export);
+//		ActionBarUtils.clickSherlockActionBarItem(mSolo, R.id.menu_export);
+
+		mSolo.waitForText(getActivity().getString(R.string.menu_export_transactions));
+		Spinner spinner = mSolo.getCurrentViews(Spinner.class).get(0);
+		mSolo.clickOnView(spinner);
+		String[] options = getActivity().getResources().getStringArray(R.array.export_destinations);	
+		mSolo.clickOnText(options[1]);
+        mSolo.clickOnRadioButton(1);
+
+		mSolo.clickOnCheckBox(0);
+        mSolo.clickOnView(mSolo.getView(R.id.btn_save));
+		
+		//the file name is time-based (down to the minute), so we cache it here, 
+		//as close as possible to the export itself to minimize chance of a different name 
+		//due to a different minute
+		String filename = ExportDialogFragment.buildExportFilename(ExportFormat.OFX);
+		
+		mSolo.waitForDialogToClose(10000);		
+		
+		File file = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + filename);
+		assertNotNull(file);
+		//the file will exist but not contain any account information
+		assertTrue(file.exists());
+
+		//if this is not deleted, we cannot be certain that the next test will pass on its own merits
+		boolean isDeleted = file.delete();
+		assertTrue(isDeleted);		
+	}
+	
+	public void testValidityOfExport(){
+		//TODO: Validate exported file contents with an XML schema, if possible
+	}
+	
+	@Override
+	protected void tearDown() throws Exception {
+		AccountsDbAdapter adapter = new AccountsDbAdapter(getActivity());
+		adapter.deleteAllRecords();
+		adapter.close();
+		mSolo.finishOpenedActivities();
+		super.tearDown();
+	}
+}

From b81f44f4348b5ba60b40b8bc8ebdd50c48e7a8ed Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Tue, 17 Sep 2013 16:46:56 +0200
Subject: [PATCH 18/43] Fixed: crash when deleting accounts Fixed:
 autocompleting transaction names does not copy the time or export flag Fixed:
 random crash when opening app (or loading accounts) Updated version numbers
 for v1.2.5 release

---
 CHANGELOG.md                                           | 18 +++++++++++++++++-
 app/AndroidManifest.xml                                |  4 ++--
 app/pom.xml                                            |  2 +-
 .../android/ui/accounts/AccountsListFragment.java      | 14 ++++++++++----
 .../ui/transactions/NewTransactionFragment.java        | 17 +++++++++++++++--
 integration-tests/pom.xml                              |  2 +-
 pom.xml                                                |  2 +-
 7 files changed, 47 insertions(+), 12 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 0580cf49..3a1b3a31 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,21 @@
 Change Log
 ===============================================================================
+Version 1.2.5 *(2013-09-17)*
+----------------------------
+* Feature: Search accounts by name
+* Fixed: crash when deleting accounts
+* Fixed: auto-completing transaction names does not copy the time or export flag
+* Fixed: random crash when opening app (or loading accounts)
+
+Version 1.2.4 *(2013-09-05)*
+----------------------------
+* Added support for detecting placeholder accounts during import
+* Use full qualified account names in account selection spinners
+* Loads complete transaction as a template when the autocomplete suggestion is selected
+* Fixed: selecting items from lists caused multiple to be selected in the wrong positions
+* Fixed: widgets not updated when all accounts or all transactions are deleted
+* Other minor bug fixes.
+
 Version 1.2.3 *(2013-08-28)*
 ----------------------------
 * Fixed: crashes when editing/creating transactions
@@ -7,7 +23,7 @@ Version 1.2.3 *(2013-08-28)*
 * Feature: Autocomplete transaction descriptions
 * Improved reliability of importing stock accounts
 * Improved speed of loading account balance
-* Improved incrased touch target area of "new transaction" button in accounts list view
+* Improved increased touch target area of "new transaction" button in accounts list view
 
 Version 1.2.2 *(2013-06-23)*
 ----------------------------
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 8cb00d06..b3e5714d 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="14"
-    android:versionName="1.2.4" >
+    android:versionCode="16"
+    android:versionName="1.2.5" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/pom.xml b/app/pom.xml
index b92cf988..02c0a344 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -22,7 +22,7 @@
     <description>Gnucash Android companion application</description>
 
     <parent>
-        <version>1.2.4-SNAPSHOT</version>
+        <version>1.2.6-SNAPSHOT</version>
         <groupId>org.gnucash.android</groupId>
         <artifactId>gnucash-android-parent</artifactId>
     </parent>
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index e174ee6b..58b00b14 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -40,7 +40,6 @@
 import android.view.ViewGroup;
 import android.widget.*;
 import android.widget.AdapterView.OnItemLongClickListener;
-import android.widget.SearchView;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockDialogFragment;
 import com.actionbarsherlock.app.SherlockListFragment;
@@ -49,7 +48,6 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
-import com.actionbarsherlock.widget.*;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
@@ -61,7 +59,6 @@
 import org.gnucash.android.util.OnAccountClickedListener;
 
 import java.lang.ref.WeakReference;
-import java.util.Locale;
 
 /**
  * Fragment for displaying the list of accounts in the database
@@ -312,6 +309,7 @@ protected void deleteAccount(long rowId) {
             mAccountsDbAdapter.reassignParent(accountUID, null);
             Toast.makeText(getActivity(), R.string.toast_account_deleted, Toast.LENGTH_SHORT).show();
             WidgetConfigurationActivity.updateAllWidgets(getActivity().getApplicationContext());
+            getLoaderManager().destroyLoader(0);
         }
         refreshList();
     }
@@ -731,7 +729,15 @@ protected Money doInBackground(Long... params) {
                 cancel(true);
                 return Money.getZeroInstance();
             }
-            Money balance = accountsDbAdapter.getAccountBalance(params[0]);
+            Money balance = Money.getZeroInstance();
+
+            try {
+                balance = accountsDbAdapter.getAccountBalance(params[0]);
+            } catch (IllegalArgumentException ex){
+                //sometimes a load computation has been started and the data set changes.
+                //the account ID may no longer exist. So we catch that exception here and do nothing
+                Log.e(TAG, "Error computing account balance: " + ex);
+            }
             return balance;
         }
 
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index dbd8b896..d233451f 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -163,8 +163,16 @@
 	 */
 	private Spinner mDoubleAccountSpinner;
 
+    /**
+     * Flag to note if double entry accounting is in use or not
+     */
 	private boolean mUseDoubleEntry;
 
+    /**
+     * Flag to note if the user has manually edited the amount of the transaction
+     */
+    boolean mAmountManuallyEdited = false;
+
 	/**
 	 * Create the view and retrieve references to the UI elements
 	 */
@@ -252,6 +260,8 @@ public Cursor runQuery(CharSequence name) {
             public void onItemClick(AdapterView<?> adapterView, View view, int position, long id) {
                 mTransaction = mTransactionsDbAdapter.getTransaction(id);
                 mTransaction.setUID(UUID.randomUUID().toString());
+                mTransaction.setExported(false);
+                mTransaction.setTime(System.currentTimeMillis());
                 long accountId = ((TransactionsActivity)getSherlockActivity()).getCurrentAccountID();
                 mTransaction.setAccountUID(mTransactionsDbAdapter.getAccountUID(accountId));
                 initializeViewsWithTransaction();
@@ -269,7 +279,10 @@ private void initializeViewsWithTransaction(){
 				
 		mNameEditText.setText(mTransaction.getName());
 		mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
-		mAmountEditText.setText(mTransaction.getAmount().toPlainString());
+		if (!mAmountManuallyEdited){
+            //when autocompleting, only change the amount if the user has not manually changed it already
+            mAmountEditText.setText(mTransaction.getAmount().toPlainString());
+        }
 		mCurrencyTextView.setText(mTransaction.getAmount().getCurrency().getSymbol(Locale.getDefault()));
 		mDescriptionEditText.setText(mTransaction.getDescription());
 		mDateTextView.setText(DATE_FORMATTER.format(mTransaction.getTimeMillis()));
@@ -643,7 +656,7 @@ public void beforeTextChanged(CharSequence s, int start, int count,
 		public void onTextChanged(CharSequence s, int start, int before,
 				int count) {
 			// nothing to see here, move along
-			
+			mAmountManuallyEdited = true;
 		}
 		
 	}
diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index 0f805cba..2bd54c7b 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -17,7 +17,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <parent>
-		<version>1.2.4-SNAPSHOT</version>
+		<version>1.2.6-SNAPSHOT</version>
 		<groupId>org.gnucash.android</groupId>
 		<artifactId>gnucash-android-parent</artifactId>
 	</parent>
diff --git a/pom.xml b/pom.xml
index dede3110..ac6565b9 100644
--- a/pom.xml
+++ b/pom.xml
@@ -17,7 +17,7 @@
 
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
-	<version>1.2.4-SNAPSHOT</version>
+	<version>1.2.6-SNAPSHOT</version>
     <groupId>org.gnucash.android</groupId>
     <artifactId>gnucash-android-parent</artifactId>
     <name>GnuCash Android parent</name>

From 0e9014e34bdde233af735f1ba0b39036d04c16bd Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Wed, 9 Oct 2013 21:55:08 +0200
Subject: [PATCH 19/43] Updated versions for 1.2.6.beta release

---
 CHANGELOG.md            | 4 ++++
 app/AndroidManifest.xml | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 3a1b3a31..ff0a3c62 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,9 @@
 Change Log
 ===============================================================================
+Version 1.2.6 *(2013-xx-xx)*
+----------------------------
+* Feature: Support for QIF export format
+
 Version 1.2.5 *(2013-09-17)*
 ----------------------------
 * Feature: Search accounts by name
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index b3e5714d..1daf6a06 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="16"
-    android:versionName="1.2.5" >
+    android:versionCode="17"
+    android:versionName="1.2.6.beta" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     

From 087e44928aa1cfd12157a28b71db0cf9ba3057d1 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 28 Oct 2013 21:54:02 +0100
Subject: [PATCH 20/43] Fixed export of OFX format Updated versions for
 1.2.6.beta2 release

---
 app/AndroidManifest.xml                                      | 4 ++--
 app/src/org/gnucash/android/export/ExportDialogFragment.java | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 1daf6a06..f2cae059 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="17"
-    android:versionName="1.2.6.beta" >
+    android:versionCode="18"
+    android:versionName="1.2.6.beta2" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/src/org/gnucash/android/export/ExportDialogFragment.java b/app/src/org/gnucash/android/export/ExportDialogFragment.java
index b1d0add8..b68cd427 100644
--- a/app/src/org/gnucash/android/export/ExportDialogFragment.java
+++ b/app/src/org/gnucash/android/export/ExportDialogFragment.java
@@ -201,7 +201,7 @@ public void onRadioButtonClicked(View view){
             case R.id.radio_qif_format:
                 mExportFormat = ExportFormat.QIF;
         }
-        mFilePath = buildExportFilename(mExportFormat);
+        mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename(mExportFormat);
         return;
     }
 

From dbce36f00b708516d022dfb73167baa3d6c35e0e Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Sat, 2 Nov 2013 17:32:16 +0100
Subject: [PATCH 21/43] Updated credit/debit handling to match Gnucash desktop
 - fixes #78 Now credit transactions decrease balance in Assets and Expenses
 accounts while debits increase the balance

---
 app/src/org/gnucash/android/data/Account.java      | 24 ++++++++-
 .../org/gnucash/android/db/AccountsDbAdapter.java  | 13 ++++-
 .../ui/transactions/NewTransactionFragment.java    | 63 +++++++++++++++++++---
 .../ui/transactions/TransactionsActivity.java      |  1 +
 4 files changed, 89 insertions(+), 12 deletions(-)

diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index d6304d81..31e29397 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -54,8 +54,28 @@
 	 * This are the different types specified by the OFX format and 
 	 * they are currently not used except for exporting
 	 */
-	public enum AccountType {CASH, BANK, CREDIT, ASSET, LIABILITY, INCOME, EXPENSE,
-							PAYABLE, RECEIVABLE, EQUITY, CURRENCY, STOCK, MUTUAL, ROOT};
+	public enum AccountType {
+        CASH, BANK, CREDIT, ASSET(true), LIABILITY, INCOME, EXPENSE(true),
+        PAYABLE, RECEIVABLE, EQUITY, CURRENCY, STOCK, MUTUAL, ROOT;
+
+        /**
+         * Indicates that this type of account has an inverted state for credits and debits.
+         * Credits decrease the account balance, while debits increase it.
+         */
+        private boolean mInvertedCredit = false;
+
+        private AccountType(boolean invertedCredit){
+            mInvertedCredit = invertedCredit;
+        }
+
+        private AccountType() {
+            //nothing to see here, move along
+        }
+
+        public boolean hasInvertedCredit(){
+            return mInvertedCredit;
+        }
+    };
 
     /**
      * Accounts types which are used by the OFX standard
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index e9889c1c..463956c7 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -285,8 +285,17 @@ public AccountType getAccountType(String uid){
 		}
 		return AccountType.valueOf(type);
 	}
-	
-	/**
+
+    /**
+     * Overloaded method. Resolves the account unique ID from the row ID and makes a call to {@link #getAccountType(String)}
+     * @param accountId Database row ID of the account
+     * @return {@link AccountType} of the account
+     */
+    public AccountType getAccountType(long accountId){
+        return getAccountType(getAccountUID(accountId));
+    }
+
+    /**
 	 * Returns the name of the account with id <code>accountID</code>
 	 * @param accountID Database ID of the account record
 	 * @return Name of the account 
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index d233451f..d9bb5d40 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -26,6 +26,7 @@
 
 import android.widget.*;
 import org.gnucash.android.R;
+import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.data.Transaction;
 import org.gnucash.android.data.Transaction.TransactionType;
@@ -173,6 +174,12 @@
      */
     boolean mAmountManuallyEdited = false;
 
+    /**
+     * The AccountType of the account to which this transaction belongs.
+     * Used for determining the accounting rules for credits and debits
+     */
+    Account.AccountType mAccountType;
+
 	/**
 	 * Create the view and retrieve references to the UI elements
 	 */
@@ -215,8 +222,12 @@ public void onActivityCreated(Bundle savedInstanceState) {
         long transactionId = getArguments().getLong(SELECTED_TRANSACTION_ID);
 		mTransactionsDbAdapter = new TransactionsDbAdapter(getActivity());
 		mTransaction = mTransactionsDbAdapter.getTransaction(transactionId);
-		
-		setListeners();
+
+        final long accountId = getArguments().getLong(TransactionsListFragment.SELECTED_ACCOUNT_ID);
+        mAccountType = mAccountsDbAdapter.getAccountType(accountId);
+        toggleTransactionTypeState();
+
+        setListeners();
 		if (mTransaction == null)
 			initalizeViews();
 		else {
@@ -229,6 +240,22 @@ public void onActivityCreated(Bundle savedInstanceState) {
         initTransactionNameAutocomplete();
 	}
 
+    private void toggleTransactionTypeState() {
+        switch (mAccountType) {
+            case ASSET:
+            case EXPENSE:
+                mTransactionTypeButton.setTextOff(getString(R.string.label_debit));
+                mTransactionTypeButton.setTextOn(getString(R.string.label_credit));
+                break;
+
+            default:
+                mTransactionTypeButton.setTextOff(getString(R.string.label_credit));
+                mTransactionTypeButton.setTextOn(getString(R.string.label_debit));
+                break;
+        }
+        mTransactionTypeButton.invalidate();
+    }
+
     /**
      * Initializes the transaction name field for autocompletion with existing transaction names in the database
      */
@@ -276,7 +303,6 @@ public void onItemClick(AdapterView<?> adapterView, View view, int position, lon
 	 * This method is called if the fragment is used for editing a transaction
 	 */
 	private void initializeViewsWithTransaction(){
-				
 		mNameEditText.setText(mTransaction.getName());
 		mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
 		if (!mAmountManuallyEdited){
@@ -315,11 +341,19 @@ private void initalizeViews() {
 		mDateTextView.setText(DATE_FORMATTER.format(time));
 		mTimeTextView.setText(TIME_FORMATTER.format(time));
 		mTime = mDate = Calendar.getInstance();
-				
+
 		String typePref = PreferenceManager.getDefaultSharedPreferences(getActivity()).getString(getString(R.string.key_default_transaction_type), "DEBIT");
 		if (typePref.equals("CREDIT")){
-			mTransactionTypeButton.setChecked(false);
-		}
+            if (mAccountType == Account.AccountType.ASSET || mAccountType == Account.AccountType.EXPENSE)
+                mTransactionTypeButton.setChecked(false);
+            else
+                mTransactionTypeButton.setChecked(true);
+		} else {
+            if (mAccountType == Account.AccountType.ASSET || mAccountType == Account.AccountType.EXPENSE)
+                mTransactionTypeButton.setChecked(true);
+            else
+                mTransactionTypeButton.setChecked(false);
+        }
 				
 		final long accountId = getArguments().getLong(TransactionsListFragment.SELECTED_ACCOUNT_ID);
 		String code = Money.DEFAULT_CURRENCY_CODE;
@@ -455,7 +489,16 @@ public void onAccountChanged(long newAccountId){
 		String currencyCode = accountsDbAdapter.getCurrencyCode(newAccountId);
 		Currency currency = Currency.getInstance(currencyCode);
 		mCurrencyTextView.setText(currency.getSymbol(Locale.getDefault()));
-		
+
+        Account.AccountType previousAccountType = mAccountType;
+        mAccountType = accountsDbAdapter.getAccountType(newAccountId);
+        toggleTransactionTypeState();
+
+        //if the new account has a different credit/debit philosophy as the previous one, then toggle the button
+        if (mAccountType.hasInvertedCredit() != previousAccountType.hasInvertedCredit()){
+            mTransactionTypeButton.toggle();
+        }
+
 		updateTransferAccountsList();
 	}
 	
@@ -478,7 +521,11 @@ private void saveNewTransaction() {
 		long accountID 	= ((TransactionsActivity) getSherlockActivity()).getCurrentAccountID(); 		
 		Currency currency = Currency.getInstance(mTransactionsDbAdapter.getCurrencyCode(accountID));
 		Money amount 	= new Money(amountBigd, currency);
-		TransactionType type = mTransactionTypeButton.isChecked() ? TransactionType.DEBIT : TransactionType.CREDIT;
+		TransactionType type;
+        if (mAccountType.hasInvertedCredit()){
+            type = amount.isNegative() ? TransactionType.CREDIT : TransactionType.DEBIT;
+        } else
+            type = amount.isNegative() ? TransactionType.DEBIT : TransactionType.CREDIT;
 		if (mTransaction != null){
 			mTransaction.setAmount(amount);
 			mTransaction.setName(name);
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 0bea0c51..b1da8522 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -170,6 +170,7 @@ protected void onCreate(Bundle savedInstanceState) {
             if (transactionId > 0) {
                 mSectionHeaderTransactions.setText(R.string.title_edit_transaction);
                 args.putLong(NewTransactionFragment.SELECTED_TRANSACTION_ID, transactionId);
+                args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);
             } else {
                 mSectionHeaderTransactions.setText(R.string.title_add_transaction);
                 args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);

From 8637060e54faf6daddebbb78235467f06dceae15 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Sun, 3 Nov 2013 19:42:55 +0100
Subject: [PATCH 22/43] Updated version information for 1.2.6.beta3 release

---
 CHANGELOG.md            | 1 +
 app/AndroidManifest.xml | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index ff0a3c62..394154e1 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -3,6 +3,7 @@ Change Log
 Version 1.2.6 *(2013-xx-xx)*
 ----------------------------
 * Feature: Support for QIF export format
+* Improved: CREDIT/DEBIT meaning now matches GnuCash desktop. Effect on account balance depends on type of account
 
 Version 1.2.5 *(2013-09-17)*
 ----------------------------
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index f2cae059..11c074f4 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="18"
-    android:versionName="1.2.6.beta2" >
+    android:versionCode="19"
+    android:versionName="1.2.6.beta3" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     

From 48079910def5e46e6cbaf5686a69e94f89311ba5 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 5 Dec 2013 12:53:11 +0100
Subject: [PATCH 23/43] Fixed string title of export dialog Fixed: split
 transaction inversion in QIF exports

---
 CHANGELOG.md                                                 | 2 +-
 app/AndroidManifest.xml                                      | 4 ++--
 app/res/values-de/strings.xml                                | 2 +-
 app/res/values-el/strings.xml                                | 2 +-
 app/res/values-es-rMX/strings.xml                            | 2 +-
 app/res/values-es/strings.xml                                | 2 +-
 app/res/values-fr/strings.xml                                | 2 +-
 app/res/values-hu/strings.xml                                | 2 +-
 app/res/values-it/strings.xml                                | 2 +-
 app/res/values-nb/strings.xml                                | 2 +-
 app/res/values-pt-rBR/strings.xml                            | 2 +-
 app/res/values-ru/strings.xml                                | 2 +-
 app/res/values-zh/strings.xml                                | 2 +-
 app/res/values/strings.xml                                   | 2 +-
 app/src/org/gnucash/android/data/Transaction.java            | 2 +-
 app/src/org/gnucash/android/export/ExportDialogFragment.java | 2 +-
 16 files changed, 17 insertions(+), 17 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 394154e1..99a5c2a5 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,6 +1,6 @@
 Change Log
 ===============================================================================
-Version 1.2.6 *(2013-xx-xx)*
+Version 1.2.6 *(2013-12-06)*
 ----------------------------
 * Feature: Support for QIF export format
 * Improved: CREDIT/DEBIT meaning now matches GnuCash desktop. Effect on account balance depends on type of account
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 11c074f4..fa43fb54 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="19"
-    android:versionName="1.2.6.beta3" >
+    android:versionCode="20"
+    android:versionName="1.2.6" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index c8e3562a..eda08890 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -49,7 +49,7 @@
     <string name="title_selected">%1$d ausgew&#228;hlt</string>
     <string name="label_transactions_total">Summe:</string>
     <string name="label_export_destination">Exportziel</string>
-    <string name="title_export_dialog">Export OFX</string>
+    <string name="title_export_dialog">Buchungen Exportieren</string>
     <string name="option_export_all_transactions">Alle Buchungen exportieren</string>
     <string name="hint_export_choice">Auswhlen, um alle Buchungen zu exportieren. Andernfalls werden nur die neuen Buchungen seit letztem Export exportiert.</string>
     <string name="error_exporting">Fehler beim Exportieren der OFX-Datei</string>    
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index ac793865..ffb01bb3 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d </string>
     <string name="label_transactions_total"> :</string>
     <string name="label_export_destination"> </string>
-    <string name="title_export_dialog"> OFX</string>
+    <string name="title_export_dialog">Export transactions</string>
     <string name="option_export_all_transactions">   </string>
     <string name="hint_export_choice">,          .          </string>
     <string name="error_exporting">   OFX</string>    
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 23d41528..de572f7c 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d seleccionado</string>
     <string name="label_transactions_total">Total:</string>
     <string name="label_export_destination">Exportar Destino</string>
-    <string name="title_export_dialog">Exportar OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Exportar todas las transacciones</string>
     <string name="hint_export_choice">Por omisi&#243;n, s&#243;lo las trasacciones nuevas ser&#225;n exportadas. Selecione esta opci&#243;n para exportar todas las transacciones</string>
     <string name="error_exporting">Error al exportar los datos OFX</string>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 4215a056..31d76e91 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d seleccionado</string>
     <string name="label_transactions_total">Total:</string>
     <string name="label_export_destination">Destino de la exportaci&#243;n</string>
-    <string name="title_export_dialog">Exportar OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Exportar todas las transacciones</string>
     <string name="hint_export_choice">Por defecto solo las nuevas transacciones desde la &#250;ltima exportaci&#243;n ser&#225;n exportadas. Seleccione esta opci&#243;n para exportar todas las transacciones</string>
     <string name="error_exporting">Error exportando datos OFX</string>    
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index bb7b5c3e..fa7ca90a 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d s&#233;lectionner</string>
     <string name="label_transactions_total">Total:</string>
     <string name="label_export_destination">Destination d\'export</string>
-    <string name="title_export_dialog">Exporter en OFX</string>
+    <string name="title_export_dialog">Exporter les Transactions</string>
     <string name="option_export_all_transactions">Exporter toutes les transactions</string>
     <string name="hint_export_choice">Par d&#233;faut, seul les nouvelles transactions depuis le dernier export seront exporter. Cochez cette option pour exporter toutes les transactions</string>
     <string name="error_exporting">Erreur lors de l\'export des donn&#233;es en OFX</string>    
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 19c3a432..888d3009 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -49,7 +49,7 @@
     <string name="title_selected">%1$d selected</string>
     <string name="label_transactions_total">Total sum:</string>
     <string name="label_export_destination">Export Destination</string>
-    <string name="title_export_dialog">Export OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Export all transactions</string>
     <string name="hint_export_choice">By default, only new transactions since last export will be exported. Check this option to export all transactions</string>
     <string name="error_exporting">Error exporting OFX data</string>    
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 5e3f6625..f085d6e8 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d selezionate</string>
     <string name="label_transactions_total">Somma totale:</string>
     <string name="label_export_destination">Destinazione di esportazione</string>
-    <string name="title_export_dialog">Esporta OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Esporta tutte le transazioni</string>
     <string name="hint_export_choice">Di default, verranno esportate solo le transazioni dall\'ultima esportazione. Selezionare questa opzione per esportare tutte le transazioni</string>
     <string name="error_exporting">Errore nell\'esportazione dei dati OFX</string>    
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 91c8de10..1223ff16 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -51,7 +51,7 @@
     <string name="title_selected">%1$d valgt</string>
     <string name="label_transactions_total">Totalt belp:</string>
     <string name="label_export_destination">Eksportmottaker</string>
-    <string name="title_export_dialog">Eksporter OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Eksporter alle transaksjoner</string>
     <string name="hint_export_choice">Vanligvis vil kun nye transaksjoner bli eksportert.  Merk dette valget for  eksportere alle transaksjonene</string>
     <string name="error_exporting">Feil ved eksportering av OFX-data</string>    
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 7e6569ab..f04863c5 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -49,7 +49,7 @@
 	  <string name="title_selected">%1$d selecionado</string>
 	  <string name="label_transactions_total">Total:</string>
 	  <string name="label_export_destination">Exportar para:</string>
-	  <string name="title_export_dialog">Exportar OFX</string>
+	  <string name="title_export_dialog">Export Transactions</string>
 	  <string name="option_export_all_transactions">Exportar todas as transaes</string>
 	  <string name="hint_export_choice">Por padro, s sero exportadas as transaes criadas aps o ltimo procedimento de exportar. Selecionar essa opo para exportar todas as transaes.</string>
 	  <string name="error_exporting">Erro ao exportar os dados OFX</string>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index da53c039..63083f66 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d </string>
     <string name="label_transactions_total"> :</string>
     <string name="label_export_destination"> </string>
-    <string name="title_export_dialog"> OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions"> </string>
     <string name="hint_export_choice">  ,    .</string>
     <string name="error_exporting">   OFX</string>    
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 7ea5255a..95b5e775 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -48,7 +48,7 @@
     <string name="title_selected">%1$d </string>
     <string name="label_transactions_total"></string>
     <string name="label_export_destination"></string>
-    <string name="title_export_dialog">OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions"></string>
     <string name="hint_export_choice"></string>
     <string name="error_exporting">OFX</string>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index bf609112..ca20308e 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -49,7 +49,7 @@
     <string name="title_selected">%1$d selected</string>
     <string name="label_transactions_total">Total sum:</string>
     <string name="label_export_destination">Export Destination</string>
-    <string name="title_export_dialog">Export OFX</string>
+    <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Export all transactions</string>
     <string name="hint_export_choice">By default, only new transactions since last export will be exported. Check this option to export all transactions</string>
     <string name="error_exporting">Error exporting OFX data</string>    
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index 03217d53..b10b3f82 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -451,7 +451,7 @@ public String toQIF(Context context){
             if (mDescription != null || mDescription.isEmpty()){
                 transactionQifBuffer.append(QifHelper.SPLIT_MEMO_PREFIX + mDescription + newLine);
             }
-            transactionQifBuffer.append(QifHelper.SPLIT_AMOUNT_PREFIX + mAmount.negate().asString() + newLine);
+            transactionQifBuffer.append(QifHelper.SPLIT_AMOUNT_PREFIX + mAmount.asString() + newLine);
         } else {
             transactionQifBuffer.append(QifHelper.AMOUNT_PREFIX + mAmount.asString() + newLine);
             if (mDescription != null && !mDescription.isEmpty()){
diff --git a/app/src/org/gnucash/android/export/ExportDialogFragment.java b/app/src/org/gnucash/android/export/ExportDialogFragment.java
index b68cd427..fde0a93e 100644
--- a/app/src/org/gnucash/android/export/ExportDialogFragment.java
+++ b/app/src/org/gnucash/android/export/ExportDialogFragment.java
@@ -215,7 +215,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 	public void onActivityCreated(Bundle savedInstanceState) {		
 		super.onActivityCreated(savedInstanceState);
 		mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename(mExportFormat);
-		getDialog().setTitle(R.string.menu_export_ofx);
+		getDialog().setTitle(R.string.title_export_dialog);
 		bindViews();
 	}
 

From 06875fff12298695b54218a026aad08d24cf18e7 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 6 Dec 2013 15:12:12 +0100
Subject: [PATCH 24/43] Fixed: QIF export always exports all transactions (not
 only new ones) Fixed: Exported QIF does not contain transaction description
 Improved: Internationalized imbalance account name Improved: Reliability of
 export. Progress dialog now displayed during export

---
 app/AndroidManifest.xml                            |   2 +-
 app/res/values-de/strings.xml                      |   3 +
 app/res/values-el/strings.xml                      |   3 +
 app/res/values-es-rMX/strings.xml                  |   3 +
 app/res/values-es/strings.xml                      |   3 +
 app/res/values-fr/strings.xml                      |   3 +
 app/res/values-hu/strings.xml                      |   3 +
 app/res/values-it/strings.xml                      |   3 +
 app/res/values-nb/strings.xml                      |   3 +
 app/res/values-nl/strings.xml                      |   3 +
 app/res/values-pt-rBR/strings.xml                  |   3 +
 app/res/values-ru/strings.xml                      |   3 +
 app/res/values-zh/strings.xml                      |   3 +
 app/res/values/strings.xml                         |   3 +
 app/src/org/gnucash/android/data/Account.java      |  16 +-
 app/src/org/gnucash/android/data/Transaction.java  |  34 +--
 .../android/export/ExportDialogFragment.java       | 256 ++--------------
 .../org/gnucash/android/export/ExportParams.java   | 152 ++++++++++
 .../org/gnucash/android/export/ExporterTask.java   | 323 +++++++++++++++++++++
 .../gnucash/android/export/qif/QifExporter.java    |   2 +-
 .../org/gnucash/android/export/qif/QifHelper.java  |   4 +-
 21 files changed, 561 insertions(+), 267 deletions(-)
 create mode 100644 app/src/org/gnucash/android/export/ExportParams.java
 create mode 100644 app/src/org/gnucash/android/export/ExporterTask.java

diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index fa43fb54..979451b0 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,7 +17,7 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="20"
+    android:versionCode="21"
     android:versionName="1.2.6" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index eda08890..f6ecd346 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -343,6 +343,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Ausgleichskonto</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index ffb01bb3..9d407c54 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -357,6 +357,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index de572f7c..29350cb1 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -341,6 +341,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 31d76e91..eb3f7e23 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -341,6 +341,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index fa7ca90a..f7b2f3a0 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -339,6 +339,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 888d3009..cf65d343 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -342,6 +342,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index f085d6e8..2a90f25c 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -342,6 +342,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 1223ff16..601ad206 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -344,6 +344,9 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 330cbeec..42ec42b0 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -343,6 +343,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index f04863c5..851de696 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -341,6 +341,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 63083f66..05da2196 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -339,6 +339,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 95b5e775..fdbb7605 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -516,6 +516,9 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index ca20308e..7e883163 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -540,6 +540,9 @@
     <string name="key_default_export_format">default_export_format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
+    <string name="imbalance_account_name">Imbalance</string>
+    <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index 31e29397..82df0fd5 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -24,6 +24,7 @@
 import java.util.UUID;
 
 import android.content.Context;
+import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.export.ofx.OfxExporter;
 import org.gnucash.android.export.qif.QifHelper;
@@ -402,7 +403,7 @@ public static OfxAccountType convertToOfxAccountType(AccountType accountType){
 	 * @param doc XML DOM document for the OFX data
 	 * @param parent Parent node to which to add this account's transactions in XML
 	 */
-	public void toOfx(Document doc, Element parent, boolean allTransactions){
+	public void toOfx(Document doc, Element parent, boolean exportAllTransactions){
 		Element currency = doc.createElement("CURDEF");
 		currency.appendChild(doc.createTextNode(mCurrency.getCurrencyCode()));						
 		
@@ -459,7 +460,7 @@ public void toOfx(Document doc, Element parent, boolean allTransactions){
 		bankTransactionsList.appendChild(dtend);
 		
 		for (Transaction transaction : mTransactionsList) {
-			if (!allTransactions && transaction.isExported())
+			if (!exportAllTransactions && transaction.isExported())
 				continue;
 			
 			bankTransactionsList.appendChild(transaction.toOfx(doc, mUID));
@@ -478,14 +479,14 @@ public void toOfx(Document doc, Element parent, boolean allTransactions){
 
     /**
      * Exports the account info and transactions in the QIF format
-     * @param exportAll Flag to determine whether to export all transactions, or only new transactions since last export
+     * @param exportAllTransactions Flag to determine whether to export all transactions, or only new transactions since last export
      * @return QIF representation of the account information
      */
-    public String toQIF(boolean exportAll, Context context) {
+    public String toQIF(boolean exportAllTransactions) {
         StringBuffer accountQifBuffer = new StringBuffer();
         final String newLine = "\n";
 
-        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(context);
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(GnuCashApplication.getAppContext());
         String fullyQualifiedAccountName = accountsDbAdapter.getFullyQualifiedAccountName(mUID);
         accountsDbAdapter.close();
 
@@ -502,7 +503,10 @@ public String toQIF(boolean exportAll, Context context) {
             if (!transaction.getAccountUID().equals(mUID))
                 continue;
 
-            accountQifBuffer.append(transaction.toQIF(context) + newLine);
+            if (!exportAllTransactions && transaction.isExported())
+                continue;
+
+            accountQifBuffer.append(transaction.toQIF() + newLine);
         }
         return accountQifBuffer.toString();
     }
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index b10b3f82..17349499 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -434,33 +434,29 @@ public Element toOfx(Document doc, String accountUID){
 
     /**
      * Builds a QIF entry representing this transaction
-     * @param context Application context
      * @return String QIF representation of this transaction
      */
-    public String toQIF(Context context){
+    public String toQIF(){
         final String newLine = "\n";
 
-        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(context);
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(GnuCashApplication.getAppContext());
+
+        //all transactions are double transactions
+        String splitAccountFullName = QifHelper.getImbalanceAccountName(mAmount.getCurrency());
+        if (mDoubleEntryAccountUID != null && mDoubleEntryAccountUID.length() > 0){
+            splitAccountFullName = accountsDbAdapter.getFullyQualifiedAccountName(mDoubleEntryAccountUID);
+        }
 
         StringBuffer transactionQifBuffer = new StringBuffer();
-        transactionQifBuffer.append(QifHelper.DATE_PREFIX + QifHelper.formatDate(mTimestamp) + newLine);
+        transactionQifBuffer.append(QifHelper.DATE_PREFIX).append(QifHelper.formatDate(mTimestamp)).append(newLine);
+        transactionQifBuffer.append(QifHelper.MEMO_PREFIX).append(mName).append(newLine);
 
-        if (mDoubleEntryAccountUID != null && !mDoubleEntryAccountUID.isEmpty()){
-            String splitAccountFullName = accountsDbAdapter.getFullyQualifiedAccountName(mDoubleEntryAccountUID);
-            transactionQifBuffer.append(QifHelper.SPLIT_CATEGORY_PREFIX + splitAccountFullName + newLine);
-            if (mDescription != null || mDescription.isEmpty()){
-                transactionQifBuffer.append(QifHelper.SPLIT_MEMO_PREFIX + mDescription + newLine);
-            }
-            transactionQifBuffer.append(QifHelper.SPLIT_AMOUNT_PREFIX + mAmount.asString() + newLine);
-        } else {
-            transactionQifBuffer.append(QifHelper.AMOUNT_PREFIX + mAmount.asString() + newLine);
-            if (mDescription != null && !mDescription.isEmpty()){
-                transactionQifBuffer.append(QifHelper.MEMO_PREFIX + mDescription + newLine);
-            }
-            transactionQifBuffer.append(QifHelper.CATEGORY_PREFIX + QifHelper.getImbalanceAccountName(mAmount.getCurrency()) + newLine);
+        transactionQifBuffer.append(QifHelper.SPLIT_CATEGORY_PREFIX).append(splitAccountFullName).append(newLine);
+        if (mDescription != null && mDescription.length() > 0){
+            transactionQifBuffer.append(QifHelper.SPLIT_MEMO_PREFIX).append(mDescription).append(newLine);
         }
-
-        transactionQifBuffer.append(QifHelper.ENTRY_TERMINATOR + newLine);
+        transactionQifBuffer.append(QifHelper.SPLIT_AMOUNT_PREFIX).append(mAmount.asString()).append(newLine);
+        transactionQifBuffer.append(QifHelper.ENTRY_TERMINATOR).append(newLine);
 
         accountsDbAdapter.close();
         return transactionQifBuffer.toString();
diff --git a/app/src/org/gnucash/android/export/ExportDialogFragment.java b/app/src/org/gnucash/android/export/ExportDialogFragment.java
index fde0a93e..77bb5b67 100644
--- a/app/src/org/gnucash/android/export/ExportDialogFragment.java
+++ b/app/src/org/gnucash/android/export/ExportDialogFragment.java
@@ -16,55 +16,23 @@
 
 package org.gnucash.android.export;
 
-import java.io.BufferedWriter;
-import java.io.File;
-import java.io.FileInputStream;
-import java.io.FileOutputStream;
-import java.io.IOException;
-import java.io.OutputStreamWriter;
-import java.io.StringWriter;
-import java.io.Writer;
-import java.nio.channels.FileChannel;
-import java.text.SimpleDateFormat;
-import java.util.Date;
-import java.util.Locale;
-
-import javax.xml.parsers.DocumentBuilder;
-import javax.xml.parsers.DocumentBuilderFactory;
-import javax.xml.parsers.ParserConfigurationException;
-import javax.xml.transform.OutputKeys;
-import javax.xml.transform.Transformer;
-import javax.xml.transform.TransformerConfigurationException;
-import javax.xml.transform.TransformerException;
-import javax.xml.transform.TransformerFactory;
-import javax.xml.transform.dom.DOMSource;
-import javax.xml.transform.stream.StreamResult;
-
-import android.widget.*;
-import org.gnucash.android.R;
-import org.gnucash.android.export.ExportFormat;
-import org.gnucash.android.export.ofx.OfxExporter;
-import org.gnucash.android.export.qif.QifExporter;
-import org.gnucash.android.ui.accounts.AccountsActivity;
-import org.gnucash.android.ui.transactions.TransactionsDeleteConfirmationDialog;
-import org.w3c.dom.Document;
-import org.w3c.dom.Element;
-import org.w3c.dom.Node;
-import org.w3c.dom.ProcessingInstruction;
-
 import android.app.Activity;
 import android.content.Intent;
 import android.content.SharedPreferences;
-import android.net.Uri;
 import android.os.Bundle;
-import android.os.Environment;
 import android.preference.PreferenceManager;
 import android.support.v4.app.DialogFragment;
-import android.support.v4.app.Fragment;
 import android.util.Log;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.*;
+import org.gnucash.android.R;
+
+import java.io.File;
+import java.text.SimpleDateFormat;
+import java.util.Date;
+import java.util.Locale;
 
 /**
  * Dialog fragment for exporting account information as OFX files.
@@ -122,72 +90,16 @@
 
 		@Override
 		public void onClick(View v) {
-            boolean exportAll = mExportAllCheckBox.isChecked();
-            try {
-                switch (mExportFormat) {
-                    case QIF: {
-                        QifExporter qifExporter = new QifExporter(getActivity(), exportAll);
-                        String qif = qifExporter.generateQIF();
-
-                        writeQifExternalStorage(qif);
-                    }
-                    break;
-
-                    case OFX: {
-                        Document document = exportOfx(exportAll);
-                        writeOfxToExternalStorage(document);
-                    }
-                    break;
-                }
-            } catch (Exception e) {
-                Log.e(TAG, e.getMessage());
-                Toast.makeText(getActivity(), R.string.error_exporting,
-                        Toast.LENGTH_LONG).show();
-                dismiss();
-                return;
-            }
-
-
+            ExportParams exportParameters = new ExportParams(mExportFormat);
+            exportParameters.setExportAllTransactions(mExportAllCheckBox.isChecked());
+            exportParameters.setTargetFilepath(mFilePath);
             int position = mDestinationSpinner.getSelectedItemPosition();
-			switch (position) {
-			case 0:					
-				shareFile(mFilePath);				
-				break;
+            exportParameters.setExportTarget(position == 0 ? ExportParams.ExportTarget.SHARING : ExportParams.ExportTarget.SD_CARD);
+            exportParameters.setDeleteTransactionsAfterExport(mDeleteAllCheckBox.isChecked());
+
+            Log.i(TAG, "Commencing async export of transactions");
+            new ExporterTask(getActivity()).execute(exportParameters);
 
-			case 1:				
-				File src = new File(mFilePath);
-				new File(Environment.getExternalStorageDirectory() + "/gnucash/").mkdirs();
-				File dst = new File(Environment.getExternalStorageDirectory() + "/gnucash/" + buildExportFilename(mExportFormat));
-				
-				try {
-					copyFile(src, dst);
-				} catch (IOException e) {
-					Toast.makeText(getActivity(), 
-							getString(R.string.toast_error_exporting_ofx) + dst.getAbsolutePath(), 
-							Toast.LENGTH_LONG).show();		
-					Log.e(TAG, e.getMessage());
-					break;
-				}
-				
-				//file already exists, just let the user know
-				Toast.makeText(getActivity(), 
-						getString(R.string.toast_ofx_exported_to) + dst.getAbsolutePath(), 
-						Toast.LENGTH_LONG).show();					
-				break;
-				
-			default:
-				break;
-			}
-			
-			if (mDeleteAllCheckBox.isChecked()){
-				Fragment currentFragment = getActivity().getSupportFragmentManager()
-						.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-				TransactionsDeleteConfirmationDialog alertFragment = 
-						TransactionsDeleteConfirmationDialog.newInstance(R.string.title_confirm_delete, 0);
-				alertFragment.setTargetFragment(currentFragment, 0);
-				alertFragment.show(getActivity().getSupportFragmentManager(), "transactions_delete_confirmation_dialog");
-			}
-			
 			dismiss();
 		}
 		
@@ -268,45 +180,8 @@ public void onClick(View view) {
         qifRadioButton.setOnClickListener(clickListener);
 	}
 
-    private void writeQifExternalStorage(String qif) throws IOException {
-        File file = new File(mFilePath);
-
-        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
-        writer.write(qif);
-
-        writer.flush();
-    }
 
 	/**
-	 * Writes the OFX document <code>doc</code> to external storage
-	 * @param doc Document containing OFX file data
-	 * @throws IOException if file could not be saved
-	 */
-	private void writeOfxToExternalStorage(Document doc) throws IOException{
-		File file = new File(mFilePath);
-		
-		BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
-		boolean useXmlHeader = PreferenceManager.getDefaultSharedPreferences(getActivity())
-				.getBoolean(getString(R.string.key_xml_ofx_header), false);
-
-		//if we want SGML OFX headers, write first to string and then prepend header
-		if (useXmlHeader){
-			write(doc, writer, false);
-		} else {			
-			Node ofxNode = doc.getElementsByTagName("OFX").item(0);
-			StringWriter stringWriter = new StringWriter();
-			write(ofxNode, stringWriter, true);
-			
-			StringBuffer stringBuffer = new StringBuffer(OfxExporter.OFX_SGML_HEADER);
-			stringBuffer.append('\n');
-			writer.write(stringBuffer.toString() + stringWriter.toString());
-		}
-		
-		writer.flush();
-		writer.close();
-	}
-	
-	/**
 	 * Callback for when the activity chooser dialog is completed
 	 */
 	@Override
@@ -319,52 +194,8 @@ public void onActivityResult(int requestCode, int resultCode, Intent data) {
 		}
 	}
 	
-	/**
-	 * Starts an intent chooser to allow the user to select an activity to receive
-	 * the exported OFX file
-	 * @param path String path to the file on disk
-	 */
-	private void shareFile(String path){
-		String defaultEmail = PreferenceManager.getDefaultSharedPreferences(getActivity())
-												.getString(getString(R.string.key_default_export_email), null);
-		Intent shareIntent = new Intent(Intent.ACTION_SEND);
-		shareIntent.setType("application/xml");
-		shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file://"+ path));
-		shareIntent.putExtra(Intent.EXTRA_SUBJECT, getString(R.string.title_export_email));
-		if (defaultEmail != null && defaultEmail.trim().length() > 0){
-			shareIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{defaultEmail});
-		}			
-		SimpleDateFormat formatter = (SimpleDateFormat) SimpleDateFormat.getDateTimeInstance();
-		
-		shareIntent.putExtra(Intent.EXTRA_TEXT, getString(R.string.description_export_email) 
-							+ " " + formatter.format(new Date(System.currentTimeMillis())));
-		startActivity(Intent.createChooser(shareIntent, getString(R.string.title_share_ofx_with)));	
-	}
-	
-	/**
-	 * Copies a file from <code>src</code> to <code>dst</code>
-	 * @param src Absolute path to the source file
-	 * @param dst Absolute path to the destination file 
-	 * @throws IOException if the file could not be copied
-	 */
-	public static void copyFile(File src, File dst) throws IOException
-	{
-		//TODO: Make this asynchronous at some time, t in the future.
-	    FileChannel inChannel = new FileInputStream(src).getChannel();
-	    FileChannel outChannel = new FileOutputStream(dst).getChannel();
-	    try
-	    {
-	        inChannel.transferTo(0, inChannel.size(), outChannel);
-	    }
-	    finally
-	    {
-	        if (inChannel != null)
-	            inChannel.close();
-	        if (outChannel != null)
-	            outChannel.close();
-	    }
-	}
-	
+
+
 	/**
 	 * Builds a file name based on the current time stamp for the exported file
 	 * @return String containing the file name
@@ -384,58 +215,5 @@ public static String buildExportFilename(ExportFormat format){
         }
 		return filename;
 	}
-	
-	/**
-	 * Exports transactions in the database to the OFX format.
-	 * The accounts are written to a DOM document and returned
-	 * @param exportAll Flag to export all transactions or only the new ones since last export
-	 * @return DOM {@link Document} containing the OFX file information
-	 * @throws ParserConfigurationException
-	 */
-	protected Document exportOfx(boolean exportAll) throws ParserConfigurationException{		
-		DocumentBuilderFactory docFactory = DocumentBuilderFactory
-				.newInstance();
-		DocumentBuilder docBuilder = docFactory.newDocumentBuilder();
-
-		Document document = docBuilder.newDocument();
-		Element root = document.createElement("OFX");
-		
-		ProcessingInstruction pi = document.createProcessingInstruction("OFX", OfxExporter.OFX_HEADER);
-		document.appendChild(pi);		
-		document.appendChild(root);
-		
-		OfxExporter exporter = new OfxExporter(getActivity(), exportAll);
-		exporter.toOfx(document, root);
-		
-		return document;
-	}
-	
-	/**
-	 * Writes out the document held in <code>node</code> to <code>outputWriter</code>
-	 * @param node {@link Node} containing the OFX document structure. Usually the parent node
-	 * @param outputWriter {@link Writer} to use in writing the file to stream
-     * @param omitXmlDeclaration Flag which causes the XML declaration to be omitted
-	 */
-	public void write(Node node, Writer outputWriter, boolean omitXmlDeclaration){
-		try {
-			TransformerFactory transformerFactory = TransformerFactory
-					.newInstance();
-			Transformer transformer = transformerFactory.newTransformer();
-			DOMSource source = new DOMSource(node);
-			StreamResult result = new StreamResult(outputWriter);
-			
-			transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "2");
-			transformer.setOutputProperty(OutputKeys.INDENT, "yes");
-			if (omitXmlDeclaration) {
-				transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "yes");
-			}
-			
-			transformer.transform(source, result);
-		} catch (TransformerConfigurationException txconfigException) {
-			txconfigException.printStackTrace();
-		} catch (TransformerException tfException) {
-			tfException.printStackTrace();
-		}
-	}
 }
 
diff --git a/app/src/org/gnucash/android/export/ExportParams.java b/app/src/org/gnucash/android/export/ExportParams.java
new file mode 100644
index 00000000..6ad6c496
--- /dev/null
+++ b/app/src/org/gnucash/android/export/ExportParams.java
@@ -0,0 +1,152 @@
+/*
+ * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.export;
+
+/**
+ * Encapsulation of the parameters used for exporting transactions.
+ * The parameters are determined by the user in the export dialog and are then transmitted to the asynchronous task which
+ * actually performs the export.
+ * @see org.gnucash.android.export.ExportDialogFragment
+ * @see org.gnucash.android.export.ExporterTask
+ *
+ * @author Ngewi Fet <ngewif@gmail.com>
+ */
+public class ExportParams {
+    /**
+     * Options for the destination of the exported transctions file.
+     * It could be stored on the {@link #SD_CARD} or exported through another program via {@link #SHARING}
+     */
+    public enum ExportTarget {SD_CARD, SHARING};
+
+    /**
+     * Format to use for the exported transactions
+     * By default, the {@link ExportFormat#QIF} format is used
+     */
+    private ExportFormat mExportFormat      = ExportFormat.QIF;
+
+    /**
+     * Flag to determine if all transactions (including previously exported ones) should be exported
+     * By default only new transactions since the last export will be exported.
+     */
+    private boolean mExportAllTransactions  = false;
+
+    /**
+     * Flag to determine if all transactions should be deleted after exporting is complete
+     * By default no transactions are deleted
+     */
+    private boolean mDeleteTransactionsAfterExport = false;
+
+    /**
+     * Destination for the exported transactions
+     */
+    private ExportTarget mExportTarget      = ExportTarget.SHARING;
+
+    /**
+     * File path for the internal saving of transactions before determining export destination.
+     */
+    private String mTargetFilepath;
+
+    /**
+     * Creates a new set of paramters and specifies the export format
+     * @param format Format to use when exporting the transactions
+     */
+    public ExportParams(ExportFormat format){
+        mExportFormat = format;
+    }
+
+    /**
+     * Return the format used for exporting
+     * @return {@link ExportFormat}
+     */
+    public ExportFormat getExportFormat() {
+        return mExportFormat;
+    }
+
+    /**
+     * Set the export format
+     * @param exportFormat {@link ExportFormat}
+     */
+    public void setExportFormat(ExportFormat exportFormat) {
+        this.mExportFormat = exportFormat;
+    }
+
+    /**
+     * Returns flag whether all transactions should be exported, or only new ones since last export
+     * @return <code>true</code> if all transactions should be exported, <code>false</code> otherwise
+     */
+    public boolean shouldExportAllTransactions() {
+        return mExportAllTransactions;
+    }
+
+    /**
+     * Sets flag for exporting all transactions or only new transactions since last export
+     * @param exportAll Boolean flag
+     */
+    public void setExportAllTransactions(boolean exportAll) {
+        this.mExportAllTransactions = exportAll;
+    }
+
+    /**
+     * Returns flag whether transactions should be deleted after export
+     * @return <code>true</code> if all transactions will be deleted, <code>false</code> otherwise
+     */
+    public boolean shouldDeleteTransactionsAfterExport() {
+        return mDeleteTransactionsAfterExport;
+    }
+
+    /**
+     * Set flag to delete transactions after exporting is complete
+     * @param deleteTransactions SEt to <code>true</code> if transactions should be deleted, false if not
+     */
+    public void setDeleteTransactionsAfterExport(boolean deleteTransactions) {
+        this.mDeleteTransactionsAfterExport = deleteTransactions;
+    }
+
+    /**
+     * Get the target for the exported file
+     * @return {@link org.gnucash.android.export.ExportParams.ExportTarget}
+     */
+    public ExportTarget getExportTarget() {
+        return mExportTarget;
+    }
+
+    /**
+     * Set the target for the exported transactions
+     * @param mExportTarget Target for exported transactions
+     */
+    public void setExportTarget(ExportTarget mExportTarget) {
+        this.mExportTarget = mExportTarget;
+    }
+
+    /**
+     * Returns the internal target file path for the exported transactions.
+     * This file path is not accessible outside the context of the application
+     * @return String path to exported transactions
+     */
+    public String getTargetFilepath() {
+        return mTargetFilepath;
+    }
+
+    /**
+     * Sets target file path for transactions in private application storage
+     * @param mTargetFilepath String path to file
+     */
+    public void setTargetFilepath(String mTargetFilepath) {
+        this.mTargetFilepath = mTargetFilepath;
+    }
+
+}
diff --git a/app/src/org/gnucash/android/export/ExporterTask.java b/app/src/org/gnucash/android/export/ExporterTask.java
new file mode 100644
index 00000000..304ba494
--- /dev/null
+++ b/app/src/org/gnucash/android/export/ExporterTask.java
@@ -0,0 +1,323 @@
+/*
+ * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.export;
+
+import android.app.ProgressDialog;
+import android.content.Context;
+import android.content.Intent;
+import android.net.Uri;
+import android.os.AsyncTask;
+import android.os.Environment;
+import android.preference.PreferenceManager;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentActivity;
+import android.util.Log;
+import android.widget.Toast;
+import org.gnucash.android.R;
+import org.gnucash.android.export.ofx.OfxExporter;
+import org.gnucash.android.export.qif.QifExporter;
+import org.gnucash.android.ui.accounts.AccountsActivity;
+import org.gnucash.android.ui.transactions.TransactionsDeleteConfirmationDialog;
+import org.w3c.dom.Document;
+import org.w3c.dom.Element;
+import org.w3c.dom.Node;
+import org.w3c.dom.ProcessingInstruction;
+
+import javax.xml.parsers.DocumentBuilder;
+import javax.xml.parsers.DocumentBuilderFactory;
+import javax.xml.parsers.ParserConfigurationException;
+import javax.xml.transform.*;
+import javax.xml.transform.dom.DOMSource;
+import javax.xml.transform.stream.StreamResult;
+import java.io.*;
+import java.nio.channels.FileChannel;
+import java.text.SimpleDateFormat;
+import java.util.Date;
+
+/**
+ * Asynchronous task for exporting transactions.
+ *
+ * @author Ngewi Fet <ngewif@gmail.com>
+ */
+public class ExporterTask extends AsyncTask<ExportParams, Void, Boolean> {
+    /**
+     * App context
+     */
+    private final Context mContext;
+
+    private ProgressDialog mProgressDialog;
+
+    /**
+     * Log tag
+     */
+    public static final String TAG = "ExporterTask";
+
+    /**
+     * Export parameters
+     */
+    private ExportParams mExportParams;
+
+    public ExporterTask(Context context){
+        this.mContext = context;
+    }
+
+    @Override
+    protected void onPreExecute() {
+        super.onPreExecute();
+        mProgressDialog = new ProgressDialog(mContext);
+        mProgressDialog.setTitle(R.string.title_progress_exporting_transactions);
+        mProgressDialog.setIndeterminate(true);
+        mProgressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
+        mProgressDialog.show();
+    }
+
+    /**
+     * Generates the appropriate exported transactions file for the given parameters
+     * @param params Export parameters
+     * @return <code>true</code> if export was successful, <code>false</code> otherwise
+     */
+    @Override
+    protected Boolean doInBackground(ExportParams... params) {
+        mExportParams = params[0];
+        boolean exportAllTransactions = mExportParams.shouldExportAllTransactions();
+        try {
+            switch (mExportParams.getExportFormat()) {
+                case QIF: {
+                    QifExporter qifExporter = new QifExporter(mContext, exportAllTransactions);
+                    String qif = qifExporter.generateQIF();
+
+                    writeQifExternalStorage(qif);
+                }
+                return true;
+
+                case OFX: {
+                    Document document = exportOfx(exportAllTransactions);
+                    writeOfxToExternalStorage(document);
+                }
+                return true;
+            }
+        } catch (Exception e) {
+            e.printStackTrace();
+            Log.e(TAG, e.getMessage());
+            Toast.makeText(mContext, R.string.error_exporting,
+                    Toast.LENGTH_LONG).show();
+        };
+        return false;
+    }
+
+    /**
+     * Transmits the exported transactions to the designated location, either SD card or third-party application
+     * @param exportResult Result of background export execution
+     */
+    @Override
+    protected void onPostExecute(Boolean exportResult) {
+        mProgressDialog.dismiss();
+
+        if (!exportResult){
+            Toast.makeText(mContext,
+                    mContext.getString(R.string.toast_error_exporting),
+                    Toast.LENGTH_LONG).show();
+            return;
+        }
+
+        switch (mExportParams.getExportTarget()) {
+            case SHARING:
+                shareFile(mExportParams.getTargetFilepath());
+                break;
+
+            case SD_CARD:
+                File src = new File(mExportParams.getTargetFilepath());
+                new File(Environment.getExternalStorageDirectory() + "/gnucash/").mkdirs();
+                File dst = new File(Environment.getExternalStorageDirectory()
+                        + "/gnucash/" + ExportDialogFragment.buildExportFilename(mExportParams.getExportFormat()));
+
+                try {
+                    copyFile(src, dst);
+                } catch (IOException e) {
+                    Toast.makeText(mContext,
+                            mContext.getString(R.string.toast_error_exporting_ofx) + dst.getAbsolutePath(),
+                            Toast.LENGTH_LONG).show();
+                    Log.e(TAG, e.getMessage());
+                    break;
+                }
+
+                //file already exists, just let the user know
+                Toast.makeText(mContext,
+                        mContext.getString(R.string.toast_ofx_exported_to) + dst.getAbsolutePath(),
+                        Toast.LENGTH_LONG).show();
+                break;
+
+            default:
+                break;
+        }
+
+        if (mExportParams.shouldDeleteTransactionsAfterExport()){
+            android.support.v4.app.FragmentManager fragmentManager = ((FragmentActivity)mContext).getSupportFragmentManager();
+            Fragment currentFragment = fragmentManager
+                    .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
+            TransactionsDeleteConfirmationDialog alertFragment =
+                    TransactionsDeleteConfirmationDialog.newInstance(R.string.title_confirm_delete, 0);
+            alertFragment.setTargetFragment(currentFragment, 0);
+
+            alertFragment.show(fragmentManager, "transactions_delete_confirmation_dialog");
+        }
+
+    }
+
+
+    /**
+     * Exports transactions in the database to the OFX format.
+     * The accounts are written to a DOM document and returned
+     * @param exportAll Flag to export all transactions or only the new ones since last export
+     * @return DOM {@link Document} containing the OFX file information
+     * @throws javax.xml.parsers.ParserConfigurationException
+     */
+    protected Document exportOfx(boolean exportAll) throws ParserConfigurationException {
+        DocumentBuilderFactory docFactory = DocumentBuilderFactory
+                .newInstance();
+        DocumentBuilder docBuilder = docFactory.newDocumentBuilder();
+
+        Document document = docBuilder.newDocument();
+        Element root = document.createElement("OFX");
+
+        ProcessingInstruction pi = document.createProcessingInstruction("OFX", OfxExporter.OFX_HEADER);
+        document.appendChild(pi);
+        document.appendChild(root);
+
+        OfxExporter exporter = new OfxExporter(mContext, exportAll);
+        exporter.toOfx(document, root);
+
+        return document;
+    }
+
+    /**
+     * Writes out the String containing the exported transaction in QIF format to disk
+     * @param qif String containing exported transactions
+     * @throws IOException
+     */
+    private void writeQifExternalStorage(String qif) throws IOException {
+        File file = new File(mExportParams.getTargetFilepath());
+
+        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
+        writer.write(qif);
+
+        writer.flush();
+    }
+
+    /**
+     * Writes the OFX document <code>doc</code> to external storage
+     * @param doc Document containing OFX file data
+     * @throws IOException if file could not be saved
+     */
+    private void writeOfxToExternalStorage(Document doc) throws IOException{
+        File file = new File(mExportParams.getTargetFilepath());
+
+        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(file), "UTF-8"));
+        boolean useXmlHeader = PreferenceManager.getDefaultSharedPreferences(mContext)
+                .getBoolean(mContext.getString(R.string.key_xml_ofx_header), false);
+
+        //if we want SGML OFX headers, write first to string and then prepend header
+        if (useXmlHeader){
+            write(doc, writer, false);
+        } else {
+            Node ofxNode = doc.getElementsByTagName("OFX").item(0);
+            StringWriter stringWriter = new StringWriter();
+            write(ofxNode, stringWriter, true);
+
+            StringBuffer stringBuffer = new StringBuffer(OfxExporter.OFX_SGML_HEADER);
+            stringBuffer.append('\n');
+            writer.write(stringBuffer.toString() + stringWriter.toString());
+        }
+
+        writer.flush();
+        writer.close();
+    }
+
+    /**
+     * Starts an intent chooser to allow the user to select an activity to receive
+     * the exported OFX file
+     * @param path String path to the file on disk
+     */
+    private void shareFile(String path){
+        String defaultEmail = PreferenceManager.getDefaultSharedPreferences(mContext)
+                .getString(mContext.getString(R.string.key_default_export_email), null);
+        Intent shareIntent = new Intent(Intent.ACTION_SEND);
+        shareIntent.setType("application/xml");
+        shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file://" + path));
+        shareIntent.putExtra(Intent.EXTRA_SUBJECT, mContext.getString(R.string.title_export_email));
+        if (defaultEmail != null && defaultEmail.trim().length() > 0){
+            shareIntent.putExtra(Intent.EXTRA_EMAIL, new String[]{defaultEmail});
+        }
+        SimpleDateFormat formatter = (SimpleDateFormat) SimpleDateFormat.getDateTimeInstance();
+
+        shareIntent.putExtra(Intent.EXTRA_TEXT, mContext.getString(R.string.description_export_email)
+                + " " + formatter.format(new Date(System.currentTimeMillis())));
+        mContext.startActivity(Intent.createChooser(shareIntent, mContext.getString(R.string.title_share_ofx_with)));
+    }
+
+    /**
+     * Copies a file from <code>src</code> to <code>dst</code>
+     * @param src Absolute path to the source file
+     * @param dst Absolute path to the destination file
+     * @throws IOException if the file could not be copied
+     */
+    public static void copyFile(File src, File dst) throws IOException
+    {
+        //TODO: Make this asynchronous at some time, t in the future.
+        FileChannel inChannel = new FileInputStream(src).getChannel();
+        FileChannel outChannel = new FileOutputStream(dst).getChannel();
+        try
+        {
+            inChannel.transferTo(0, inChannel.size(), outChannel);
+        }
+        finally
+        {
+            if (inChannel != null)
+                inChannel.close();
+            if (outChannel != null)
+                outChannel.close();
+        }
+    }
+
+    /**
+     * Writes out the document held in <code>node</code> to <code>outputWriter</code>
+     * @param node {@link Node} containing the OFX document structure. Usually the parent node
+     * @param outputWriter {@link Writer} to use in writing the file to stream
+     * @param omitXmlDeclaration Flag which causes the XML declaration to be omitted
+     */
+    public void write(Node node, Writer outputWriter, boolean omitXmlDeclaration){
+        try {
+            TransformerFactory transformerFactory = TransformerFactory
+                    .newInstance();
+            Transformer transformer = transformerFactory.newTransformer();
+            DOMSource source = new DOMSource(node);
+            StreamResult result = new StreamResult(outputWriter);
+
+            transformer.setOutputProperty("{http://xml.apache.org/xslt}indent-amount", "2");
+            transformer.setOutputProperty(OutputKeys.INDENT, "yes");
+            if (omitXmlDeclaration) {
+                transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, "yes");
+            }
+
+            transformer.transform(source, result);
+        } catch (TransformerConfigurationException txconfigException) {
+            txconfigException.printStackTrace();
+        } catch (TransformerException tfException) {
+            tfException.printStackTrace();
+        }
+    }
+}
diff --git a/app/src/org/gnucash/android/export/qif/QifExporter.java b/app/src/org/gnucash/android/export/qif/QifExporter.java
index e6cd8163..35f8c557 100644
--- a/app/src/org/gnucash/android/export/qif/QifExporter.java
+++ b/app/src/org/gnucash/android/export/qif/QifExporter.java
@@ -32,7 +32,7 @@ public String generateQIF(){
             if (account.getTransactionCount() == 0)
                 continue;
 
-            qifBuffer.append(account.toQIF(mExportAll, mContext) + "\n");
+            qifBuffer.append(account.toQIF(mExportAll) + "\n");
 
             //mark as exported
             transactionsDbAdapter.markAsExported(account.getUID());
diff --git a/app/src/org/gnucash/android/export/qif/QifHelper.java b/app/src/org/gnucash/android/export/qif/QifHelper.java
index e8fd1f99..0068a1e9 100644
--- a/app/src/org/gnucash/android/export/qif/QifHelper.java
+++ b/app/src/org/gnucash/android/export/qif/QifHelper.java
@@ -1,5 +1,7 @@
 package org.gnucash.android.export.qif;
 
+import org.gnucash.android.R;
+import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.data.Account;
 
 import java.text.SimpleDateFormat;
@@ -69,6 +71,6 @@ public static String getQifHeader(Account.AccountType accountType){
      */
     public static String getImbalanceAccountName(Currency currency){
         //TODO: localize this in the future
-        return "Imbalance-" + currency.getCurrencyCode();
+        return GnuCashApplication.getAppContext().getString(R.string.imbalance_account_name) + "-" + currency.getCurrencyCode();
     }
 }

From 0d58e6c3e262a397d8cf2f07ced174ef780503e4 Mon Sep 17 00:00:00 2001
From: Alexander Galanin <al@galanin.nnov.ru>
Date: Mon, 16 Dec 2013 21:15:32 +0300
Subject: [PATCH 25/43] Updated Russian translation

---
 app/res/values-ru/strings.xml | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 05da2196..f2f33dbd 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d </string>
     <string name="label_transactions_total"> :</string>
     <string name="label_export_destination"> </string>
-    <string name="title_export_dialog">Export Transactions</string>
+    <string name="title_export_dialog"> </string>
     <string name="option_export_all_transactions"> </string>
     <string name="hint_export_choice">  ,    .</string>
     <string name="error_exporting">   OFX</string>    
@@ -331,17 +331,17 @@
     <string name="summary_delete_all_transactions">      !</string>
     <string name="title_delete_all_transactions">  </string>
     <string name="toast_all_transactions_deleted">  !</string>
-    <string name="title_progress_importing_accounts">Importing accounts</string>
-    <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
-    <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
-    <string name="menu_search_accounts">Search</string>
-    <string name="title_default_export_format">Default Export Format</string>
-    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="title_progress_importing_accounts"> </string>
+    <string name="toast_tap_again_to_confirm_delete">    .    !</string>
+    <string name="section_header_transactions"></string>
+    <string name="section_header_accounts"> </string>
+    <string name="menu_search_accounts"></string>
+    <string name="title_default_export_format">   </string>
+    <string name="summary_default_export_format"> ,     </string>
+    <string name="menu_export_transactions"> ...</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
-    <string name="imbalance_account_name">Imbalance</string>
-    <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="imbalance_account_name"></string>
+    <string name="title_progress_exporting_transactions"> </string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
@@ -353,7 +353,7 @@
         <item></item>
         <item></item>
         <item></item>
-        <item></item>
+        <item></item>
         <item>PAYABLE</item>
         <item>RECEIVABLE</item>
         <item>EQUITY</item>

From 213637559542b9e2c7be1db753b215ecf29b7da8 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Tue, 17 Dec 2013 11:40:57 +0100
Subject: [PATCH 26/43] Updated version numbers for 1.2.7 release Fixed: Export
 format always defaults to QIF, ignoring user preference - closes #127
 Improved: Better responsiveness of add transaction and add account buttons

---
 CHANGELOG.md                                       |  6 ++++++
 app/AndroidManifest.xml                            |  4 ++--
 app/pom.xml                                        |  2 +-
 .../android/export/ExportDialogFragment.java       |  7 +++---
 .../org/gnucash/android/export/ExporterTask.java   |  3 ++-
 .../receivers/TransactionAppWidgetProvider.java    | 10 +++++++--
 .../android/ui/accounts/AccountsListFragment.java  | 25 ++++++++++++++++++++--
 .../settings/TransactionsPreferenceFragment.java   |  6 +-----
 .../ui/transactions/TransactionsListFragment.java  | 20 +++++++++++++++++
 integration-tests/pom.xml                          |  2 +-
 pom.xml                                            |  2 +-
 11 files changed, 69 insertions(+), 18 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 99a5c2a5..5e169cf6 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,11 @@
 Change Log
 ===============================================================================
+Version 1.2.7 *(2013-12-18)*
+----------------------------
+* Fixed: Export format always defaults to QIF, ignoring user preference
+* Improved: Better responsiveness of add transaction and add account buttons
+* Improved: Russian translation
+
 Version 1.2.6 *(2013-12-06)*
 ----------------------------
 * Feature: Support for QIF export format
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 979451b0..5faf9d13 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="21"
-    android:versionName="1.2.6" >
+    android:versionCode="22"
+    android:versionName="1.2.7" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/pom.xml b/app/pom.xml
index 02c0a344..9e342425 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -22,7 +22,7 @@
     <description>Gnucash Android companion application</description>
 
     <parent>
-        <version>1.2.6-SNAPSHOT</version>
+        <version>1.2.7-SNAPSHOT</version>
         <groupId>org.gnucash.android</groupId>
         <artifactId>gnucash-android-parent</artifactId>
     </parent>
diff --git a/app/src/org/gnucash/android/export/ExportDialogFragment.java b/app/src/org/gnucash/android/export/ExportDialogFragment.java
index 77bb5b67..2edb5220 100644
--- a/app/src/org/gnucash/android/export/ExportDialogFragment.java
+++ b/app/src/org/gnucash/android/export/ExportDialogFragment.java
@@ -97,10 +97,10 @@ public void onClick(View v) {
             exportParameters.setExportTarget(position == 0 ? ExportParams.ExportTarget.SHARING : ExportParams.ExportTarget.SD_CARD);
             exportParameters.setDeleteTransactionsAfterExport(mDeleteAllCheckBox.isChecked());
 
+            dismiss();
+
             Log.i(TAG, "Commencing async export of transactions");
             new ExporterTask(getActivity()).execute(exportParameters);
-
-			dismiss();
 		}
 		
 	}
@@ -126,9 +126,9 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 	@Override
 	public void onActivityCreated(Bundle savedInstanceState) {		
 		super.onActivityCreated(savedInstanceState);
+        bindViews();
 		mFilePath = getActivity().getExternalFilesDir(null) + "/" + buildExportFilename(mExportFormat);
 		getDialog().setTitle(R.string.title_export_dialog);
-		bindViews();
 	}
 
 	/**
@@ -164,6 +164,7 @@ public void onClick(View v) {
 		mSaveButton.setOnClickListener(new ExportClickListener());
 
         String defaultExportFormat = sharedPrefs.getString(getString(R.string.key_default_export_format), ExportFormat.QIF.name());
+        mExportFormat = ExportFormat.valueOf(defaultExportFormat);
         View.OnClickListener clickListener = new View.OnClickListener() {
             @Override
             public void onClick(View view) {
diff --git a/app/src/org/gnucash/android/export/ExporterTask.java b/app/src/org/gnucash/android/export/ExporterTask.java
index 304ba494..8ba6b05e 100644
--- a/app/src/org/gnucash/android/export/ExporterTask.java
+++ b/app/src/org/gnucash/android/export/ExporterTask.java
@@ -125,7 +125,6 @@ protected Boolean doInBackground(ExportParams... params) {
      */
     @Override
     protected void onPostExecute(Boolean exportResult) {
-        mProgressDialog.dismiss();
 
         if (!exportResult){
             Toast.makeText(mContext,
@@ -176,6 +175,8 @@ protected void onPostExecute(Boolean exportResult) {
             alertFragment.show(fragmentManager, "transactions_delete_confirmation_dialog");
         }
 
+        mProgressDialog.dismiss();
+
     }
 
 
diff --git a/app/src/org/gnucash/android/receivers/TransactionAppWidgetProvider.java b/app/src/org/gnucash/android/receivers/TransactionAppWidgetProvider.java
index d8c9e7dc..06b1cd87 100644
--- a/app/src/org/gnucash/android/receivers/TransactionAppWidgetProvider.java
+++ b/app/src/org/gnucash/android/receivers/TransactionAppWidgetProvider.java
@@ -53,8 +53,14 @@ public void onUpdate(Context context, AppWidgetManager appWidgetManager,
             WidgetConfigurationActivity.updateWidget(context, appWidgetId, accountId);            
         }
 	}
-	
-	@Override
+
+    @Override
+    public void onEnabled(Context context) {
+        super.onEnabled(context);
+        WidgetConfigurationActivity.updateAllWidgets(context);
+    }
+
+    @Override
 	public void onDeleted(Context context, int[] appWidgetIds) {
 		super.onDeleted(context, appWidgetIds);		
 		Editor editor = PreferenceManager.getDefaultSharedPreferences(context).edit();
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 308ee4fe..2c409535 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -24,6 +24,7 @@
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.database.Cursor;
+import android.graphics.Rect;
 import android.os.AsyncTask;
 import android.os.Bundle;
 import android.support.v4.app.DialogFragment;
@@ -36,6 +37,7 @@
 import android.text.TextUtils;
 import android.util.Log;
 import android.view.LayoutInflater;
+import android.view.TouchDelegate;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.*;
@@ -666,9 +668,9 @@ public void bindView(View v, Context context, Cursor cursor) {
                 subAccountTextView.setVisibility(View.GONE);
 
             // add a summary of transactions to the account view
-            TextView summary = (TextView) v
+            TextView accountBalanceTextView = (TextView) v
                     .findViewById(R.id.transactions_summary);
-            new AccountBalanceTask(summary, getActivity()).execute(accountId);
+            new AccountBalanceTask(accountBalanceTextView, getActivity()).execute(accountId);
 
             boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(accountId);
 
@@ -705,6 +707,25 @@ public View getView(int position, View convertView, ViewGroup parent) {
                 secondaryText.setTextColor(getResources().getColor(android.R.color.secondary_text_light_nodisable));
             }
 
+
+            //increase the touch target area for the add new transaction button
+
+            final View addTransactionButton = convertView.findViewById(R.id.btn_new_transaction);
+            final View parentView = convertView;
+            parentView.post(new Runnable() {
+                @Override
+                public void run() {
+                    final android.graphics.Rect hitRect = new Rect();
+                    float extraPadding = getResources().getDimension(R.dimen.edge_padding);
+                    addTransactionButton.getHitRect(hitRect);
+                    hitRect.right   += extraPadding;
+                    hitRect.bottom  += extraPadding;
+                    hitRect.top     -= extraPadding;
+                    hitRect.left    -= extraPadding;
+                    parentView.setTouchDelegate(new TouchDelegate(hitRect, addTransactionButton));
+                }
+            });
+
             return convertView;
         }
     }
diff --git a/app/src/org/gnucash/android/ui/settings/TransactionsPreferenceFragment.java b/app/src/org/gnucash/android/ui/settings/TransactionsPreferenceFragment.java
index 39087cf5..a2f8da9e 100644
--- a/app/src/org/gnucash/android/ui/settings/TransactionsPreferenceFragment.java
+++ b/app/src/org/gnucash/android/ui/settings/TransactionsPreferenceFragment.java
@@ -16,19 +16,15 @@
 
 package org.gnucash.android.ui.settings;
 
-import com.actionbarsherlock.app.SherlockFragmentActivity;
-import org.gnucash.android.R;
-
 import android.content.SharedPreferences;
 import android.os.Bundle;
 import android.preference.Preference;
 import android.preference.Preference.OnPreferenceChangeListener;
 import android.preference.PreferenceFragment;
 import android.preference.PreferenceManager;
-
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockPreferenceActivity;
-import org.gnucash.android.ui.transactions.TransactionsDeleteConfirmationDialog;
+import org.gnucash.android.R;
 
 /**
  * Fragment for displaying transaction preferences
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index cefafff3..67d29871 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -19,6 +19,7 @@
 import android.app.Activity;
 import android.content.Context;
 import android.database.Cursor;
+import android.graphics.Rect;
 import android.os.Bundle;
 import android.support.v4.app.DialogFragment;
 import android.support.v4.app.Fragment;
@@ -31,6 +32,7 @@
 import android.util.Log;
 import android.util.SparseBooleanArray;
 import android.view.LayoutInflater;
+import android.view.TouchDelegate;
 import android.view.View;
 import android.view.ViewGroup;
 import android.widget.CheckBox;
@@ -402,6 +404,24 @@ public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
                 checkbox.setChecked(false);
             }
 
+            //increase the touch target area for the add new transaction button
+
+            final View checkBoxView = checkbox;
+            final View parentView = view;
+            parentView.post(new Runnable() {
+                @Override
+                public void run() {
+                    float extraPadding = getResources().getDimension(R.dimen.edge_padding);
+                    final android.graphics.Rect hitRect = new Rect();
+                    checkBoxView.getHitRect(hitRect);
+                    hitRect.right   += extraPadding;
+                    hitRect.bottom  += 3*extraPadding;
+                    hitRect.top     -= extraPadding;
+                    hitRect.left    -= 2*extraPadding;
+                    parentView.setTouchDelegate(new TouchDelegate(hitRect, checkBoxView));
+                }
+            });
+
             return view;
 		}
 		
diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index 2bd54c7b..11012683 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -17,7 +17,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <parent>
-		<version>1.2.6-SNAPSHOT</version>
+		<version>1.2.7-SNAPSHOT</version>
 		<groupId>org.gnucash.android</groupId>
 		<artifactId>gnucash-android-parent</artifactId>
 	</parent>
diff --git a/pom.xml b/pom.xml
index ac6565b9..552484c9 100644
--- a/pom.xml
+++ b/pom.xml
@@ -17,7 +17,7 @@
 
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
-	<version>1.2.6-SNAPSHOT</version>
+	<version>1.2.7-SNAPSHOT</version>
     <groupId>org.gnucash.android</groupId>
     <artifactId>gnucash-android-parent</artifactId>
     <name>GnuCash Android parent</name>

From 0d718a05a96def0dfb5cf9dfa736fe4efc310aa0 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Sun, 3 Nov 2013 19:35:32 +0100
Subject: [PATCH 27/43] Feature: Add, view and delete recurring transactions.
 Transaction can recur daily, monthly or yearly

---
 app/res/layout/activity_transactions.xml           |   2 +-
 app/res/layout/fragment_new_transaction.xml        |  39 +-
 .../fragment_recurring_transactions_list.xml       |  25 ++
 app/res/menu/account_actions.xml                   |   5 +
 app/res/menu/global_actions.xml                    |   2 +-
 app/res/values-de/strings.xml                      |   5 +-
 app/res/values-el/strings.xml                      |   5 +-
 app/res/values-es-rMX/strings.xml                  |   5 +-
 app/res/values-es/strings.xml                      |   5 +-
 app/res/values-fr/strings.xml                      |   5 +-
 app/res/values-hu/strings.xml                      |   5 +-
 app/res/values-it/strings.xml                      |   5 +-
 app/res/values-nb/strings.xml                      |   5 +-
 app/res/values-nl/strings.xml                      |   5 +-
 app/res/values-pt-rBR/strings.xml                  |   5 +-
 app/res/values-ru/strings.xml                      |   3 +
 app/res/values-zh/strings.xml                      | 182 +--------
 app/res/values/dimens.xml                          |   1 +
 app/res/values/strings.xml                         |  18 +-
 app/res/values/styles.xml                          |   9 +-
 app/src/org/gnucash/android/data/Money.java        |  10 +
 app/src/org/gnucash/android/data/Transaction.java  |  90 ++++-
 .../org/gnucash/android/db/DatabaseAdapter.java    |   1 +
 app/src/org/gnucash/android/db/DatabaseHelper.java |  35 +-
 .../gnucash/android/db/TransactionsDbAdapter.java  |  75 +++-
 .../android/receivers/TransactionRecorder.java     |  21 +-
 .../android/ui/accounts/AccountsActivity.java      |  20 +
 .../ui/transactions/NewTransactionFragment.java    |  76 +++-
 .../RecurringTransactionsListFragment.java         | 447 +++++++++++++++++++++
 .../android/util/GnucashAccountXmlHandler.java     |   4 +-
 30 files changed, 864 insertions(+), 251 deletions(-)
 create mode 100644 app/res/layout/fragment_recurring_transactions_list.xml
 create mode 100644 app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java

diff --git a/app/res/layout/activity_transactions.xml b/app/res/layout/activity_transactions.xml
index a8045a07..dbd3bbe1 100644
--- a/app/res/layout/activity_transactions.xml
+++ b/app/res/layout/activity_transactions.xml
@@ -29,7 +29,7 @@
             android:background="@android:color/darker_gray"
             android:textColor="@android:color/white"
             android:visibility="gone"
-            android:text="@string/section_header_accounts"
+            android:text="@string/section_header_subaccounts"
             />
 
     <FrameLayout android:id="@+id/sub_accounts_container"
diff --git a/app/res/layout/fragment_new_transaction.xml b/app/res/layout/fragment_new_transaction.xml
index 847125c4..896ae891 100644
--- a/app/res/layout/fragment_new_transaction.xml
+++ b/app/res/layout/fragment_new_transaction.xml
@@ -30,8 +30,6 @@
 	        android:layout_width="match_parent"
 	        android:layout_height="wrap_content"
 	        android:hint="@string/label_transaction_name"
-	        android:minHeight="?android:attr/listPreferredItemHeight"
-	        android:ems="10" 
 	        android:layout_marginBottom="@dimen/dialog_padding"
 	        android:inputType="textCapSentences"
             android:imeOptions="actionNext"
@@ -40,7 +38,8 @@
 	
 	    <LinearLayout 
 	        android:layout_width="match_parent"
-	        android:layout_height="wrap_content" >
+	        android:layout_height="wrap_content"
+            android:layout_marginBottom="@dimen/form_row_bottom_margin">
 			
 			<TextView
 	            android:id="@+id/currency_symbol"	            
@@ -50,7 +49,6 @@
 	            android:paddingRight="5dp"
 	            android:gravity="center|right"
 	            android:textColor="@color/debit_red"
-	            android:minHeight="?android:attr/listPreferredItemHeight"
 	            android:textSize="22dp"           
 	            android:text="$" />
 	       		 
@@ -59,8 +57,6 @@
 		        android:layout_width="0dp"
 		        android:layout_weight="3"
 		        android:layout_height="wrap_content"
-		        android:minHeight="?android:attr/listPreferredItemHeight"
-		        android:ems="10"
 		        android:layout_marginBottom="@dimen/dialog_padding"
 		        android:hint="@string/label_transaction_amount"
 		        android:inputType="number"
@@ -73,7 +69,6 @@
 		        android:layout_width="0dp"
 		        android:layout_weight="2"
 		        android:layout_height="wrap_content"
-		        android:minHeight="?android:attr/listPreferredItemHeight"		        
 		        android:textOn="@string/label_debit"
 		        android:textOff="@string/label_credit"
 		        android:textAppearance="?android:attr/textAppearanceMedium"
@@ -83,7 +78,7 @@
 		
 	    <LinearLayout android:layout_width="match_parent"
 	        android:layout_height="wrap_content"
-	        android:orientation="vertical" >
+	        style="@style/FormRow" >
 	        
 	        <TextView
 	            android:id="@+id/label_timeanddate"
@@ -111,13 +106,13 @@
 		            android:layout_height="wrap_content"
 			        android:gravity="center"
 			        android:minWidth="120dp"       
-			        style="@style/Dropdown.TextView" />    
+			        style="@style/Dropdown.TextView" />
 			</LinearLayout>
 	    </LinearLayout>
 	   <LinearLayout
 		        android:layout_height="wrap_content"
 		        android:layout_width="match_parent"
-		        android:orientation="vertical">
+                style="@style/FormRow">
 		        
 		        <TextView
 		            android:id="@+id/label_description"
@@ -141,7 +136,7 @@
 			android:id="@+id/layout_double_entry"
 		    android:layout_width="match_parent"
 	        android:layout_height="wrap_content"
-	        android:orientation="vertical" >
+            style="@style/FormRow" >
 	        
 			<TextView
 			    android:text="@string/label_double_entry_account"
@@ -152,8 +147,26 @@
 		    <Spinner
 		        android:id="@+id/input_double_entry_accounts_spinner"        
 		        android:layout_width="match_parent"
-		        android:layout_height="wrap_content" 
-		        android:minHeight="?android:attr/listPreferredItemHeight" />
+		        android:layout_height="wrap_content"  />
 	    </LinearLayout>
+
+        <LinearLayout
+                android:layout_height="wrap_content"
+                android:layout_width="match_parent"
+                style="@style/FormRow">
+            <TextView
+                    android:id="@+id/label_recurring_transaction"
+                    android:text="@string/label_recurring_transaction"
+                    android:layout_height="wrap_content"
+                    android:layout_width="wrap_content"
+                    android:layout_marginBottom="-8dip"
+                    style="@style/TextAppearance.EditTransaction_LabelSmall" />
+
+            <Spinner android:id="@+id/input_recurring_transaction_spinner"
+                     android:layout_width="match_parent"
+                     android:layout_height="wrap_content"
+                     android:layout_marginBottom="@dimen/dialog_padding"
+                    />
+        </LinearLayout>
 	</LinearLayout>
 </ScrollView>
\ No newline at end of file
diff --git a/app/res/layout/fragment_recurring_transactions_list.xml b/app/res/layout/fragment_recurring_transactions_list.xml
new file mode 100644
index 00000000..3222f404
--- /dev/null
+++ b/app/res/layout/fragment_recurring_transactions_list.xml
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+    <ListView
+              android:id="@id/android:list"
+              android:layout_width="match_parent"
+              android:layout_height="match_parent"
+              android:layout_above="@id/transactions_sum_bar"
+              android:listSelector="@drawable/abs__list_selector_holo_light"
+              android:drawSelectorOnTop="false"/>
+
+    <TextView android:id="@id/android:empty"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:gravity="center"
+            android:text="@string/label_no_recurring_transactions"
+            android:layout_gravity="center"
+            android:textAppearance="?android:textAppearanceLarge"
+            style="@style/ListItem"/>
+
+</LinearLayout>
\ No newline at end of file
diff --git a/app/res/menu/account_actions.xml b/app/res/menu/account_actions.xml
index 61101df1..54cd6479 100644
--- a/app/res/menu/account_actions.xml
+++ b/app/res/menu/account_actions.xml
@@ -26,4 +26,9 @@
           android:title="@string/menu_export_transactions"
           android:showAsAction="never"
           android:orderInCategory="3"/>
+
+    <item android:id="@+id/menu_recurring_transactions"
+          android:title="Recurring Transactions"
+          android:showAsAction="never|withText"
+          android:orderInCategory="4" />
 </menu>
\ No newline at end of file
diff --git a/app/res/menu/global_actions.xml b/app/res/menu/global_actions.xml
index 8203ecc0..88c2246b 100644
--- a/app/res/menu/global_actions.xml
+++ b/app/res/menu/global_actions.xml
@@ -27,5 +27,5 @@
           android:icon="@drawable/action_settings"
           android:title="@string/title_settings"
           android:showAsAction="never"
-          android:orderInCategory="4"/>
+          android:orderInCategory="10"/>
 </menu>
\ No newline at end of file
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index f6ecd346..a345c590 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -338,14 +338,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Ausgleichskonto</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 9d407c54..2981624f 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -352,14 +352,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 29350cb1..fd47ce94 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -336,14 +336,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index eb3f7e23..fd587c00 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -336,14 +336,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index f7b2f3a0..dde1f202 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -334,14 +334,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index cf65d343..546bc129 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -337,14 +337,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 2a90f25c..d2545f5f 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -337,14 +337,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 601ad206..86a3aaaa 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -339,14 +339,17 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 42ec42b0..21e347f2 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -338,14 +338,17 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 851de696..c1b33e4c 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -336,14 +336,17 @@
     <string name="title_progress_importing_accounts">Importando contas</string>
     <string name="toast_tap_again_to_confirm_delete">Toque novamente para confirmar. TODAS as entradas sero deletadas!!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index f2f33dbd..dc031007 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -339,9 +339,12 @@
     <string name="title_default_export_format">   </string>
     <string name="summary_default_export_format"> ,     </string>
     <string name="menu_export_transactions"> ...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name"></string>
     <string name="title_progress_exporting_transactions"> </string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index fdbb7605..cd569de1 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -257,183 +257,6 @@
         <item></item>
         <item>Zloty</item>
     </string-array>
-    <string-array name="currency_codes">
-        <item>AFN</item>
-        <item>DZD</item>
-        <item>ARS</item>
-        <item>AMD</item>
-        <item>AWG</item>
-        <item>AUD</item>
-        <item>AZN</item>
-        <item>BSD</item>
-        <item>BHD</item>
-        <item>THB</item>
-        <item>PAB</item>
-        <item>BBD</item>
-        <item>BYR</item>
-        <item>BZD</item>
-        <item>BMD</item>
-        <item>VEF</item>
-        <item>BOB</item>
-        <item>BRL</item>
-        <item>BND</item>
-        <item>BGN</item>
-        <item>BIF</item>
-        <item>CAD</item>
-        <item>CVE</item>
-        <item>KYD</item>
-        <item>XOF</item>
-        <item>XAF</item>
-        <item>XPF</item>
-        <item>CLP</item>
-        <item>XTS</item>
-        <item>COP</item>
-        <item>KMF</item>
-        <item>CDF</item>
-        <item>BAM</item>
-        <item>NIO</item>
-        <item>CRC</item>
-        <item>HRK</item>
-        <item>CUP</item>
-        <item>CZK</item>
-        <item>GMD</item>
-        <item>DKK</item>
-        <item>MKD</item>
-        <item>DJF</item>
-        <item>STD</item>
-        <item>DOP</item>
-        <item>VND</item>
-        <item>XCD</item>
-        <item>EGP</item>
-        <item>SVC</item>
-        <item>ETB</item>
-        <item>EUR</item>
-        <item>FKP</item>
-        <item>FJD</item>
-        <item>HUF</item>
-        <item>GHS</item>
-        <item>GIP</item>
-        <item>XAU</item>
-        <item>HTG</item>
-        <item>PYG</item>
-        <item>GNF</item>
-        <item>GYD</item>
-        <item>HKD</item>
-        <item>UAH</item>
-        <item>ISK</item>
-        <item>INR</item>
-        <item>IRR</item>
-        <item>IQD</item>
-        <item>JMD</item>
-        <item>JOD</item>
-        <item>KES</item>
-        <item>PGK</item>
-        <item>LAK</item>
-        <item>KWD</item>
-        <item>MWK</item>
-        <item>AOA</item>
-        <item>MMK</item>
-        <item>GEL</item>
-        <item>LVL</item>
-        <item>LBP</item>
-        <item>ALL</item>
-        <item>HNL</item>
-        <item>SLL</item>
-        <item>LRD</item>
-        <item>LYD</item>
-        <item>SZL</item>
-        <item>LTL</item>
-        <item>LSL</item>
-        <item>MGA</item>
-        <item>MYR</item>
-        <item>MUR</item>
-        <item>MXN</item>
-        <item>MXV</item>
-        <item>MDL</item>
-        <item>MAD</item>
-        <item>MZN</item>
-        <item>BOV</item>
-        <item>NGN</item>
-        <item>ERN</item>
-        <item>NAD</item>
-        <item>NPR</item>
-        <item>ANG</item>
-        <item>ILS</item>
-        <item>RON</item>
-        <item>TWD</item>
-        <item>NZD</item>
-        <item>BTN</item>
-        <item>KPW</item>
-        <item>NOK</item>
-        <item>PEN</item>
-        <item>MRO</item>
-        <item>TOP</item>
-        <item>PKR</item>
-        <item>XPD</item>
-        <item>MOP</item>
-        <item>CUC</item>
-        <item>UYU</item>
-        <item>PHP</item>
-        <item>XPT</item>
-        <item>GBP</item>
-        <item>BWP</item>
-        <item>QAR</item>
-        <item>GTQ</item>
-        <item>ZAR</item>
-        <item>OMR</item>
-        <item>KHR</item>
-        <item>MVR</item>
-        <item>IDR</item>
-        <item>RUB</item>
-        <item>RWF</item>
-        <item>SHP</item>
-        <item>SAR</item>
-        <item>XDR</item>
-        <item>RSD</item>
-        <item>SCR</item>
-        <item>XAG</item>
-        <item>SGD</item>
-        <item>SBD</item>
-        <item>KGS</item>
-        <item>SOS</item>
-        <item>TJS</item>
-        <item>SSP</item>
-        <item>LKR</item>
-        <item>XSU</item>
-        <item>SDG</item>
-        <item>SRD</item>
-        <item>SEK</item>
-        <item>CHF</item>
-        <item>SYP</item>
-        <item>BDT</item>
-        <item>WST</item>
-        <item>TZS</item>
-        <item>KZT</item>
-        <item>XXX</item>
-        <item>TTD</item>
-        <item>MNT</item>
-        <item>TND</item>
-        <item>TRY</item>
-        <item>TMT</item>
-        <item>AED</item>
-        <item>UGX</item>
-        <item>XFU</item>
-        <item>COU</item>
-        <item>CLF</item>
-        <item>UYI</item>
-        <item>USD</item>
-        <item>UZS</item>
-        <item>VUV</item>
-        <item>CHE</item>
-        <item>CHW</item>
-        <item>KRW</item>
-        <item>YER</item>
-        <item>JPY</item>
-        <item>CNY</item>
-        <item>ZMK</item>
-        <item>ZWL</item>
-        <item>PLN</item>
-    </string-array>
     <string-array name="default_accounts">
         <item></item>
         <item></item>
@@ -511,14 +334,17 @@
     <string name="title_progress_importing_accounts"></string>
     <string name="toast_tap_again_to_confirm_delete"></string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
diff --git a/app/res/values/dimens.xml b/app/res/values/dimens.xml
index d54c0e94..7b59c18a 100644
--- a/app/res/values/dimens.xml
+++ b/app/res/values/dimens.xml
@@ -25,4 +25,5 @@
     <dimen name="edge_padding">12dp</dimen>
     <dimen name="widget_margin">8dp</dimen>
     <dimen name="section_header_height">20dp</dimen>
+    <dimen name="form_row_bottom_margin">10dp</dimen>
 </resources>
\ No newline at end of file
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 7e883163..dfd87cf2 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -534,15 +534,19 @@
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
     <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_accounts">Sub-Accounts</string>
+    <string name="section_header_subaccounts">Sub-Accounts</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="key_default_export_format">default_export_format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
     <string name="menu_export_transactions">Export transactions...</string>
+    <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
+    <string name="key_recurring_transaction_ids">recurring_transaction_ids</string>
+    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
+    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
@@ -585,4 +589,16 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <string-array name="recurrence_entries">
+        <item>NONE</item>
+        <item>DAILY</item>
+        <item>WEEKLY</item>
+        <item>MONTHLY</item>
+    </string-array>
+    <string-array name="recurrence_options">
+        <item>0</item>
+        <item>86400000</item>
+        <item>604800000</item>
+        <item>2630000000</item>
+    </string-array>
 </resources>
diff --git a/app/res/values/styles.xml b/app/res/values/styles.xml
index 5cb3cbfb..cd484ec6 100644
--- a/app/res/values/styles.xml
+++ b/app/res/values/styles.xml
@@ -38,9 +38,7 @@
     </style>
     
     <style name="Dropdown.TextView" parent="@style/Widget.Sherlock.Spinner.DropDown.ActionBar">
-        <item name="android:textSize">22dp</item>
-        <item name="android:minHeight">?android:attr/listPreferredItemHeight</item>
-        <item name="android:textAppearance">?android:attr/textAppearanceLarge</item>
+        <item name="android:textAppearance">?android:attr/textAppearanceMedium</item>
     </style>
     
     <style name="ButtonStyle">
@@ -87,4 +85,9 @@
 
     <style name="Dialog.WidgetConfiguration" parent="android:Theme.Dialog">
     </style>
+
+    <style name="FormRow">
+        <item name="android:orientation">vertical</item>
+        <item name="android:layout_marginBottom">@dimen/form_row_bottom_margin</item>
+    </style>
 </resources>
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/data/Money.java b/app/src/org/gnucash/android/data/Money.java
index 068125b4..825fd326 100644
--- a/app/src/org/gnucash/android/data/Money.java
+++ b/app/src/org/gnucash/android/data/Money.java
@@ -159,6 +159,16 @@ public Money(BigDecimal amount){
 	}
 
     /**
+     * Copy constructor.
+     * Creates a new Money object which is a clone of <code>money</code>
+     * @param money Money instance to be cloned
+     */
+    public Money(Money money){
+        setAmount(money.asBigDecimal());
+        setCurrency(money.getCurrency());
+    }
+
+    /**
      * Creates a new Money instance with 0 amount and the <code>currencyCode</code>
      * @param currencyCode Currency to use for this money instance
      * @return Money object with value 0 and currency <code>currencyCode</code>
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index 17349499..991ccb46 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -22,7 +22,6 @@
 import java.util.Locale;
 import java.util.UUID;
 
-import android.content.Context;
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.data.Account.OfxAccountType;
 import org.gnucash.android.db.AccountsDbAdapter;
@@ -40,7 +39,8 @@
  * @author Ngewi Fet <ngewif@gmail.com>
  */
 public class Transaction {
-	/**
+
+    /**
 	 * Type of transaction, a credit or a debit
 	 */
 	public enum TransactionType {DEBIT, CREDIT};
@@ -65,7 +65,13 @@
 	 * Key for identifying the amount of the transaction through an Intent
 	 */
 	public static final String EXTRA_AMOUNT 		= "org.gnucash.android.extra.amount";
-	
+
+    /**
+     * Extra key for the transaction type.
+     * This value should typically be set by calling {@link Transaction.TransactionType#name()}
+     */
+    public static final String EXTRA_TRANSACTION_TYPE = "org.gnucash.android.extra.transaction_type";
+
 	/**
 	 * {@link Money} value of this transaction
 	 */
@@ -114,7 +120,14 @@
 	 * @see TransactionType
 	 */
 	private TransactionType mType = TransactionType.DEBIT;
-	
+
+    /**
+     * Recurrence period of this transaction.
+     * <p>If this value is set then it means this transaction is a template which will be used to
+     * create a transaction every turn of the recurrence period</p>
+     */
+    private long mRecurrencePeriod = 0;
+
 	/**
 	 * Overloaded constructor. Creates a new transaction instance with the 
 	 * provided data and initializes the rest to default values. 
@@ -152,7 +165,25 @@ public Transaction(Money amount, String name, TransactionType type){
 		this.mType = type;
 		this.mName = name;
 	}
-	
+
+    /**
+     * Copy constructor.
+     * Creates a new transaction object which is a clone of the parameter.
+     * <p><b>Note:</b> The unique ID of the transaction is not cloned, but a new one is generated.</p>
+     * @param transaction Transaction to be cloned
+     */
+    public Transaction(Transaction transaction){
+        initDefaults();
+        setName(transaction.getName());
+        setDescription(transaction.getDescription());
+        setAmount(transaction.getAmount());
+        setTransactionType(transaction.getTransactionType());
+        setAccountUID(transaction.getAccountUID());
+        setDoubleEntryAccountUID(transaction.getDoubleEntryAccountUID());
+        setExported(transaction.isExported());
+        setTime(transaction.getTimeMillis());
+    }
+
 	/**
 	 * Initializes the different fields to their default values.
 	 */
@@ -169,8 +200,7 @@ private void initDefaults(){
 	 * @param amount Amount of the transaction
 	 */
 	public void setAmount(Money amount) {
-		this.mAmount = amount;
-		mType = amount.isNegative() ? TransactionType.DEBIT : TransactionType.CREDIT; 
+		this.mAmount = new Money(amount);
 	}
 
 	/**
@@ -307,6 +337,12 @@ public void setUID(String transactionUID) {
 		this.mTransactionUID = transactionUID;
 	}
 
+    /**
+     * Resets the UID of this transaction to a newly generated one
+     */
+    public void resetUID(){
+        this.mTransactionUID = UUID.randomUUID().toString();
+    }
 	/**
 	 * Returns unique ID string for transaction
 	 * @return String with Unique ID of transaction
@@ -363,8 +399,24 @@ public boolean isExported(){
 	public void setAccountUID(String accountUID) {
 		this.mAccountUID = accountUID;
 	}
-	
-	/**
+
+    /**
+     * Returns the recurrence period for this transaction
+     * @return Recurrence period for this transaction in milliseconds
+     */
+    public long getRecurrencePeriod() {
+        return mRecurrencePeriod;
+    }
+
+    /**
+     * Sets the recurrence period for this transaction
+     * @param recurrenceId Recurrence period in milliseconds
+     */
+    public void setRecurrencePeriod(long recurrenceId) {
+        this.mRecurrencePeriod = recurrenceId;
+    }
+
+    /**
 	 * Converts transaction to XML DOM corresponding to OFX Statement transaction and 
 	 * returns the element node for the transaction.
 	 * The Unique ID of the account is needed in order to properly export double entry transactions
@@ -461,4 +513,24 @@ public String toQIF(){
         accountsDbAdapter.close();
         return transactionQifBuffer.toString();
     }
+
+    /**
+     * Creates an Intent with arguments from the <code>transaction</code>.
+     * This intent can be broadcast to create a new transaction
+     * @param transaction Transaction used to create intent
+     * @return
+     */
+    public static Intent createIntent(Transaction transaction){
+        Intent intent = new Intent(Intent.ACTION_INSERT);
+        intent.setType(Transaction.MIME_TYPE);
+        intent.putExtra(Intent.EXTRA_TITLE, transaction.getName());
+        intent.putExtra(Intent.EXTRA_TEXT, transaction.getDescription());
+        intent.putExtra(EXTRA_AMOUNT, transaction.getAmount().asBigDecimal());
+        intent.putExtra(EXTRA_ACCOUNT_UID, transaction.getAccountUID());
+        intent.putExtra(EXTRA_DOUBLE_ACCOUNT_UID, transaction.getDoubleEntryAccountUID());
+        intent.putExtra(Account.EXTRA_CURRENCY_CODE, transaction.getAmount().getCurrency().getCurrencyCode());
+        intent.putExtra(EXTRA_TRANSACTION_TYPE, transaction.getTransactionType().name());
+        return intent;
+    }
+
 }
diff --git a/app/src/org/gnucash/android/db/DatabaseAdapter.java b/app/src/org/gnucash/android/db/DatabaseAdapter.java
index 88da4d42..d5997965 100644
--- a/app/src/org/gnucash/android/db/DatabaseAdapter.java
+++ b/app/src/org/gnucash/android/db/DatabaseAdapter.java
@@ -49,6 +49,7 @@
 	public static final int COLUMN_ACCOUNT_UID 	= 7;
 	public static final int COLUMN_EXPORTED 	= 8;
 	public static final int COLUMN_DOUBLE_ENTRY_ACCOUNT_UID = 9;
+    public static final int COLUMN_RECURRENCE_PERIOD = 10;
 	
 	//columns indices specific to accounts
 	public static final int COLUMN_CURRENCY_CODE        = 4;
diff --git a/app/src/org/gnucash/android/db/DatabaseHelper.java b/app/src/org/gnucash/android/db/DatabaseHelper.java
index c1efe90a..73ae65d6 100644
--- a/app/src/org/gnucash/android/db/DatabaseHelper.java
+++ b/app/src/org/gnucash/android/db/DatabaseHelper.java
@@ -46,7 +46,7 @@
 	 * Database version.
 	 * With any change to the database schema, this number must increase
 	 */
-	private static final int DATABASE_VERSION = 3;
+	private static final int DATABASE_VERSION = 4;
 	
 	/**
 	 * Name of accounts table
@@ -124,8 +124,17 @@
 	 */
 	public static final String KEY_EXPORTED		= "is_exported";
 
+    /**
+     * Flag for placeholder accounts.
+     * Placeholder accounts cannot directly contain transactions
+     */
     public static final String KEY_PLACEHOLDER  = "is_placeholder";
 
+    /**
+     * This is a key to identify a transaction as part of a recurring transaction series.
+     */
+    public static final String KEY_RECURRENCE_PERIOD = "recurrence_period";
+
 	/**********************************************************************************************************
 	//if you modify the order of the columns (i.e. the way they are created), 
 	//make sure to modify the indices in DatabaseAdapter
@@ -159,6 +168,7 @@
 			+ KEY_ACCOUNT_UID 	+ " varchar(255) not null, "			
 			+ KEY_EXPORTED 		+ " tinyint default 0, "
 			+ KEY_DOUBLE_ENTRY_ACCOUNT_UID 	+ " varchar(255), "
+            + KEY_RECURRENCE_PERIOD         + " integer default 0, "
 			+ "FOREIGN KEY (" 	+ KEY_ACCOUNT_UID + ") REFERENCES " + ACCOUNTS_TABLE_NAME + " (" + KEY_UID + "), "
 			+ "FOREIGN KEY (" 	+ KEY_DOUBLE_ENTRY_ACCOUNT_UID + ") REFERENCES " + ACCOUNTS_TABLE_NAME + " (" + KEY_UID + "), "
 			+ "UNIQUE (" 		+ KEY_UID + ") " 
@@ -199,14 +209,15 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
 	
 				db.execSQL(addColumnSql);
 				db.execSQL(addParentAccountSql);
-			}
+
+                //update account types to GnuCash account types
+                //since all were previously CHECKING, now all will be CASH
+                Log.i(TAG, "Converting account types to GnuCash compatible types");
+                ContentValues cv = new ContentValues();
+                cv.put(KEY_TYPE, AccountType.CASH.toString());
+                db.update(ACCOUNTS_TABLE_NAME, cv, null, null);
+            }
 			
-			//update account types to GnuCash account types
-			//since all were previously CHECKING, now all will be CASH
-			Log.i(TAG, "Converting account types to GnuCash compatible types");
-			ContentValues cv = new ContentValues();
-			cv.put(KEY_TYPE, AccountType.CASH.toString());
-			db.update(ACCOUNTS_TABLE_NAME, cv, null, null);
 
             if (oldVersion == 2 && newVersion == 3){
                 Log.i(TAG, "Adding flag for placeholder accounts");
@@ -215,9 +226,15 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
 
                 db.execSQL(addPlaceHolderAccountFlagSql);
             }
+
+            if (oldVersion == 3 && newVersion == 4){
+                Log.i(TAG, "Updating database to version 4");
+                String addRecurrencePeriod = "ALTER TABLE " + TRANSACTIONS_TABLE_NAME +
+                        " ADD COLUMN " + KEY_RECURRENCE_PERIOD + " integer default 0";
+                db.execSQL(addRecurrencePeriod);
+            }
 		} else {
 			Log.i(TAG, "Cannot downgrade database.");
 		}
 	}
-
 }
diff --git a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
index c25be1e1..ac44ebe4 100644
--- a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
@@ -21,6 +21,7 @@
 import java.util.Currency;
 import java.util.List;
 
+import com.sun.swing.internal.plaf.metal.resources.metal_pt_BR;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.data.Transaction;
@@ -66,7 +67,8 @@ public long addTransaction(Transaction transaction){
 		contentValues.put(DatabaseHelper.KEY_DESCRIPTION, transaction.getDescription());
 		contentValues.put(DatabaseHelper.KEY_EXPORTED, transaction.isExported() ? 1 : 0);
 		contentValues.put(DatabaseHelper.KEY_DOUBLE_ENTRY_ACCOUNT_UID, transaction.getDoubleEntryAccountUID());
-		
+		contentValues.put(DatabaseHelper.KEY_RECURRENCE_PERIOD, transaction.getRecurrencePeriod());
+
 		long rowId = -1;
 		if ((rowId = fetchTransactionWithUID(transaction.getUID())) > 0){
 			//if transaction already exists, then just update
@@ -127,15 +129,33 @@ public Transaction getTransaction(long rowId){
 	 * @return Cursor holding set of transactions for particular account
 	 */
 	public Cursor fetchAllTransactionsForAccount(String accountUID){
+        //fetch transactions from this account except recurring transactions. Those have their own view
 		Cursor cursor = mDb.query(DatabaseHelper.TRANSACTIONS_TABLE_NAME, 
 				null, 
-				"(" + DatabaseHelper.KEY_ACCOUNT_UID + " = '" + accountUID + "') "
-				+ "OR (" + DatabaseHelper.KEY_DOUBLE_ENTRY_ACCOUNT_UID + " = '" + accountUID + "' )", 
+				"((" + DatabaseHelper.KEY_ACCOUNT_UID + " = '" + accountUID + "') "
+				+ "OR (" + DatabaseHelper.KEY_DOUBLE_ENTRY_ACCOUNT_UID + " = '" + accountUID + "' ))"
+                + " AND " + DatabaseHelper.KEY_RECURRENCE_PERIOD + " = 0",
 				null, null, null, DatabaseHelper.KEY_TIMESTAMP + " DESC");
-		
+
 		return cursor;
 	}
-	
+
+    /**
+     * Fetches all recurring transactions from the database.
+     * <p>These transactions are not considered "normal" transactions, but only serve to note recurring transactions.
+     * They are not considered when computing account balances</p>
+     * @return Cursor holding set of all recurring transactions
+     */
+    public Cursor fetchAllRecurringTransactions(){
+        Cursor cursor = mDb.query(DatabaseHelper.TRANSACTIONS_TABLE_NAME,
+                null,
+                DatabaseHelper.KEY_RECURRENCE_PERIOD + "!= 0",
+                null, null, null,
+                DatabaseHelper.KEY_ACCOUNT_UID + " ASC, " + DatabaseHelper.KEY_RECURRENCE_PERIOD + " ASC");
+//                DatabaseHelper.KEY_RECURRENCE_PERIOD + " ASC, " + DatabaseHelper.KEY_TIMESTAMP + " DESC");
+        return cursor;
+    }
+
 	/**
 	 * Returns a cursor to a set of all transactions for the account with ID <code>accountID</code>
 	 * or for which this account is the origin account in a double entry
@@ -184,6 +204,7 @@ public Transaction buildTransactionInstance(Cursor c){
 		String amount = c.getString(DatabaseAdapter.COLUMN_AMOUNT);
 		Money moneyAmount = new Money(new BigDecimal(amount), currency);
 		String name   = c.getString(DatabaseAdapter.COLUMN_NAME);
+        long recurrencePeriod = c.getLong(DatabaseAdapter.COLUMN_RECURRENCE_PERIOD);
 		
 		Transaction transaction = new Transaction(moneyAmount, name);
 		transaction.setUID(c.getString(DatabaseAdapter.COLUMN_UID));
@@ -192,6 +213,7 @@ public Transaction buildTransactionInstance(Cursor c){
 		transaction.setDescription(c.getString(DatabaseAdapter.COLUMN_DESCRIPTION));
 		transaction.setExported(c.getInt(DatabaseAdapter.COLUMN_EXPORTED) == 1);
 		transaction.setDoubleEntryAccountUID(doubleAccountUID);
+        transaction.setRecurrencePeriod(recurrencePeriod);
 		
 		return transaction;
 	}
@@ -318,7 +340,8 @@ public Money getTransactionsSum(long accountId){
 
         String querySum = "SELECT TOTAL(" + DatabaseHelper.KEY_AMOUNT
                 + ") FROM " + DatabaseHelper.TRANSACTIONS_TABLE_NAME
-                + " WHERE " + DatabaseHelper.KEY_ACCOUNT_UID + " = ?";
+                + " WHERE " + DatabaseHelper.KEY_ACCOUNT_UID + " = ? AND "
+                + DatabaseHelper.KEY_RECURRENCE_PERIOD + "=0";
 
         Cursor sumCursor = mDb.rawQuery(querySum, new String[]{accountUID});
         double sum = 0d;
@@ -330,7 +353,8 @@ public Money getTransactionsSum(long accountId){
 
         querySum = "SELECT TOTAL(" + DatabaseHelper.KEY_AMOUNT
                 + ") FROM " + DatabaseHelper.TRANSACTIONS_TABLE_NAME
-                + " WHERE " + DatabaseHelper.KEY_DOUBLE_ENTRY_ACCOUNT_UID + " = ?";
+                + " WHERE " + DatabaseHelper.KEY_DOUBLE_ENTRY_ACCOUNT_UID + " = ? AND "
+                + DatabaseHelper.KEY_RECURRENCE_PERIOD + "=0";
 
         sumCursor = mDb.rawQuery(querySum, new String[]{accountUID});
 
@@ -408,6 +432,25 @@ public String getAccountUID(long accountRowID){
 		return uid;
 	}
 
+    /**
+     * Returns Unique Identifier of account to which <code>transaction</code> belongs
+     * @param transactionID Record ID of the transaction
+     * @return Unique Identifier string of account to which transaction belongs
+     */
+    public String getAccountUidFromTransaction(long transactionID){
+        Cursor c = mDb.query(DatabaseHelper.TRANSACTIONS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ACCOUNT_UID},
+                DatabaseHelper.KEY_ROW_ID + "=" + transactionID,
+                null, null, null, null);
+        String accountUID = null;
+        if (c != null && c.moveToFirst()){
+            accountUID = c.getString(0);
+            c.close();
+        }
+
+        return accountUID;
+    }
+
 	/**
 	 * Returns the database row Id of the account with unique Identifier <code>accountUID</code>
 	 * @param accountUID Unique identifier of the account
@@ -426,6 +469,24 @@ public long getAccountID(String accountUID){
 		return id;
 	}
 
+    /**
+     * Returns the database record ID for the specified transaction UID
+     * @param transactionUID Unique idendtifier of the transaction
+     * @return Database record ID for the transaction
+     */
+    public long getID(String transactionUID){
+        long id = -1;
+        Cursor c = mDb.query(DatabaseHelper.TRANSACTIONS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID},
+                DatabaseHelper.KEY_UID + "='" + transactionUID + "'",
+                null, null, null, null);
+        if (c != null && c.moveToFirst()){
+            id = c.getLong(0);
+            c.close();
+        }
+        return id;
+    }
+
     @Override
     public Cursor fetchAllRecords() {
         return fetchAllRecords(DatabaseHelper.TRANSACTIONS_TABLE_NAME);
diff --git a/app/src/org/gnucash/android/receivers/TransactionRecorder.java b/app/src/org/gnucash/android/receivers/TransactionRecorder.java
index c0dbf13e..2aa0e323 100644
--- a/app/src/org/gnucash/android/receivers/TransactionRecorder.java
+++ b/app/src/org/gnucash/android/receivers/TransactionRecorder.java
@@ -23,6 +23,9 @@
 import org.gnucash.android.data.Money;
 import org.gnucash.android.data.Transaction;
 import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.export.ofx.OfxExporter;
+import org.gnucash.android.export.qif.QifExporter;
+import org.gnucash.android.export.qif.QifHelper;
 import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
 
 import android.content.BroadcastReceiver;
@@ -46,28 +49,32 @@
 
 	@Override
 	public void onReceive(Context context, Intent intent) {
-		Log.i("Gnucash", "Received transaction recording intent");
+		Log.i("TransactionRecorder", "Received transaction recording intent");
 		Bundle args = intent.getExtras();
 		String name = args.getString(Intent.EXTRA_TITLE);
 		String note = args.getString(Intent.EXTRA_TEXT);
-		double amountDouble = args.getDouble(Transaction.EXTRA_AMOUNT, 0);
+		BigDecimal amountBigDecimal = (BigDecimal) args.getSerializable(Transaction.EXTRA_AMOUNT);
 		String currencyCode = args.getString(Account.EXTRA_CURRENCY_CODE);
 		if (currencyCode == null)
 			currencyCode = Money.DEFAULT_CURRENCY_CODE;
 		
 		String accountUID = args.getString(Transaction.EXTRA_ACCOUNT_UID);
-		if (accountUID == null)
-			accountUID = "uncategorized";
+		if (accountUID == null) //if no account was assigned, throw an exception
+			throw new IllegalArgumentException("No account specified for the transaction");
 		
 		String doubleAccountUID = args.getString(Transaction.EXTRA_DOUBLE_ACCOUNT_UID);
-		
-		Money amount = new Money(new BigDecimal(amountDouble), Currency.getInstance(currencyCode));
+        if (doubleAccountUID == null || doubleAccountUID.length() == 0)
+            doubleAccountUID = QifHelper.getImbalanceAccountName(Currency.getInstance(Money.DEFAULT_CURRENCY_CODE));
+		Transaction.TransactionType type = Transaction.TransactionType.valueOf(args.getString(Transaction.EXTRA_TRANSACTION_TYPE));
+
+		Money amount = new Money(amountBigDecimal, Currency.getInstance(currencyCode));
 		Transaction transaction = new Transaction(amount, name);
 		transaction.setTime(System.currentTimeMillis());
 		transaction.setDescription(note);	
 		transaction.setAccountUID(accountUID);
 		transaction.setDoubleEntryAccountUID(doubleAccountUID);
-		
+		transaction.setTransactionType(type);
+
 		TransactionsDbAdapter transacionsDbAdapter = new TransactionsDbAdapter(context);
 		transacionsDbAdapter.addTransaction(transaction);
 		
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index b2ae56f9..78de6c48 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -44,6 +44,7 @@
 import org.gnucash.android.data.Account.AccountType;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.ui.transactions.RecurringTransactionsListFragment;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
 import org.gnucash.android.ui.transactions.TransactionsListFragment;
 import org.gnucash.android.util.GnucashAccountXmlHandler;
@@ -223,6 +224,9 @@ public boolean onOptionsItemSelected(MenuItem item) {
 	        }
 	        return true;
 
+            case R.id.menu_recurring_transactions:
+                showRecurringTransactionsFragment();
+                return true;
 		default:
 			return false;
 		}
@@ -239,6 +243,22 @@ private void showAddAccountFragment(long parentAccountId){
     }
 
     /**
+     * Launches the fragment which lists the recurring transactions in the database
+     */
+    private void showRecurringTransactionsFragment(){
+        FragmentManager fragmentManager = getSupportFragmentManager();
+        FragmentTransaction fragmentTransaction = fragmentManager
+                .beginTransaction();
+
+        RecurringTransactionsListFragment recurringTransactionsFragment = new RecurringTransactionsListFragment();
+
+        fragmentTransaction.replace(R.id.fragment_container,
+                recurringTransactionsFragment, "fragment_recurring_transactions");
+
+        fragmentTransaction.addToBackStack(null);
+        fragmentTransaction.commit();
+    }
+    /**
      * Shows the form fragment for editing the account with record ID <code>accountId</code>
      * @param accountId Record ID of the account to be edited
      */
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index d9bb5d40..e64cc71a 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -24,6 +24,8 @@
 import java.text.ParseException;
 import java.util.*;
 
+import android.app.AlarmManager;
+import android.app.PendingIntent;
 import android.widget.*;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
@@ -180,6 +182,9 @@
      */
     Account.AccountType mAccountType;
 
+
+    Spinner mRecurringTransactionSpinner;
+
 	/**
 	 * Create the view and retrieve references to the UI elements
 	 */
@@ -196,7 +201,8 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 		mCurrencyTextView = (TextView) v.findViewById(R.id.currency_symbol);
 		mTransactionTypeButton = (ToggleButton) v.findViewById(R.id.input_transaction_type);
 		mDoubleAccountSpinner = (Spinner) v.findViewById(R.id.input_double_entry_accounts_spinner);
-		
+
+        mRecurringTransactionSpinner = (Spinner) v.findViewById(R.id.input_recurring_transaction_spinner);
 		return v;
 	}
 	
@@ -214,11 +220,16 @@ public void onActivityCreated(Bundle savedInstanceState) {
 		if (!mUseDoubleEntry){
 			getView().findViewById(R.id.layout_double_entry).setVisibility(View.GONE);
 		}
-		
+
 		//updateTransferAccountsList must only be called after creating mAccountsDbAdapter
 		mAccountsDbAdapter = new AccountsDbAdapter(getActivity());
 		updateTransferAccountsList();
-		
+
+        ArrayAdapter<CharSequence> recurrenceAdapter = ArrayAdapter.createFromResource(getActivity(),
+                R.array.recurrence_entries, android.R.layout.simple_spinner_item);
+        recurrenceAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+        mRecurringTransactionSpinner.setAdapter(recurrenceAdapter);
+
         long transactionId = getArguments().getLong(SELECTED_TRANSACTION_ID);
 		mTransactionsDbAdapter = new TransactionsDbAdapter(getActivity());
 		mTransaction = mTransactionsDbAdapter.getTransaction(transactionId);
@@ -240,6 +251,10 @@ public void onActivityCreated(Bundle savedInstanceState) {
         initTransactionNameAutocomplete();
 	}
 
+    /**
+     * Toggles the state transaction type button in response to the type of account.
+     * Different types of accounts handle CREDITS/DEBITS differently
+     */
     private void toggleTransactionTypeState() {
         switch (mAccountType) {
             case ASSET:
@@ -331,9 +346,31 @@ private void initializeViewsWithTransaction(){
 		String code = mTransactionsDbAdapter.getCurrencyCode(accountId);
 		Currency accountCurrency = Currency.getInstance(code);
 		mCurrencyTextView.setText(accountCurrency.getSymbol());
-	}
-	
-	/**
+
+        setSelectedRecurrenceOption();
+    }
+
+    /**
+     * Initializes the recurrence spinner to the appropriate value from the transaction.
+     * This is only used when the transaction is a recurrence transaction
+     */
+    private void setSelectedRecurrenceOption() {
+        //init recurrence options
+        final long recurrencePeriod = mTransaction.getRecurrencePeriod();
+        if (recurrencePeriod > 0){
+            String[] recurrenceOptions = getResources().getStringArray(R.array.recurrence_options);
+
+            int selectionIndex = 0;
+            for (String recurrenceOption : recurrenceOptions) {
+                if (recurrencePeriod == Long.parseLong(recurrenceOption))
+                    break;
+                selectionIndex++;
+            }
+            mRecurringTransactionSpinner.setSelection(selectionIndex);
+        }
+    }
+
+    /**
 	 * Initialize views with default data for new transactions
 	 */
 	private void initalizeViews() {
@@ -551,10 +588,27 @@ private void saveNewTransaction() {
 				mTransaction.setDoubleEntryAccountUID(mTransactionsDbAdapter.getAccountUID(doubleAccountId));
 			}
 		}
-		
-		
-		mTransactionsDbAdapter.addTransaction(mTransaction);
-		
+        //save the normal transaction first
+        mTransactionsDbAdapter.addTransaction(mTransaction);
+
+        //set up recurring transaction if requested
+        int recurrenceIndex = mRecurringTransactionSpinner.getSelectedItemPosition();
+        if (recurrenceIndex != 0) {
+            String[] recurrenceOptions = getResources().getStringArray(R.array.recurrence_options);
+            long recurrencePeriodMillis = Long.parseLong(recurrenceOptions[recurrenceIndex]);
+            long firstRunMillis = System.currentTimeMillis() + recurrencePeriodMillis;
+
+            Transaction recurringTransaction = new Transaction(mTransaction);
+            recurringTransaction.setRecurrencePeriod(recurrencePeriodMillis);
+            long recurringTransactionId = mTransactionsDbAdapter.addTransaction(recurringTransaction);
+
+            PendingIntent recurringPendingIntent = PendingIntent.getBroadcast(getActivity().getApplicationContext(),
+                    (int)recurringTransactionId, Transaction.createIntent(mTransaction), PendingIntent.FLAG_UPDATE_CURRENT);
+            AlarmManager alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);
+            alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, firstRunMillis,
+                    recurrencePeriodMillis, recurringPendingIntent);
+        }
+
 		//update widgets, if any
 		WidgetConfigurationActivity.updateAllWidgets(getActivity().getApplicationContext());
 		
diff --git a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
new file mode 100644
index 00000000..892b1b7e
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
@@ -0,0 +1,447 @@
+/*
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.transactions;
+
+import android.app.AlarmManager;
+import android.app.PendingIntent;
+import android.content.Context;
+import android.content.Intent;
+import android.database.Cursor;
+import android.graphics.Rect;
+import android.os.Bundle;
+import android.support.v4.app.LoaderManager;
+import android.support.v4.content.Loader;
+import android.support.v4.widget.SimpleCursorAdapter;
+import android.util.Log;
+import android.util.SparseBooleanArray;
+import android.view.LayoutInflater;
+import android.view.TouchDelegate;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.*;
+import com.actionbarsherlock.app.ActionBar;
+import com.actionbarsherlock.app.SherlockListFragment;
+import com.actionbarsherlock.view.ActionMode;
+import com.actionbarsherlock.view.Menu;
+import com.actionbarsherlock.view.MenuInflater;
+import com.actionbarsherlock.view.MenuItem;
+import org.gnucash.android.R;
+import org.gnucash.android.data.Money;
+import org.gnucash.android.data.Transaction;
+import org.gnucash.android.db.*;
+import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
+
+import java.util.Locale;
+
+/**
+ * Fragment which displays the recurring transactions in the system.
+ * @author Ngewi Fet <ngewif@gmail.com>
+ */
+public class RecurringTransactionsListFragment extends SherlockListFragment implements
+        LoaderManager.LoaderCallbacks<Cursor> {
+
+    /**
+     * Logging tag
+     */
+    protected static final String TAG = "TransactionsListFragment";
+
+    private TransactionsDbAdapter mTransactionsDbAdapter;
+    private SimpleCursorAdapter mCursorAdapter;
+    private ActionMode mActionMode = null;
+
+    /**
+     * Flag which is set when a transaction is selected
+     */
+    private boolean mInEditMode = false;
+
+
+    /**
+     * Callbacks for the menu items in the Context ActionBar (CAB) in action mode
+     */
+    private ActionMode.Callback mActionModeCallbacks = new ActionMode.Callback() {
+
+        @Override
+        public boolean onCreateActionMode(ActionMode mode, Menu menu) {
+            MenuInflater inflater = mode.getMenuInflater();
+            inflater.inflate(R.menu.transactions_context_menu, menu);
+            menu.removeItem(R.id.context_menu_move_transactions);
+            return true;
+        }
+
+        @Override
+        public boolean onPrepareActionMode(ActionMode mode, Menu menu) {
+            //nothing to see here, move along
+            return false;
+        }
+
+        @Override
+        public void onDestroyActionMode(ActionMode mode) {
+            finishEditMode();
+        }
+
+        @Override
+        public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
+            switch (item.getItemId()) {
+                case R.id.context_menu_move_transactions:
+                    mode.finish();
+                    WidgetConfigurationActivity.updateAllWidgets(getActivity());
+                    return true;
+
+                case R.id.context_menu_delete:
+                    for (long id : getListView().getCheckedItemIds()) {
+                        Log.i(TAG, "Cancelling recurring transaction(s)");
+
+                        PendingIntent recurringPendingIntent = PendingIntent.getBroadcast(getActivity().getApplicationContext(),
+                                (int)id, Transaction.createIntent(mTransactionsDbAdapter.getTransaction(id)), PendingIntent.FLAG_UPDATE_CURRENT);
+                        recurringPendingIntent.cancel();
+                        AlarmManager alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);
+                        alarmManager.cancel(recurringPendingIntent);
+                        if (mTransactionsDbAdapter.deleteRecord(id)){
+                            Toast.makeText(getActivity(), R.string.toast_recurring_transaction_deleted, Toast.LENGTH_SHORT).show();
+                        };
+                    }
+                    refreshList();
+                    mode.finish();
+                    WidgetConfigurationActivity.updateAllWidgets(getActivity());
+                    return true;
+
+                default:
+                    return false;
+            }
+        }
+    };
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+
+        mTransactionsDbAdapter = new TransactionsDbAdapter(getActivity());
+        mCursorAdapter = new TransactionsCursorAdapter(
+                getActivity().getApplicationContext(),
+                R.layout.list_item_transaction, null,
+                new String[] {DatabaseHelper.KEY_NAME, DatabaseHelper.KEY_AMOUNT},
+                new int[] {R.id.primary_text, R.id.transaction_amount});
+        setListAdapter(mCursorAdapter);
+    }
+
+    @Override
+    public View onCreateView(LayoutInflater inflater, ViewGroup container,
+                             Bundle savedInstanceState) {
+        return inflater.inflate(R.layout.fragment_recurring_transactions_list, container, false);
+    }
+
+    @Override
+    public void onActivityCreated(Bundle savedInstanceState) {
+        super.onActivityCreated(savedInstanceState);
+
+        ActionBar aBar = getSherlockActivity().getSupportActionBar();
+        aBar.setDisplayShowTitleEnabled(true);
+        aBar.setDisplayHomeAsUpEnabled(true);
+        aBar.setTitle("Recurring Transactions");
+
+        setHasOptionsMenu(true);
+        getListView().setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
+    }
+
+    /**
+     * Reload the list of transactions and recompute account balances
+     */
+    public void refreshList(){
+        getLoaderManager().restartLoader(0, null, this);
+    }
+
+    @Override
+    public void onResume() {
+        super.onResume();
+        refreshList();
+    }
+
+    @Override
+    public void onDestroy() {
+        super.onDestroy();
+        mTransactionsDbAdapter.close();
+    }
+
+    @Override
+    public void onListItemClick(ListView l, View v, int position, long id) {
+        super.onListItemClick(l, v, position, id);
+        if (mInEditMode){
+            CheckBox checkbox = (CheckBox) v.findViewById(R.id.checkbox);
+            checkbox.setChecked(!checkbox.isChecked());
+            return;
+        }
+        //else
+        String accountUID = mTransactionsDbAdapter.getAccountUidFromTransaction(id);
+        long accountID = mTransactionsDbAdapter.getAccountID(accountUID);
+
+        openTransactionForEdit(accountID, id);
+    }
+
+    /**
+     * Opens the transaction editor to enable editing of the transaction
+     * @param accountId Account ID of the transaction
+     * @param transactionId Transaction to be edited
+     */
+    public void openTransactionForEdit(long accountId, long transactionId){
+        Intent createTransactionIntent = new Intent(getActivity(), TransactionsActivity.class);
+        createTransactionIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
+        createTransactionIntent.putExtra(TransactionsListFragment.SELECTED_ACCOUNT_ID, accountId);
+        createTransactionIntent.putExtra(NewTransactionFragment.SELECTED_TRANSACTION_ID, transactionId);
+        startActivity(createTransactionIntent);
+    }
+
+    @Override
+    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
+//        inflater.inflate(R.menu.transactions_list_actions, menu);
+        //remove menu items from the AccountsActivity
+        menu.removeItem(R.id.menu_search);
+        menu.removeItem(R.id.menu_settings);
+    }
+
+    @Override
+    public Loader<Cursor> onCreateLoader(int arg0, Bundle arg1) {
+        Log.d(TAG, "Creating transactions loader");
+        return new RecurringTransactionsCursorLoader(getActivity());
+    }
+
+    @Override
+    public void onLoadFinished(Loader<Cursor> loader, Cursor cursor) {
+        Log.d(TAG, "Transactions loader finished. Swapping in cursor");
+        mCursorAdapter.swapCursor(cursor);
+        mCursorAdapter.notifyDataSetChanged();
+    }
+
+    @Override
+    public void onLoaderReset(Loader<Cursor> loader) {
+        Log.d(TAG, "Resetting transactions loader");
+        mCursorAdapter.swapCursor(null);
+    }
+
+    /**
+     * Finishes the edit mode in the transactions list.
+     * Edit mode is started when at least one transaction is selected
+     */
+    public void finishEditMode(){
+        mInEditMode = false;
+        uncheckAllItems();
+        mActionMode = null;
+    }
+
+    /**
+     * Sets the title of the Context ActionBar when in action mode.
+     * It sets the number highlighted items
+     */
+    public void setActionModeTitle(){
+        int count = getListView().getCheckedItemIds().length; //mSelectedIds.size();
+        if (count > 0){
+            mActionMode.setTitle(getResources().getString(R.string.title_selected, count));
+        }
+    }
+
+    /**
+     * Unchecks all the checked items in the list
+     */
+    private void uncheckAllItems() {
+        SparseBooleanArray checkedPositions = getListView().getCheckedItemPositions();
+        ListView listView = getListView();
+        for (int i = 0; i < checkedPositions.size(); i++) {
+            int position = checkedPositions.keyAt(i);
+            listView.setItemChecked(position, false);
+        }
+    }
+
+
+    /**
+     * Starts action mode and activates the Context ActionBar (CAB)
+     * Action mode is initiated as soon as at least one transaction is selected (highlighted)
+     */
+    private void startActionMode(){
+        if (mActionMode != null) {
+            return;
+        }
+        mInEditMode = true;
+        // Start the CAB using the ActionMode.Callback defined above
+        mActionMode = getSherlockActivity().startActionMode(mActionModeCallbacks);
+    }
+
+    /**
+     * Stops action mode and deselects all selected transactions.
+     * This method only has effect if the number of checked items is greater than 0 and {@link #mActionMode} is not null
+     */
+    private void stopActionMode(){
+        int checkedCount = getListView().getCheckedItemIds().length;
+        if (checkedCount > 0 || mActionMode == null)
+            return;
+        else
+            mActionMode.finish();
+    }
+
+
+    /**
+     * Extends a simple cursor adapter to bind transaction attributes to views
+     * @author Ngewi Fet <ngewif@gmail.com>
+     */
+    protected class TransactionsCursorAdapter extends SimpleCursorAdapter {
+
+        public TransactionsCursorAdapter(Context context, int layout, Cursor c,
+                                         String[] from, int[] to) {
+            super(context, layout, c, from, to, 0);
+        }
+
+        @Override
+        public View getView(int position, View convertView, ViewGroup parent) {
+            final View view = super.getView(position, convertView, parent);
+            final int itemPosition = position;
+            CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox);
+            final TextView secondaryText = (TextView) view.findViewById(R.id.secondary_text);
+
+            checkbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
+
+                @Override
+                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
+                    getListView().setItemChecked(itemPosition, isChecked);
+                    if (isChecked) {
+                        startActionMode();
+                    } else {
+                        stopActionMode();
+                    }
+                    setActionModeTitle();
+                }
+            });
+
+
+            ListView listView = (ListView) parent;
+            if (mInEditMode && listView.isItemChecked(position)){
+                view.setBackgroundColor(getResources().getColor(R.color.abs__holo_blue_light));
+                secondaryText.setTextColor(getResources().getColor(android.R.color.white));
+            } else {
+                view.setBackgroundColor(getResources().getColor(android.R.color.transparent));
+                secondaryText.setTextColor(getResources().getColor(android.R.color.secondary_text_light_nodisable));
+                checkbox.setChecked(false);
+            }
+
+            final View checkBoxView = checkbox;
+            final View parentView = view;
+            parentView.post(new Runnable() {
+                @Override
+                public void run() {
+                    float extraPadding = getResources().getDimension(R.dimen.edge_padding);
+                    final android.graphics.Rect hitRect = new Rect();
+                    checkBoxView.getHitRect(hitRect);
+                    hitRect.right   += extraPadding;
+                    hitRect.bottom  += 3*extraPadding;
+                    hitRect.top     -= extraPadding;
+                    hitRect.left    -= 2*extraPadding;
+                    parentView.setTouchDelegate(new TouchDelegate(hitRect, checkBoxView));
+                }
+            });
+
+            return view;
+        }
+
+        /**
+         * Returns the string representation of the recurrence period of the transaction
+         * @param periodMillis Recurrence period in milliseconds
+         * @return String formatted representation of recurrence period
+         */
+        public String getRecurrenceAsString(long periodMillis){
+            String[] recurrencePeriods = getResources().getStringArray(R.array.recurrence_options);
+            String[] recurrenceStrings = getResources().getStringArray(R.array.recurrence_entries);
+
+            int index = 0;
+            for (String recurrencePeriod : recurrencePeriods) {
+                long period = Long.parseLong(recurrencePeriod);
+                if (period == periodMillis){
+                    break;
+                }
+                index++;
+            }
+            return recurrenceStrings[index];
+        }
+
+        @Override
+        public void bindView(View view, Context context, Cursor cursor) {
+            super.bindView(view, context, cursor);
+            AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(getActivity());
+            long accountID = accountsDbAdapter.getAccountID(cursor.getString(DatabaseAdapter.COLUMN_ACCOUNT_UID));
+
+            Money amount = new Money(
+                    cursor.getString(DatabaseAdapter.COLUMN_AMOUNT),
+                    mTransactionsDbAdapter.getCurrencyCode(accountID));
+
+            TextView tramount = (TextView) view.findViewById(R.id.transaction_amount);
+            tramount.setText(amount.formattedString(Locale.getDefault()));
+
+            if (amount.isNegative())
+                tramount.setTextColor(getResources().getColor(R.color.debit_red));
+            else
+                tramount.setTextColor(getResources().getColor(R.color.credit_green));
+
+            TextView trNote = (TextView) view.findViewById(R.id.secondary_text);
+            trNote.setText("Repeats  " + getRecurrenceAsString(cursor.getLong(DatabaseAdapter.COLUMN_RECURRENCE_PERIOD))) ;
+
+            String currentAccountUid = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_ACCOUNT_UID));
+            int position = cursor.getPosition();
+            boolean hasSectionHeader;
+
+            if (position == 0){
+                hasSectionHeader = true;
+            } else {
+                cursor.moveToPosition(position - 1);
+                String previousAccountUid = cursor.getString(cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_ACCOUNT_UID));
+                cursor.moveToPosition(position);
+
+                hasSectionHeader = !previousAccountUid.equals(currentAccountUid);
+            }
+
+            TextView dateHeader = (TextView) view.findViewById(R.id.date_section_header);
+
+            if (hasSectionHeader){
+                dateHeader.setText(getString(R.string.label_account) + ": " + accountsDbAdapter.getAccountName(currentAccountUid));
+                dateHeader.setVisibility(View.VISIBLE);
+            } else {
+                dateHeader.setVisibility(View.GONE);
+            }
+
+            accountsDbAdapter.close();
+        }
+
+    }
+
+    /**
+     * {@link DatabaseCursorLoader} for loading recurring transactions asynchronously from the database
+     * @author Ngewi Fet <ngewif@gmail.com>
+     */
+    protected static class RecurringTransactionsCursorLoader extends DatabaseCursorLoader {
+
+        public RecurringTransactionsCursorLoader(Context context) {
+            super(context);
+        }
+
+        @Override
+        public Cursor loadInBackground() {
+            mDatabaseAdapter = new TransactionsDbAdapter(getContext());
+            Cursor c = ((TransactionsDbAdapter) mDatabaseAdapter).fetchAllRecurringTransactions();
+
+            if (c != null)
+                registerContentObserver(c);
+            return c;
+        }
+    }
+
+}
+
diff --git a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
index 03c65ff9..fee01b1d 100644
--- a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
+++ b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
@@ -122,6 +122,7 @@ public void endElement(String uri, String localName, String qualifiedName) throw
 
         if (qualifiedName.equalsIgnoreCase(TAG_CURRENCY)){
             if (mAccount != null){
+                Log.i(LOG_TAG, mAccount.getName() + " account has no currency!");
                 String currencyCode = mISO4217Currency ? characterString : NO_CURRENCY_CODE;
                 mAccount.setCurrency(Currency.getInstance(currencyCode));
             }
@@ -132,7 +133,7 @@ public void endElement(String uri, String localName, String qualifiedName) throw
         }
 
         if (qualifiedName.equalsIgnoreCase(TAG_ACCOUNT)){
-            Log.i(LOG_TAG, "Saving account...");
+            Log.d(LOG_TAG, "Saving account...");
             mDatabaseAdapter.addAccount(mAccount);
 
             //reset ISO 4217 flag for next account
@@ -148,6 +149,7 @@ public void endElement(String uri, String localName, String qualifiedName) throw
         if (qualifiedName.equalsIgnoreCase(TAG_SLOT_VALUE)){
             if (mInPlaceHolderSlot){
                 if (characterString.equals("true")){
+                    Log.d(LOG_TAG, "Setting account placeholder flag");
                     mAccount.setPlaceHolderFlag(true);
                 };
                 mInPlaceHolderSlot = false;

From 0ff839d07e555b9aa5247a74f2c69d1d10a74261 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Tue, 17 Dec 2013 18:33:55 +0100
Subject: [PATCH 28/43] Improvement: Use tab views for sub-accounts and
 transactions

---
 app/pom.xml                                        |   7 +
 app/res/layout/activity_transactions.xml           |  36 +--
 app/res/menu/sub_account_actions.xml               |  27 ++
 app/res/values/colors.xml                          |   1 +
 .../org/gnucash/android/db/AccountsDbAdapter.java  |   4 +-
 app/src/org/gnucash/android/ui/Refreshable.java    |  34 +++
 .../android/ui/accounts/AccountsActivity.java      |   4 +-
 .../android/ui/accounts/AccountsListFragment.java  |  73 ++---
 .../ui/transactions/BulkMoveDialogFragment.java    |   3 +-
 .../ui/transactions/TransactionsActivity.java      | 306 +++++++++++++--------
 .../TransactionsDeleteConfirmationDialog.java      |   2 +-
 .../ui/transactions/TransactionsListFragment.java  |  17 +-
 .../util/QualifiedAccountNameCursorAdapter.java    |   5 +-
 .../android/test/ui/AccountsActivityTest.java      |   9 +-
 14 files changed, 336 insertions(+), 192 deletions(-)
 create mode 100644 app/res/menu/sub_account_actions.xml
 create mode 100644 app/src/org/gnucash/android/ui/Refreshable.java

diff --git a/app/pom.xml b/app/pom.xml
index 9e342425..b6e8e43c 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -29,6 +29,7 @@
 
     <properties>
         <abs.version>4.4.0</abs.version>
+        <viewpagerindicator.version>2.4.1</viewpagerindicator.version>
     </properties>
 
     <dependencies>
@@ -44,6 +45,12 @@
             <version>${abs.version}</version>
             <type>apklib</type>
         </dependency>
+        <dependency>
+            <groupId>com.viewpagerindicator</groupId>
+            <artifactId>library</artifactId>
+            <version>${viewpagerindicator.version}</version>
+            <type>apklib</type>
+        </dependency>
     </dependencies>
     <build>
         <sourceDirectory>src</sourceDirectory>
diff --git a/app/res/layout/activity_transactions.xml b/app/res/layout/activity_transactions.xml
index dbd3bbe1..cf93c874 100644
--- a/app/res/layout/activity_transactions.xml
+++ b/app/res/layout/activity_transactions.xml
@@ -16,29 +16,13 @@
 -->
 
 <LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+              xmlns:app="http://schemas.android.com/apk/res-auto"
               android:id="@+id/fragment_container"
               android:orientation="vertical"
               android:layout_width="match_parent"
               android:layout_height="match_parent">
 
     <TextView
-            android:id="@+id/section_header_sub_accounts"
-            android:layout_width="match_parent"
-            android:layout_height="@dimen/section_header_height"
-            android:paddingLeft="10dp"
-            android:background="@android:color/darker_gray"
-            android:textColor="@android:color/white"
-            android:visibility="gone"
-            android:text="@string/section_header_subaccounts"
-            />
-
-    <FrameLayout android:id="@+id/sub_accounts_container"
-                 android:layout_width="match_parent"
-                 android:layout_height="0dp"
-                 android:layout_weight="1"
-                 android:visibility="gone"/>
-
-    <TextView
             android:id="@+id/section_header_transactions"
             android:layout_width="match_parent"
             android:layout_height="@dimen/section_header_height"
@@ -48,10 +32,18 @@
             android:text="@string/section_header_transactions"
             />
 
-    <FrameLayout android:id="@+id/transactions_container"
-                 android:layout_width="match_parent"
-                 android:layout_height="0dp"
-                 android:layout_weight="3"
-                 />
+    <com.viewpagerindicator.TitlePageIndicator
+            android:id="@+id/titles"
+            android:layout_height="wrap_content"
+            android:layout_width="fill_parent"
+            android:textColor="@color/title_green"
+            app:footerColor="@color/title_green"
+            app:selectedColor="@color/title_green"
+            app:selectedBold="true"/>
+
+    <android.support.v4.view.ViewPager
+            android:id="@+id/pager"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent" />
 
 </LinearLayout>
\ No newline at end of file
diff --git a/app/res/menu/sub_account_actions.xml b/app/res/menu/sub_account_actions.xml
new file mode 100644
index 00000000..6da5086a
--- /dev/null
+++ b/app/res/menu/sub_account_actions.xml
@@ -0,0 +1,27 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!--
+ Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
+<menu xmlns:android="http://schemas.android.com/apk/res/android" >
+    <item android:id="@+id/menu_add_account"
+          android:icon="@drawable/content_new_holo_dark"
+          android:title="@string/title_add_account"
+          android:showAsAction="always"/>
+
+    <item android:id="@+id/menu_edit_account"
+          android:icon="@drawable/content_edit_holo_dark"
+          android:title="@string/title_edit_account"
+          android:showAsAction="never|withText" />
+</menu>
\ No newline at end of file
diff --git a/app/res/values/colors.xml b/app/res/values/colors.xml
index aada90ef..d849dc37 100644
--- a/app/res/values/colors.xml
+++ b/app/res/values/colors.xml
@@ -19,4 +19,5 @@
     <color name="credit_green">#4cc552</color>
     <color name="light_gray">#FFAAAAAA</color>
     <color name="abs__holo_blue_light">#ff33b5e5</color>
+    <color name="title_green">#319D67</color>
 </resources>
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 463956c7..4ad1e583 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -194,8 +194,8 @@ public long getAccountID(String uid){
 				DatabaseHelper.KEY_UID + " = '" + uid + "'", null, null, null, null);
 		long result = -1;
 		if (cursor != null && cursor.moveToFirst()){
-			Log.d(TAG, "Account already exists. Returning existing id");
-			result = cursor.getLong(0); //0 because only one row was requested
+			Log.v(TAG, "Returning account id");
+			result = cursor.getLong(DatabaseAdapter.COLUMN_ROW_ID);
 
 			cursor.close();
 		}
diff --git a/app/src/org/gnucash/android/ui/Refreshable.java b/app/src/org/gnucash/android/ui/Refreshable.java
new file mode 100644
index 00000000..f34a0e1e
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/Refreshable.java
@@ -0,0 +1,34 @@
+/*
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.gnucash.android.ui;
+
+/**
+ * Interface for fragments which are refreshable
+ * @author Ngewi Fet <ngewif@gmail.com>
+ */
+public interface Refreshable {
+
+    /**
+     * Refresh the list, typically be restarting the loader
+     */
+    public void refresh();
+
+    /**
+     * Refresh the list with modified parameters
+     * @param id Record ID of relevant item to be refreshed
+     */
+    public void refresh(long id);
+}
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 78de6c48..80d0a5b5 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -147,7 +147,7 @@ public void onCreate(Bundle savedInstanceState) {
 
                 fragmentTransaction.commit();
             } else
-                accountsListFragment.refreshList();
+                accountsListFragment.refresh();
         }
 
         if (hasNewFeatures()){
@@ -365,7 +365,7 @@ public void onClick(DialogInterface dialog, int which) {
 				Fragment fragment = getSupportFragmentManager().findFragmentByTag(FRAGMENT_ACCOUNTS_LIST);
 				if (fragment != null){
 					try{
-						((AccountsListFragment) fragment).refreshList();
+						((AccountsListFragment) fragment).refresh();
 					} catch (ClassCastException e) {
 						Log.e(TAG, e.getMessage());
 					}
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 2c409535..60360c36 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -55,6 +55,7 @@
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.*;
 import org.gnucash.android.export.ExportDialogFragment;
+import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.settings.SettingsActivity;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
 import org.gnucash.android.ui.transactions.TransactionsListFragment;
@@ -69,6 +70,7 @@
  * @author Ngewi Fet <ngewif@gmail.com>
  */
 public class AccountsListFragment extends SherlockListFragment implements
+        Refreshable,
         LoaderCallbacks<Cursor>, OnItemLongClickListener,
         com.actionbarsherlock.widget.SearchView.OnQueryTextListener,
         com.actionbarsherlock.widget.SearchView.OnCloseListener {
@@ -119,7 +121,6 @@
     /**
      * Database record ID of the account whose children will be loaded by the list fragment.
      * If no parent account is specified, then all top-level accounts are loaded.
-     * <p>This value is set in {@link #inSubAcccount()}, so always call that method first before using this value</p>
      */
     private long mParentAccountId = -1;
 
@@ -216,8 +217,7 @@ public void onActivityCreated(Bundle savedInstanceState) {
             actionbar.setDisplayHomeAsUpEnabled(false);
         }
 
-        if (!inSubAcccount())
-            setHasOptionsMenu(true);
+        setHasOptionsMenu(true);
 
         ListView lv = getListView();
         lv.setOnItemLongClickListener(this);
@@ -228,7 +228,7 @@ public void onActivityCreated(Bundle savedInstanceState) {
     @Override
     public void onResume() {
         super.onResume();
-        refreshList();
+        refresh();
     }
 
     @Override
@@ -273,15 +273,7 @@ public void onActivityResult(int requestCode, int resultCode, Intent data) {
         if (resultCode == Activity.RESULT_CANCELED)
             return;
 
-        refreshList();
-    }
-
-    /**
-     * Returns true if this fragment is currently rendering sub-accounts. false otherwise.
-     * @return true if this fragment is currently rendering sub-accounts. false otherwise
-     */
-    public boolean inSubAcccount(){
-        return mParentAccountId > 0;
+        refresh();
     }
 
     /**
@@ -314,7 +306,7 @@ protected void deleteAccount(long rowId) {
             WidgetConfigurationActivity.updateAllWidgets(getActivity().getApplicationContext());
             getLoaderManager().destroyLoader(0);
         }
-        refreshList();
+        refresh();
     }
 
     /**
@@ -341,20 +333,23 @@ public void finishEditMode() {
 
     @Override
     public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
-        inflater.inflate(R.menu.account_actions, menu);
-
-        // Associate searchable configuration with the SearchView
-        SearchManager searchManager =
-                (SearchManager) getActivity().getSystemService(Context.SEARCH_SERVICE);
-        mSearchView =
-                (com.actionbarsherlock.widget.SearchView) menu.findItem(R.id.menu_search).getActionView();
-        if (mSearchView == null)
-            return;
-
-        mSearchView.setSearchableInfo(
-                searchManager.getSearchableInfo(getActivity().getComponentName()));
-        mSearchView.setOnQueryTextListener(this);
-        mSearchView.setOnCloseListener(this);
+        if (mParentAccountId > 0)
+            inflater.inflate(R.menu.sub_account_actions, menu);
+        else {
+            inflater.inflate(R.menu.account_actions, menu);
+            // Associate searchable configuration with the SearchView
+            SearchManager searchManager =
+                    (SearchManager) getActivity().getSystemService(Context.SEARCH_SERVICE);
+            mSearchView =
+                    (com.actionbarsherlock.widget.SearchView) menu.findItem(R.id.menu_search).getActionView();
+            if (mSearchView == null)
+                return;
+
+            mSearchView.setSearchableInfo(
+                    searchManager.getSearchableInfo(getActivity().getComponentName()));
+            mSearchView.setOnQueryTextListener(this);
+            mSearchView.setOnCloseListener(this);
+        }
     }
 
     @Override
@@ -362,7 +357,14 @@ public boolean onOptionsItemSelected(MenuItem item) {
         switch (item.getItemId()) {
 
             case R.id.menu_add_account:
-                showAddAccountFragment(0);
+                if (mParentAccountId > 0){
+                    Intent addAccountIntent = new Intent(getActivity(), AccountsActivity.class);
+                    addAccountIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
+                    addAccountIntent.putExtra(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, mParentAccountId);
+                    startActivityForResult(addAccountIntent, REQUEST_EDIT_ACCOUNT);
+                } else {
+                    showAddAccountFragment(mParentAccountId);
+                }
                 return true;
 
             case R.id.menu_export:
@@ -378,21 +380,20 @@ public boolean onOptionsItemSelected(MenuItem item) {
         }
     }
 
-    public void refreshList(long parentAccountId) {
+    @Override
+    public void refresh(long parentAccountId) {
         getArguments().putLong(ARG_PARENT_ACCOUNT_ID, parentAccountId);
-        refreshList();
+        refresh();
     }
 
     /**
      * Refreshes the list by restarting the {@link DatabaseCursorLoader} associated
      * with the ListView
      */
-    public void refreshList() {
+    @Override
+    public void refresh() {
         getLoaderManager().restartLoader(0, null, this);
 
-        if (getActivity() instanceof TransactionsActivity){
-            ((TransactionsActivity)getActivity()).updateSubAccountsView();
-        }
 /*
         //TODO: Figure out a way to display account balances per currency
 		boolean doubleEntryActive = PreferenceManager.getDefaultSharedPreferences(getActivity())
diff --git a/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java b/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
index b9a14401..0dbcfd5e 100644
--- a/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/BulkMoveDialogFragment.java
@@ -18,7 +18,6 @@
 
 import org.gnucash.android.R;
 import org.gnucash.android.db.AccountsDbAdapter;
-import org.gnucash.android.db.DatabaseHelper;
 import org.gnucash.android.db.TransactionsDbAdapter;
 import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
 
@@ -148,7 +147,7 @@ public void onClick(View v) {
 						.findFragmentByTag(TransactionsActivity.FRAGMENT_TRANSACTIONS_LIST);
 					
 				WidgetConfigurationActivity.updateAllWidgets(getActivity());
-				((TransactionsListFragment)f).refreshList();
+				((TransactionsListFragment)f).refresh();
 				dismiss();
 			}			
 		});
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index b1da8522..9205a161 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -20,12 +20,13 @@
 import android.content.Intent;
 import android.database.Cursor;
 import android.os.Bundle;
-import android.support.v4.app.FragmentManager;
-import android.support.v4.app.FragmentTransaction;
+import android.support.v4.app.*;
+import android.support.v4.view.PagerAdapter;
+import android.support.v4.view.ViewPager;
 import android.support.v4.widget.ResourceCursorAdapter;
-import android.support.v4.widget.SimpleCursorAdapter;
 import android.util.Log;
 import android.view.View;
+import android.view.ViewGroup;
 import android.view.inputmethod.InputMethodManager;
 import android.widget.SpinnerAdapter;
 import android.widget.TextView;
@@ -33,23 +34,27 @@
 import com.actionbarsherlock.app.ActionBar.OnNavigationListener;
 import com.actionbarsherlock.app.SherlockFragmentActivity;
 import com.actionbarsherlock.view.MenuItem;
+import com.viewpagerindicator.TitlePageIndicator;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.db.DatabaseAdapter;
-import org.gnucash.android.db.DatabaseHelper;
+import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.accounts.AccountsActivity;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.util.OnAccountClickedListener;
 import org.gnucash.android.util.OnTransactionClickedListener;
 import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
+import java.util.HashMap;
+import java.util.Map;
+
 /**
  * Activity for displaying, creating and editing transactions
  * @author Ngewi Fet <ngewif@gmail.com>
  */
 public class TransactionsActivity extends SherlockFragmentActivity implements
-        OnAccountClickedListener, OnTransactionClickedListener{
+        Refreshable, OnAccountClickedListener, OnTransactionClickedListener{
 
 	/**
 	 * Logging tag
@@ -69,6 +74,32 @@
     private static final int REQUEST_EDIT_ACCOUNT           = 0x21;
 
     /**
+     * ViewPager index for sub-accounts fragment
+     */
+    private static final int INDEX_SUB_ACCOUNTS_FRAGMENT     = 0;
+
+    /**
+     * ViewPager index for transactions fragment
+     */
+    private static final int INDEX_TRANSACTIONS_FRAGMENT     = 1;
+
+    /**
+     * Number of pages to show
+     */
+    private static final int DEFAULT_NUM_PAGES = 2;
+
+    /**
+     * Pager widget for swiping horizontally between views
+     */
+    private ViewPager mPager;
+
+    /**
+     * Provides the pages to the view pager widget
+     */
+    private PagerAdapter mPagerAdapter;
+
+
+    /**
 	 * Database ID of {@link Account} whose transactions are displayed 
 	 */
 	private long mAccountId 	= 0;
@@ -92,17 +123,16 @@
      */
     private SpinnerAdapter mSpinnerAdapter;
 
-    TextView mSectionHeaderSubAccounts;
-    TextView mSectionHeaderTransactions;
-    View mSubAccountsContainer;
-    View mTransactionsContainer;
+    private TextView mSectionHeaderTransactions;
+    private TitlePageIndicator mTitlePageIndicator;
+
+    private Map<Integer, Refreshable> mFragmentPageReferenceMap = new HashMap();
 
 	private OnNavigationListener mTransactionListNavigationListener = new OnNavigationListener() {
 
 		  @Override
 		  public boolean onNavigationItemSelected(int position, long itemId) {
 			mAccountId = itemId;
-            updateSubAccountsView();
 
             FragmentManager fragmentManager = getSupportFragmentManager();
 
@@ -116,68 +146,151 @@ public boolean onNavigationItemSelected(int position, long itemId) {
 		    }
 
             refresh();
-
             return true;
 		  }
 	};
 
-    /**
-     * Refreshes the fragments currently in the transactions activity
-     */
-    private void refresh() {
-        FragmentManager fragmentManager = getSupportFragmentManager();
-        TransactionsListFragment transactionsListFragment = (TransactionsListFragment) fragmentManager
-                .findFragmentByTag(FRAGMENT_TRANSACTIONS_LIST);
-        if (transactionsListFragment != null) {
-            transactionsListFragment.refreshList(mAccountId);
+
+
+
+    private class AccountViewPagerAdapter extends FragmentStatePagerAdapter {
+
+        public AccountViewPagerAdapter(FragmentManager fm){
+            super(fm);
         }
 
-        AccountsListFragment subAccountsListFragment = (AccountsListFragment) fragmentManager
-                .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-        if (subAccountsListFragment != null) {
-            subAccountsListFragment.refreshList(mAccountId);
-        } else {
-            subAccountsListFragment = new AccountsListFragment();
+        @Override
+        public Fragment getItem(int i) {
+            if (isPlaceHolderAccount()){
+                Fragment transactionsListFragment = prepareSubAccountsListFragment();
+                mFragmentPageReferenceMap.put(i, (Refreshable) transactionsListFragment);
+                return transactionsListFragment;
+            }
+
+            Fragment currentFragment;
+            switch (i){
+                case INDEX_SUB_ACCOUNTS_FRAGMENT:
+                    currentFragment = prepareSubAccountsListFragment();
+                    break;
+
+                case INDEX_TRANSACTIONS_FRAGMENT:
+                default:
+                    currentFragment = prepareTransactionsListFragment();
+                    break;
+            }
+
+            mFragmentPageReferenceMap.put(i, (Refreshable)currentFragment);
+            return currentFragment;
+        }
+
+        @Override
+        public void destroyItem(ViewGroup container, int position, Object object) {
+            super.destroyItem(container, position, object);
+            mFragmentPageReferenceMap.remove(position);
+        }
+
+        @Override
+        public CharSequence getPageTitle(int position) {
+            if (isPlaceHolderAccount())
+                return getString(R.string.section_header_subaccounts);
+
+            switch (position){
+                case INDEX_SUB_ACCOUNTS_FRAGMENT:
+                    return getString(R.string.section_header_subaccounts);
+
+                case INDEX_TRANSACTIONS_FRAGMENT:
+                default:
+                    return getString(R.string.section_header_transactions);
+            }
+        }
+
+        @Override
+        public int getCount() {
+            if (isPlaceHolderAccount())
+                return 1;
+            else
+                return DEFAULT_NUM_PAGES;
+        }
+
+        /**
+         * Creates and initializes the fragment for displaying sub-account list
+         * @return {@link AccountsListFragment} initialized with the sub-accounts
+         */
+        private AccountsListFragment prepareSubAccountsListFragment(){
+            AccountsListFragment subAccountsListFragment = new AccountsListFragment();
             Bundle args = new Bundle();
             args.putLong(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, mAccountId);
             subAccountsListFragment.setArguments(args);
-            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();
-            fragmentTransaction.replace(R.id.sub_accounts_container, subAccountsListFragment, AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-            fragmentTransaction.commit();
+            return subAccountsListFragment;
+        }
+
+        /**
+         * Creates and initializes fragment for displaying transactions
+         * @return {@link TransactionsListFragment} initialized with the current account transactions
+         */
+        private TransactionsListFragment prepareTransactionsListFragment(){
+            TransactionsListFragment transactionsListFragment = new TransactionsListFragment();
+            Bundle args = new Bundle();
+            args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID,
+                    mAccountId);
+            transactionsListFragment.setArguments(args);
+            Log.i(TAG, "Opening transactions for account id " +  mAccountId);
+            return transactionsListFragment;
         }
     }
-				
+
+    /**
+     * Returns <code>true</code> is the current account is a placeholder account, <code>false</code> otherwise.
+     * @return <code>true</code> is the current account is a placeholder account, <code>false</code> otherwise.
+     */
+    private boolean isPlaceHolderAccount(){
+        return mAccountsDbAdapter.isPlaceholderAccount(mAccountId);
+    }
+
+    /**
+     * Refreshes the fragments currently in the transactions activity
+     */
+    @Override
+    public void refresh(long accountId) {
+        for (Refreshable refreshableFragment : mFragmentPageReferenceMap.values()) {
+            refreshableFragment.refresh(accountId);
+        }
+        mTitlePageIndicator.notifyDataSetChanged();
+    }
+
+    @Override
+    public void refresh(){
+        refresh(mAccountId);
+    }
+
 	@Override
 	protected void onCreate(Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
 		setContentView(R.layout.activity_transactions);
 
-        mSectionHeaderSubAccounts = (TextView) findViewById(R.id.section_header_sub_accounts);
+        mPager = (ViewPager) findViewById(R.id.pager);
+        mTitlePageIndicator = (TitlePageIndicator) findViewById(R.id.titles);
         mSectionHeaderTransactions = (TextView) findViewById(R.id.section_header_transactions);
-        mSubAccountsContainer = findViewById(R.id.sub_accounts_container);
-        mTransactionsContainer = findViewById(R.id.transactions_container);
 
-		final Intent intent = getIntent();
-		mAccountId = intent.getLongExtra(
-				TransactionsListFragment.SELECTED_ACCOUNT_ID, -1);
+
+		mAccountId = getIntent().getLongExtra(
+                TransactionsListFragment.SELECTED_ACCOUNT_ID, -1);
 
 		setupActionBarNavigation();
-		
-		if (intent.getAction().equals(Intent.ACTION_INSERT_OR_EDIT)) {
-			long transactionId = intent.getLongExtra(
-					NewTransactionFragment.SELECTED_TRANSACTION_ID, -1);
-            Bundle args = new Bundle();
-            if (transactionId > 0) {
-                mSectionHeaderTransactions.setText(R.string.title_edit_transaction);
-                args.putLong(NewTransactionFragment.SELECTED_TRANSACTION_ID, transactionId);
-                args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);
-            } else {
-                mSectionHeaderTransactions.setText(R.string.title_add_transaction);
-                args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);
-            }
-            showTransactionFormFragment(args);
+
+		if (getIntent().getAction().equals(Intent.ACTION_INSERT_OR_EDIT)) {
+            mPager.setVisibility(View.GONE);
+            mTitlePageIndicator.setVisibility(View.GONE);
+
+            initializeCreateOrEditTransaction();
         } else {	//load the transactions list
-            showTransactionsList();
+            mSectionHeaderTransactions.setVisibility(View.GONE);
+
+            mPagerAdapter = new AccountViewPagerAdapter(getSupportFragmentManager());
+            mPager.setAdapter(mPagerAdapter);
+            mTitlePageIndicator.setViewPager(mPager);
+
+            mPager.setCurrentItem(INDEX_TRANSACTIONS_FRAGMENT);
 		}
 
 		// done creating, activity now running
@@ -185,6 +298,23 @@ protected void onCreate(Bundle savedInstanceState) {
 	}
 
     /**
+     * Loads the fragment for creating/editing transactions and initializes it to be displayed
+     */
+    private void initializeCreateOrEditTransaction() {
+        long transactionId = getIntent().getLongExtra(NewTransactionFragment.SELECTED_TRANSACTION_ID, -1);
+        Bundle args = new Bundle();
+        if (transactionId > 0) {
+            mSectionHeaderTransactions.setText(R.string.title_edit_transaction);
+            args.putLong(NewTransactionFragment.SELECTED_TRANSACTION_ID, transactionId);
+            args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);
+        } else {
+            mSectionHeaderTransactions.setText(R.string.title_add_transaction);
+            args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);
+        }
+        showTransactionFormFragment(args);
+    }
+
+    /**
 	 * Set up action bar navigation list and listener callbacks
 	 */
 	private void setupActionBarNavigation() {
@@ -212,7 +342,6 @@ public void updateNavigationSelection() {
 		// set the selected item in the spinner
 		int i = 0;
 		Cursor accountsCursor = mAccountsDbAdapter.fetchAllRecords();
-//		boolean cursorMoved = accountsCursor.moveToFirst();
         while (accountsCursor.moveToNext()) {
             long id = accountsCursor.getLong(DatabaseAdapter.COLUMN_ROW_ID);
             if (mAccountId == id) {
@@ -224,27 +353,6 @@ public void updateNavigationSelection() {
         accountsCursor.close();
 	}
 
-    /**
-     * Toggles visibility of the sub-accounts fragment depending on if there are sub-accounts to display or not.
-     */
-    public void updateSubAccountsView() {
-        final String action = getIntent().getAction();
-        if (action != null && action.equals(Intent.ACTION_INSERT_OR_EDIT))
-            return;
-
-        int subAccountCount = mAccountsDbAdapter.getSubAccountCount(mAccountId);
-        if (subAccountCount > 0) {
-            mSubAccountsContainer.setVisibility(View.VISIBLE);
-            mSectionHeaderSubAccounts.setVisibility(View.VISIBLE);
-            String subAccountSectionText = getResources().getQuantityString(
-                    R.plurals.label_sub_accounts, subAccountCount, subAccountCount);
-            mSectionHeaderSubAccounts.setText(subAccountSectionText);
-        } else {
-            mSectionHeaderSubAccounts.setVisibility(View.GONE);
-            mSubAccountsContainer.setVisibility(View.GONE);
-        }
-    }
-
     @Override
 	public boolean onOptionsItemSelected(MenuItem item) {
 		switch (item.getItemId()) {
@@ -303,49 +411,19 @@ public long getCurrentAccountID(){
 	public void onNewTransactionClick(View v){
 		createNewTransaction(mAccountId);
 	}
-	
-	/**
-	 * Show list of transactions. Loads {@link TransactionsListFragment} 
-	 */
-	protected void showTransactionsList(){
-        FragmentManager fragmentManager = getSupportFragmentManager();
 
-        FragmentTransaction fragmentTransaction = fragmentManager
-                .beginTransaction();
-
-        int subAccountCount = mAccountsDbAdapter.getSubAccountCount(mAccountId);
-        boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(mAccountId);
-
-        if (subAccountCount > 0 || isPlaceholderAccount){
-            mSubAccountsContainer.setVisibility(View.VISIBLE);
-            mSectionHeaderSubAccounts.setVisibility(View.VISIBLE);
-            String subAccountSectionText = getResources().getQuantityString(R.plurals.label_sub_accounts, subAccountCount, subAccountCount);
-            mSectionHeaderSubAccounts.setText(subAccountSectionText);
-            AccountsListFragment subAccountsListFragment = new AccountsListFragment();
-            Bundle args = new Bundle();
-            args.putLong(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, mAccountId);
-            subAccountsListFragment.setArguments(args);
-            fragmentTransaction.replace(R.id.sub_accounts_container, subAccountsListFragment, AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-        }
 
-        //only load transactions if it is not a placeholder account
-        if (!isPlaceholderAccount){
-            TransactionsListFragment transactionsListFragment = new TransactionsListFragment();
-            Bundle args = new Bundle();
-            args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID,
-                    mAccountId);
-            transactionsListFragment.setArguments(args);
-            Log.i(TAG, "Opening transactions for account id " +  mAccountId);
+    /**
+     * Opens a dialog fragment to create a new account which is a sub account of the current account
+     * @param v View which triggered this callback
+     */
+    public void onNewAccountClick(View v) {
+        Intent addAccountIntent = new Intent(this, AccountsActivity.class);
+        addAccountIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
+        addAccountIntent.putExtra(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, mAccountId);
+        startActivityForResult(addAccountIntent, REQUEST_EDIT_ACCOUNT);
+    }
 
-            fragmentTransaction.replace(R.id.transactions_container,
-                    transactionsListFragment, FRAGMENT_TRANSACTIONS_LIST);
-        } else {
-            mSectionHeaderTransactions.setVisibility(View.GONE);
-            mTransactionsContainer.setVisibility(View.GONE);
-        }
-        fragmentTransaction.commit();
-	}
-	
 	/**
 	 * Loads the transaction insert/edit fragment and passes the arguments
 	 * @param args Bundle arguments to be passed to the fragment
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
index 86f8b8fa..38f57029 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
@@ -47,7 +47,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
                             	adapter.deleteRecord(rowId);
                             }
                             if (getTargetFragment() instanceof AccountsListFragment){                            	
-                            	((AccountsListFragment)getTargetFragment()).refreshList();
+                            	((AccountsListFragment)getTargetFragment()).refresh();
                             }
                             WidgetConfigurationActivity.updateAllWidgets(getActivity());
                         }
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index 67d29871..b299e0a5 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -52,6 +52,7 @@
 import org.gnucash.android.db.DatabaseCursorLoader;
 import org.gnucash.android.db.DatabaseHelper;
 import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
 import org.gnucash.android.util.OnTransactionClickedListener;
@@ -65,8 +66,8 @@
  * @author Ngewi Fet <ngewif@gmail.com>
  *
  */
-public class TransactionsListFragment extends SherlockListFragment implements 
-	LoaderCallbacks<Cursor> {
+public class TransactionsListFragment extends SherlockListFragment implements
+        Refreshable, LoaderCallbacks<Cursor> {
 
 	/**
 	 * Logging tag
@@ -141,7 +142,7 @@ public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
 				for (long id : getListView().getCheckedItemIds()) {
 					mTransactionsDbAdapter.deleteRecord(id);
 				}				
-				refreshList();
+				refresh();
 				mode.finish();
 				WidgetConfigurationActivity.updateAllWidgets(getActivity());
 				return true;
@@ -195,15 +196,17 @@ public void onActivityCreated(Bundle savedInstanceState) {
      * Refresh the list with transactions from account with ID <code>accountId</code>
      * @param accountId Database ID of account to load transactions from
      */
-	public void refreshList(long accountId){
+    @Override
+	public void refresh(long accountId){
 		mAccountID = accountId;
-		refreshList();
+		refresh();
 	}
 
     /**
      * Reload the list of transactions and recompute account balances
      */
-	public void refreshList(){
+    @Override
+	public void refresh(){
 		getLoaderManager().restartLoader(0, null, this);
 
         mSumTextView = (TextView) getView().findViewById(R.id.transactions_sum);
@@ -225,7 +228,7 @@ public void onAttach(Activity activity) {
 	public void onResume() {
 		super.onResume();
 		((TransactionsActivity)getSherlockActivity()).updateNavigationSelection();		
-		refreshList(((TransactionsActivity)getActivity()).getCurrentAccountID());
+		refresh(((TransactionsActivity) getActivity()).getCurrentAccountID());
 	}
 	
 	@Override
diff --git a/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java b/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
index c32c56ff..2390f76d 100644
--- a/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
+++ b/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
@@ -27,7 +27,10 @@
 import org.gnucash.android.db.DatabaseHelper;
 
 /**
- * @author Ngewi
+ * Cursor adapter which looks up the fully qualified account name and returns that instead of just the simple name.
+ * <p>The fully qualified account name includes the parent hierarchy</p>
+ *
+ * @author Ngewi Fet <ngewif@gmail.com>
  */
 public class QualifiedAccountNameCursorAdapter extends SimpleCursorAdapter {
     private AccountsDbAdapter mAccountDbAdapter;
diff --git a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
index 4d910848..79838fbc 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
@@ -26,7 +26,6 @@
 import android.widget.EditText;
 import android.widget.ListView;
 import android.widget.TextView;
-import com.actionbarsherlock.widget.SearchView;
 import com.jayway.android.robotium.solo.Solo;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
@@ -162,7 +161,7 @@ public void testEditAccount(){
 		Fragment fragment = getActivity()
 				.getSupportFragmentManager()
 				.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-		((AccountsListFragment) fragment).refreshList();
+		((AccountsListFragment) fragment).refresh();
 		
 		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 		
@@ -215,7 +214,7 @@ public void testDeleteAccount(){
                 .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
         assertNotNull(fragment);
 
-        ((AccountsListFragment) fragment).refreshList();
+        ((AccountsListFragment) fragment).refresh();
 
         mSolo.clickLongOnText(accountNameToDelete);
 
@@ -253,7 +252,7 @@ public void testDisplayTransactionsList(){
 		Fragment fragment = getActivity()
 				.getSupportFragmentManager()
 				.findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-		((AccountsListFragment) fragment).refreshList();
+		((AccountsListFragment) fragment).refresh();
 		
 		mSolo.waitForText(DUMMY_ACCOUNT_NAME);
 		mSolo.clickOnText(DUMMY_ACCOUNT_NAME);
@@ -330,6 +329,6 @@ private void refreshAccountsList(){
         Fragment fragment = getActivity()
                 .getSupportFragmentManager()
                 .findFragmentByTag(AccountsActivity.FRAGMENT_ACCOUNTS_LIST);
-        ((AccountsListFragment)fragment).refreshList();
+        ((AccountsListFragment)fragment).refresh();
     }
 }

From 3b6c654ab351fa89469cbf46d3954a588d50953e Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 19 Dec 2013 12:54:29 +0100
Subject: [PATCH 29/43] Added UI flag for placeholder accounts Added setting
 for default transfer account to ease entering of transactions - #122

---
 app/res/layout/fragment_new_account.xml            |  59 ++++---
 app/res/layout/fragment_new_transaction.xml        |   2 +-
 app/res/layout/list_item_transaction.xml           |   2 +-
 app/res/values-de/strings.xml                      |   2 +
 app/res/values-el/strings.xml                      |   2 +
 app/res/values-es-rMX/strings.xml                  |   2 +
 app/res/values-es/strings.xml                      |   2 +
 app/res/values-fr/strings.xml                      |   2 +
 app/res/values-hu/strings.xml                      |   2 +
 app/res/values-it/strings.xml                      |   2 +
 app/res/values-nb/strings.xml                      |   2 +
 app/res/values-nl/strings.xml                      |   2 +
 app/res/values-pt-rBR/strings.xml                  |   2 +
 app/res/values-ru/strings.xml                      |   2 +
 app/res/values-zh/strings.xml                      |   2 +
 app/res/values/strings.xml                         |   2 +
 app/res/values/styles.xml                          |   4 +-
 app/src/org/gnucash/android/data/Account.java      |  27 +++-
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  28 +++-
 .../org/gnucash/android/db/DatabaseAdapter.java    |   1 +
 app/src/org/gnucash/android/db/DatabaseHelper.java |  31 +++-
 .../android/ui/accounts/AddAccountFragment.java    | 169 ++++++++++++++++++---
 .../ui/transactions/NewTransactionFragment.java    |  47 +++---
 .../RecurringTransactionsListFragment.java         |   4 +-
 .../ui/transactions/TransactionsListFragment.java  |   4 +-
 .../android/test/ui/AccountsActivityTest.java      |   2 +-
 26 files changed, 328 insertions(+), 78 deletions(-)

diff --git a/app/res/layout/fragment_new_account.xml b/app/res/layout/fragment_new_account.xml
index 8055fbcd..a4c71b12 100644
--- a/app/res/layout/fragment_new_account.xml
+++ b/app/res/layout/fragment_new_account.xml
@@ -21,19 +21,16 @@
     <LinearLayout
             android:layout_width="match_parent"
             android:layout_height="match_parent"
+            android:padding="@dimen/dialog_padding"
             android:orientation="vertical" >
 
         <EditText
                 android:id="@+id/edit_text_account_name"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
-                android:layout_marginTop="10dp"
-                android:layout_marginLeft="10dp"
-                android:layout_marginRight="10dp"
-                android:layout_marginBottom="20dp"
+                android:layout_marginBottom="@dimen/form_row_bottom_margin"
                 android:ems="15"
                 android:inputType="textCapWords"
-                android:minHeight="?android:attr/listPreferredItemHeight"
                 android:singleLine="true"
                 android:ellipsize="start"
                 android:hint="@string/label_account_name"
@@ -46,58 +43,74 @@
                 android:layout_height="wrap_content"
                 android:layout_width="wrap_content"
                 android:layout_marginBottom="-8dip"
-                android:layout_marginLeft="10dp"
                 style="@style/TextAppearance.EditTransaction_LabelSmall" />
 
         <Spinner android:id="@+id/input_currency_spinner"
                  android:layout_width="match_parent"
                  android:layout_height="wrap_content"
-                 android:layout_marginLeft="10dp"
-                 android:layout_marginRight="10dp"
-                 android:layout_marginBottom="20dp"
-                 style="@style/ListItem"		/>
+                 android:layout_marginBottom="@dimen/form_row_bottom_margin" />
 
         <TextView
                 android:text="@string/label_account_type"
                 android:layout_height="wrap_content"
                 android:layout_width="wrap_content"
-                android:layout_marginBottom="-8dip"
-                android:layout_marginLeft="10dp"
+                android:layout_marginBottom="-8dp"
                 style="@style/TextAppearance.EditTransaction_LabelSmall" />
 
         <Spinner android:id="@+id/input_account_type_spinner"
                  android:layout_width="match_parent"
                  android:layout_height="wrap_content"
-                 android:layout_marginLeft="10dp"
-                 android:layout_marginRight="10dp"
-                 android:layout_marginBottom="20dp"
-                 style="@style/ListItem"		/>
+                 android:layout_marginBottom="@dimen/form_row_bottom_margin" />
+
+        <CheckBox android:id="@+id/checkbox_placeholder_account"
+                  android:layout_width="match_parent"
+                  android:layout_height="wrap_content"
+                  android:layout_marginBottom="@dimen/form_row_bottom_margin"
+                  android:text="@string/label_placeholder_account" />
 
         <TextView android:id="@+id/label_parent_account"
                   android:text="@string/label_parent_account"
                   android:layout_height="wrap_content"
                   android:layout_width="wrap_content"
-                  android:layout_marginLeft="10dp"
                   android:layout_marginBottom="-8dip"
                   style="@style/TextAppearance.EditTransaction_LabelSmall" />
 
         <LinearLayout android:id="@+id/layout_parent_account"
                       android:layout_width="match_parent"
                       android:layout_height="wrap_content"
-                      style="@style/ListItem"
+                      android:layout_marginBottom="@dimen/form_row_bottom_margin"
                       android:orientation="horizontal" >
 
-            <CheckBox android:id="@+id/checkbox"
+            <CheckBox android:id="@+id/checkbox_parent_account"
                       android:layout_width="wrap_content"
                       android:layout_height="wrap_content"
                       android:focusable="false"        />
             <Spinner
                     android:id="@+id/input_parent_account"
                     android:layout_width="match_parent"
-                    android:layout_height="wrap_content"
-                    android:layout_marginLeft="10dp"
-                    android:layout_marginRight="10dp"
-                    android:minHeight="?android:attr/listPreferredItemHeight" />
+                    android:layout_height="wrap_content" />
+        </LinearLayout>
+
+        <TextView android:id="@+id/label_default_transfer_account"
+                  android:text="@string/label_default_transfer_account"
+                  android:layout_height="wrap_content"
+                  android:layout_width="wrap_content"
+                  android:layout_marginBottom="-8dip"
+                  style="@style/TextAppearance.EditTransaction_LabelSmall" />
+
+        <LinearLayout android:id="@+id/layout_default_transfer_account"
+                      android:layout_width="match_parent"
+                      android:layout_height="wrap_content"
+                      android:orientation="horizontal" >
+
+            <CheckBox android:id="@+id/checkbox_default_transfer_account"
+                      android:layout_width="wrap_content"
+                      android:layout_height="wrap_content"
+                      android:focusable="false" />
+            <Spinner
+                    android:id="@+id/input_default_transfer_account"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content" />
         </LinearLayout>
     </LinearLayout>
 </ScrollView>
\ No newline at end of file
diff --git a/app/res/layout/fragment_new_transaction.xml b/app/res/layout/fragment_new_transaction.xml
index 896ae891..e3108a13 100644
--- a/app/res/layout/fragment_new_transaction.xml
+++ b/app/res/layout/fragment_new_transaction.xml
@@ -30,7 +30,7 @@
 	        android:layout_width="match_parent"
 	        android:layout_height="wrap_content"
 	        android:hint="@string/label_transaction_name"
-	        android:layout_marginBottom="@dimen/dialog_padding"
+	        android:layout_marginBottom="@dimen/form_row_bottom_margin"
 	        android:inputType="textCapSentences"
             android:imeOptions="actionNext"
             android:nextFocusDown="@+id/input_transaction_amount"
diff --git a/app/res/layout/list_item_transaction.xml b/app/res/layout/list_item_transaction.xml
index 20bad890..a78b39af 100644
--- a/app/res/layout/list_item_transaction.xml
+++ b/app/res/layout/list_item_transaction.xml
@@ -37,7 +37,7 @@
             android:orientation="horizontal">
 
         <CheckBox
-                android:id="@+id/checkbox"
+                android:id="@+id/checkbox_parent_account"
                 android:layout_width="wrap_content"
                 android:layout_height="wrap_content"
                 android:focusable="false"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index a345c590..82bd432f 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -349,6 +349,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 2981624f..27f13a6a 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -363,6 +363,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index fd47ce94..f89d4cc8 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -347,6 +347,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index fd587c00..e77336c8 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -347,6 +347,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index dde1f202..3a0960df 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -345,6 +345,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 546bc129..b604bab6 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -348,6 +348,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index d2545f5f..6a2585cf 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -348,6 +348,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 86a3aaaa..bcdab39c 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -350,6 +350,8 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 21e347f2..ec173452 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -349,6 +349,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index c1b33e4c..79e6c612 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -347,6 +347,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index dc031007..7954e682 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -345,6 +345,8 @@
     <string name="title_progress_exporting_transactions"> </string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index cd569de1..c1f31a64 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -345,6 +345,8 @@
     <string name="title_progress_exporting_transactions">Exporting transactions</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index dfd87cf2..71805a8f 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -547,6 +547,8 @@
     <string name="key_recurring_transaction_ids">recurring_transaction_ids</string>
     <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
+    <string name="label_placeholder_account">Placeholder account</string>
+    <string name="label_default_transfer_account">Default Transfer Account</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
diff --git a/app/res/values/styles.xml b/app/res/values/styles.xml
index cd484ec6..19b863a2 100644
--- a/app/res/values/styles.xml
+++ b/app/res/values/styles.xml
@@ -20,8 +20,8 @@
         <item name="android:minHeight">?android:attr/listPreferredItemHeight</item>
     </style>
     <style name="ListItem" parent="style/ListItemContainerBase">
-        <item name="android:paddingLeft">10dp</item>
-        <item name="android:paddingRight">10dp</item>
+        <item name="android:paddingLeft">@dimen/dialog_padding</item>
+        <item name="android:paddingRight">@dimen/dialog_padding</item>
         <item name="android:paddingTop">8dp</item>
         <item name="android:paddingBottom">8dp</item>        
         <item name="android:gravity">center_vertical</item>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index 82df0fd5..59886eb3 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -50,7 +50,7 @@
 	 */
 	public static final String MIME_TYPE = "vnd.android.cursor.item/vnd.org.gnucash.android.account";
 
-	/**
+    /**
 	 * The type of account
 	 * This are the different types specified by the OFX format and 
 	 * they are currently not used except for exporting
@@ -116,6 +116,12 @@ public boolean hasInvertedCredit(){
 	private String mParentAccountUID;
 
     /**
+     * Save UID of a default account for transfers.
+     * All transactions in this account will by default be transfers to the other account
+     */
+    private String mDefaultTransferAccountUID;
+
+    /**
      * Flag for placeholder accounts.
      * These accounts cannot have transactions
      */
@@ -362,7 +368,24 @@ public void setPlaceHolderFlag(boolean isPlaceholder){
         mPlaceholderAccount = isPlaceholder;
     }
 
-	/**
+    /**
+     * Return the unique ID of accounts to which to default transfer transactions to
+     * @return Unique ID string of default transfer account
+     */
+    public String getDefaultTransferAccountUID() {
+        return mDefaultTransferAccountUID;
+    }
+
+    /**
+     * Set the unique ID of account which is the default transfer target
+     * @param defaultTransferAccountUID Unique ID string of default transfer account
+     */
+    public void setDefaultTransferAccountUID(String defaultTransferAccountUID) {
+        this.mDefaultTransferAccountUID = defaultTransferAccountUID;
+    }
+
+
+    /**
 	 * Maps the <code>accountType</code> to the corresponding account type.
 	 * <code>accountType</code> have corresponding values to GnuCash desktop
 	 * @param accountType {@link AccountType} of an account
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 4ad1e583..ecd7b4e7 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -74,7 +74,8 @@ public long addAccount(Account account){
 		contentValues.put(DatabaseHelper.KEY_UID, account.getUID());
 		contentValues.put(DatabaseHelper.KEY_CURRENCY_CODE, account.getCurrency().getCurrencyCode());
 		contentValues.put(DatabaseHelper.KEY_PARENT_ACCOUNT_UID, account.getParentUID());
-		contentValues.put(DatabaseHelper.KEY_PLACEHOLDER, account.isPlaceholderAccount() ? 1 : 0);
+        contentValues.put(DatabaseHelper.KEY_DEFAULT_TRANSFER_ACCOUNT_UID, account.getDefaultTransferAccountUID());
+        contentValues.put(DatabaseHelper.KEY_PLACEHOLDER, account.isPlaceholderAccount() ? 1 : 0);
 
 		long rowId = -1;
 		if ((rowId = getAccountID(account.getUID())) > 0){
@@ -180,6 +181,7 @@ public Account buildAccountInstance(Cursor c){
 		account.setCurrency(Currency.getInstance(c.getString(DatabaseAdapter.COLUMN_CURRENCY_CODE)));
 		account.setTransactions(mTransactionsAdapter.getAllTransactionsForAccount(uid));
         account.setPlaceHolderFlag(c.getInt(DatabaseAdapter.COLUMN_PLACEHOLDER) == 1);
+        account.setDefaultTransferAccountUID(c.getString(DatabaseAdapter.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID));
 		return account;
 	}
 		
@@ -587,6 +589,30 @@ public String getAccountName(String accountUID){
     }
 
     /**
+     * Returns the default transfer account record ID for the account with UID <code>accountUID</code>
+     * @param accountID Database ID of the account record
+     * @return Record ID of default transfer account
+     */
+    public long getDefaultTransferAccountID(long accountID){
+        Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_DEFAULT_TRANSFER_ACCOUNT_UID},
+                DatabaseHelper.KEY_ROW_ID + " = " + accountID,
+                null, null, null, null);
+
+        if (cursor == null || cursor.getCount() < 1){
+            return 0;
+        } else {
+            cursor.moveToFirst();
+        }
+
+        String defaultTransferAccountUID = cursor.getString(
+                cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_DEFAULT_TRANSFER_ACCOUNT_UID));
+        cursor.close();
+
+        return getAccountID(defaultTransferAccountUID);
+    }
+
+    /**
      * Returns the full account name including the account hierarchy (parent accounts)
      * @param accountUID Unique ID of account
      * @return Fully qualified (with parent hierarchy) account name
diff --git a/app/src/org/gnucash/android/db/DatabaseAdapter.java b/app/src/org/gnucash/android/db/DatabaseAdapter.java
index d5997965..da214643 100644
--- a/app/src/org/gnucash/android/db/DatabaseAdapter.java
+++ b/app/src/org/gnucash/android/db/DatabaseAdapter.java
@@ -55,6 +55,7 @@
 	public static final int COLUMN_CURRENCY_CODE        = 4;
 	public static final int COLUMN_PARENT_ACCOUNT_UID   = 5;
     public static final int COLUMN_PLACEHOLDER          = 6;
+    public static final int COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID = 7;
 	
 	/**
 	 * {@link DatabaseHelper} for creating and opening the database
diff --git a/app/src/org/gnucash/android/db/DatabaseHelper.java b/app/src/org/gnucash/android/db/DatabaseHelper.java
index 73ae65d6..5cb0b356 100644
--- a/app/src/org/gnucash/android/db/DatabaseHelper.java
+++ b/app/src/org/gnucash/android/db/DatabaseHelper.java
@@ -107,7 +107,13 @@
 	 * Account which the origin account this transaction in double entry mode
 	 */
 	public static final String KEY_DOUBLE_ENTRY_ACCOUNT_UID 	= "double_account_uid";
-	
+
+    /**
+     * Each account has a default target for transfers when in double entry mode unless otherwise specified.
+     * This key holds the UID of the default transfer account for double entries.
+     */
+    public static final String KEY_DEFAULT_TRANSFER_ACCOUNT_UID = "default_transfer_account_uid";
+
 	/**
 	 * Transaction description database column
 	 */
@@ -151,6 +157,7 @@
 			+ KEY_CURRENCY_CODE + " varchar(255) not null, "
 			+ KEY_PARENT_ACCOUNT_UID + " varchar(255), "
             + KEY_PLACEHOLDER + " tinyint default 0, "
+            + KEY_DEFAULT_TRANSFER_ACCOUNT_UID + " varchar(255), "
 			+ "UNIQUE (" + KEY_UID + ")"	
 			+ ");";
 	
@@ -197,7 +204,7 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
 		if (oldVersion < newVersion){
 			//introducing double entry accounting
 			Log.i(TAG, "Upgrading database to version " + newVersion);
-			if (oldVersion == 1 && newVersion == 2){		
+			if (oldVersion == 1 && newVersion >= 2){
 				Log.i(TAG, "Adding column for splitting transactions");
 				String addColumnSql = "ALTER TABLE " + TRANSACTIONS_TABLE_NAME + 
 									" ADD COLUMN " + KEY_DOUBLE_ENTRY_ACCOUNT_UID + " varchar(255)";
@@ -216,25 +223,37 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
                 ContentValues cv = new ContentValues();
                 cv.put(KEY_TYPE, AccountType.CASH.toString());
                 db.update(ACCOUNTS_TABLE_NAME, cv, null, null);
+
+                oldVersion = 2;
             }
 			
 
-            if (oldVersion == 2 && newVersion == 3){
+            if (oldVersion == 2 && newVersion >= 3){
                 Log.i(TAG, "Adding flag for placeholder accounts");
                 String addPlaceHolderAccountFlagSql = "ALTER TABLE " + ACCOUNTS_TABLE_NAME +
                         " ADD COLUMN " + KEY_PLACEHOLDER + " tinyint default 0";
 
                 db.execSQL(addPlaceHolderAccountFlagSql);
+                oldVersion = 3;
             }
 
-            if (oldVersion == 3 && newVersion == 4){
+            if (oldVersion == 3 && newVersion >= 4){
                 Log.i(TAG, "Updating database to version 4");
                 String addRecurrencePeriod = "ALTER TABLE " + TRANSACTIONS_TABLE_NAME +
                         " ADD COLUMN " + KEY_RECURRENCE_PERIOD + " integer default 0";
+
+                String addDefaultTransferAccount = "ALTER TABLE " + ACCOUNTS_TABLE_NAME
+                        + " ADD COLUMN " + KEY_DEFAULT_TRANSFER_ACCOUNT_UID + " varchar(255)";
+
                 db.execSQL(addRecurrencePeriod);
+                db.execSQL(addDefaultTransferAccount);
+
+                oldVersion = 4;
             }
-		} else {
-			Log.i(TAG, "Cannot downgrade database.");
 		}
+
+        if (oldVersion != newVersion) {
+            Log.i(TAG, "Upgrade for the database failed. The Database is currently at version " + oldVersion);
+        }
 	}
 }
diff --git a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
index efe149c6..c2ca9b37 100644
--- a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
@@ -22,6 +22,8 @@
 
 import android.app.Activity;
 import android.content.Intent;
+import android.content.SharedPreferences;
+import android.preference.PreferenceManager;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
@@ -89,17 +91,66 @@
 	 */
 	private Account mAccount = null;
 
-	private Cursor mCursor;
-	
-	private SimpleCursorAdapter mCursorAdapter;
-	
+    /**
+     * Cursor which will hold set of eligible parent accounts
+     */
+	private Cursor mParentAccountCursor;
+
+    /**
+     * SimpleCursorAdapter for the parent account spinner
+     * @see QualifiedAccountNameCursorAdapter
+     */
+	private SimpleCursorAdapter mParentAccountCursorAdapter;
+
+    /**
+     * Spinner for parent account list
+     */
 	private Spinner mParentAccountSpinner;
 
+    /**
+     * Checkbox which activates the parent account spinner when selected
+     * Leaving this unchecked means it is a top-level root account
+     */
 	private CheckBox mParentCheckBox;
 
+    /**
+     * Spinner for the account type
+     * @see org.gnucash.android.data.Account.AccountType
+     */
     private Spinner mAccountTypeSpinner;
 
-	/**
+    /**
+     * Checkbox for activating the default transfer account spinner
+     */
+    private CheckBox mDefaultTransferAccountCheckBox;
+
+    /**
+     * Spinner for selecting the default transfer account
+     */
+    private Spinner mDefaulTransferAccountSpinner;
+
+    /**
+     * Cursor holding data set of eligible transfer accounts
+     */
+    private Cursor mDefaultTransferAccountCursor;
+
+    /**
+     * Checkbox indicating if account is a placeholder account
+     */
+    private CheckBox mPlaceholderCheckBox;
+
+    /**
+     * Cursor adapter which binds to the spinner for default transfer account
+     */
+    private SimpleCursorAdapter mDefaultTransferAccountCursorAdapter;
+
+    /**
+     * Flag indicating if double entry transactions are enabled
+     */
+    private boolean mUseDoubleEntry;
+
+
+    /**
 	 * Default constructor
 	 * Required, else the app crashes on screen rotation
 	 */
@@ -125,6 +176,9 @@ public void onCreate(Bundle savedInstanceState) {
         if (mAccountsDbAdapter == null){
             mAccountsDbAdapter = new AccountsDbAdapter(getSherlockActivity());
         }
+
+        SharedPreferences sharedPrefs = PreferenceManager.getDefaultSharedPreferences(getActivity());
+        mUseDoubleEntry = sharedPrefs.getBoolean(getString(R.string.key_use_double_entry), false);
 	}
 	
 	/**
@@ -140,11 +194,12 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 		mNameEditText.requestFocus();
 
         mAccountTypeSpinner = (Spinner) view.findViewById(R.id.input_account_type_spinner);
+        mPlaceholderCheckBox = (CheckBox) view.findViewById(R.id.checkbox_placeholder_account);
 
 		mParentAccountSpinner = (Spinner) view.findViewById(R.id.input_parent_account);
 		mParentAccountSpinner.setEnabled(false);
 		
-		mParentCheckBox = (CheckBox) view.findViewById(R.id.checkbox);
+		mParentCheckBox = (CheckBox) view.findViewById(R.id.checkbox_parent_account);
 		mParentCheckBox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
 			
 			@Override
@@ -153,6 +208,17 @@ public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
 			}
 		});
 
+        mDefaulTransferAccountSpinner = (Spinner) view.findViewById(R.id.input_default_transfer_account);
+        mDefaulTransferAccountSpinner.setEnabled(false);
+
+        mDefaultTransferAccountCheckBox = (CheckBox) view.findViewById(R.id.checkbox_default_transfer_account);
+        mDefaultTransferAccountCheckBox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
+            @Override
+            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {
+                mDefaulTransferAccountSpinner.setEnabled(isChecked);
+            }
+        });
+
 		return view;
 	}
 	
@@ -180,6 +246,8 @@ public void onActivityCreated(Bundle savedInstanceState) {
         //need to load the cursor adapters for the spinners before initializing the views
         loadParentAccountList();
         loadAccountTypesList();
+        loadDefaultTransferAccoutList();
+        setDefaultTransferAccountInputsVisible(mUseDoubleEntry);
 
         if (mAccount != null){
             initializeViewsWithAccount(mAccount);
@@ -204,6 +272,13 @@ private void initializeViewsWithAccount(Account account){
         long parentAccountId = mAccountsDbAdapter.getAccountID(account.getParentUID());
         setParentAccountSelection(parentAccountId);
 
+        if (mUseDoubleEntry) {
+            long doubleDefaultAccountId = mAccountsDbAdapter.getAccountID(account.getDefaultTransferAccountUID());
+            setDefaultTransferAccountSelection(doubleDefaultAccountId);
+        }
+
+        mPlaceholderCheckBox.setChecked(account.isPlaceholderAccount());
+
         String[] accountTypeEntries = getResources().getStringArray(R.array.account_type_entries);
         int accountTypeIndex = Arrays.asList(accountTypeEntries).indexOf(account.getAccountType().name());
         mAccountTypeSpinner.setSelection(accountTypeIndex);
@@ -217,7 +292,17 @@ private void initializeViews(){
 
         long parentAccountId = getArguments().getLong(AccountsListFragment.ARG_PARENT_ACCOUNT_ID);
         setParentAccountSelection(parentAccountId);
+    }
 
+    /**
+     * Toggles the visibility of the default transfer account input fields.
+     * This field is irrelevant for users who do not use double accounting
+     */
+    private void setDefaultTransferAccountInputsVisible(boolean visible) {
+        final int visibility = visible ? View.VISIBLE : View.GONE;
+        final View view = getView();
+        view.findViewById(R.id.layout_default_transfer_account).setVisibility(visibility);
+        view.findViewById(R.id.label_default_transfer_account).setVisibility(visibility);
     }
 
     /**
@@ -242,14 +327,33 @@ private void setParentAccountSelection(long parentAccountId){
         } else
             return;
 
-        for (int pos = 0; pos < mCursorAdapter.getCount(); pos++) {
-            if (mCursorAdapter.getItemId(pos) == parentAccountId){
+        for (int pos = 0; pos < mParentAccountCursorAdapter.getCount(); pos++) {
+            if (mParentAccountCursorAdapter.getItemId(pos) == parentAccountId){
                 mParentAccountSpinner.setSelection(pos);
                 break;
             }
         }
     }
 
+    /**
+     * Selects the account with ID <code>parentAccountId</code> in the default transfer account spinner
+     * @param defaultTransferAccountId Record ID of parent account to be selected
+     */
+    private void setDefaultTransferAccountSelection(long defaultTransferAccountId){
+        if (defaultTransferAccountId > 0){
+            mDefaultTransferAccountCheckBox.setChecked(true);
+            mDefaulTransferAccountSpinner.setEnabled(true);
+        } else
+            return;
+
+        for (int pos = 0; pos < mDefaultTransferAccountCursorAdapter.getCount(); pos++) {
+            if (mDefaultTransferAccountCursorAdapter.getItemId(pos) == defaultTransferAccountId){
+                mDefaulTransferAccountSpinner.setSelection(pos);
+                break;
+            }
+        }
+    }
+
 	@Override
 	public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {		
 		super.onCreateOptionsMenu(menu, inflater);
@@ -272,6 +376,26 @@ public boolean onOptionsItemSelected(MenuItem item) {
 	}
 
     /**
+     * Initializes the default transfer account spinner with eligible accounts
+     */
+    private void loadDefaultTransferAccoutList(){
+        String condition = DatabaseHelper.KEY_ROW_ID + " != " + mSelectedAccountId
+                + " AND " + DatabaseHelper.KEY_PLACEHOLDER + "=0"
+                + " AND " + DatabaseHelper.KEY_UID + " != '" + mAccountsDbAdapter.getGnuCashRootAccountUID() + "'";
+        mDefaultTransferAccountCursor = mAccountsDbAdapter.fetchAccounts(condition);
+
+        if (mDefaultTransferAccountCursor == null || mDefaulTransferAccountSpinner.getCount() <= 0){
+            setDefaultTransferAccountInputsVisible(false);
+        }
+
+        mDefaultTransferAccountCursorAdapter = new QualifiedAccountNameCursorAdapter(getActivity(),
+                android.R.layout.simple_spinner_item,
+                mDefaultTransferAccountCursor);
+        mParentAccountCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+        mDefaulTransferAccountSpinner.setAdapter(mParentAccountCursorAdapter);
+    }
+
+    /**
      * Loads the list of possible accounts which can be set as a parent account and initializes the spinner
      */
 	private void loadParentAccountList(){
@@ -284,19 +408,19 @@ private void loadParentAccountList(){
             //TODO: Limit all descendants of the account to eliminate the possibility of cyclic hierarchy
         }
 
-		mCursor = mAccountsDbAdapter.fetchAccounts(condition);
-		if (mCursor == null || mCursor.getCount() <= 0){
+		mParentAccountCursor = mAccountsDbAdapter.fetchAccounts(condition);
+		if (mParentAccountCursor == null || mParentAccountCursor.getCount() <= 0){
             final View view = getView();
             view.findViewById(R.id.layout_parent_account).setVisibility(View.GONE);
             view.findViewById(R.id.label_parent_account).setVisibility(View.GONE);
         }
 
-		mCursorAdapter = new QualifiedAccountNameCursorAdapter(
+		mParentAccountCursorAdapter = new QualifiedAccountNameCursorAdapter(
 				getActivity(), 
-				android.R.layout.simple_spinner_item, 
-				mCursor);
-		mCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);		
-		mParentAccountSpinner.setAdapter(mCursorAdapter);
+				android.R.layout.simple_spinner_item,
+                mParentAccountCursor);
+		mParentAccountCursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
+		mParentAccountSpinner.setAdapter(mParentAccountCursorAdapter);
 	}
 
     /**
@@ -333,8 +457,8 @@ private void finishFragment() {
 	@Override
 	public void onDestroy() {
 		super.onDestroyView();
-		if (mCursor != null)
-			mCursor.close();
+		if (mParentAccountCursor != null)
+			mParentAccountCursor.close();
 		//do not close the database adapter. We got it from the activity, 
 		//the activity will take care of it.
 	}
@@ -361,12 +485,23 @@ private void saveAccount() {
         String[] accountTypeEntries = getResources().getStringArray(R.array.account_type_entries);
         mAccount.setAccountType(Account.AccountType.valueOf(accountTypeEntries[selectedAccountType]));
 
+        mAccount.setPlaceHolderFlag(mPlaceholderCheckBox.isChecked());
+
 		if (mParentCheckBox.isChecked()){
 			long id = mParentAccountSpinner.getSelectedItemId();
 			mAccount.setParentUID(mAccountsDbAdapter.getAccountUID(id));
 		} else {
+            //need to do this explicitly in case user removes parent account
 			mAccount.setParentUID(null);
 		}
+
+        if (mDefaultTransferAccountCheckBox.isChecked()){
+            long id = mDefaulTransferAccountSpinner.getSelectedItemId();
+            mAccount.setDefaultTransferAccountUID(mAccountsDbAdapter.getAccountUID(id));
+        } else {
+            //explicitly set in case of removal of default account
+            mAccount.setDefaultTransferAccountUID(null);
+        }
 		
 		if (mAccountsDbAdapter == null)
 			mAccountsDbAdapter = new AccountsDbAdapter(getActivity());
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index e64cc71a..5b653276 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -351,26 +351,6 @@ private void initializeViewsWithTransaction(){
     }
 
     /**
-     * Initializes the recurrence spinner to the appropriate value from the transaction.
-     * This is only used when the transaction is a recurrence transaction
-     */
-    private void setSelectedRecurrenceOption() {
-        //init recurrence options
-        final long recurrencePeriod = mTransaction.getRecurrencePeriod();
-        if (recurrencePeriod > 0){
-            String[] recurrenceOptions = getResources().getStringArray(R.array.recurrence_options);
-
-            int selectionIndex = 0;
-            for (String recurrenceOption : recurrenceOptions) {
-                if (recurrencePeriod == Long.parseLong(recurrenceOption))
-                    break;
-                selectionIndex++;
-            }
-            mRecurringTransactionSpinner.setSelection(selectionIndex);
-        }
-    }
-
-    /**
 	 * Initialize views with default data for new transactions
 	 */
 	private void initalizeViews() {
@@ -399,9 +379,36 @@ private void initalizeViews() {
 		}
 		Currency accountCurrency = Currency.getInstance(code);
 		mCurrencyTextView.setText(accountCurrency.getSymbol(Locale.getDefault()));
+
+        if (mUseDoubleEntry){
+            long defaultTransferAccountID = mAccountsDbAdapter.getDefaultTransferAccountID(accountId);
+            if (defaultTransferAccountID > 0){
+                setSelectedTransferAccount(defaultTransferAccountID);
+            }
+        }
 	}
 
     /**
+     * Initializes the recurrence spinner to the appropriate value from the transaction.
+     * This is only used when the transaction is a recurrence transaction
+     */
+    private void setSelectedRecurrenceOption() {
+        //init recurrence options
+        final long recurrencePeriod = mTransaction.getRecurrencePeriod();
+        if (recurrencePeriod > 0){
+            String[] recurrenceOptions = getResources().getStringArray(R.array.recurrence_options);
+
+            int selectionIndex = 0;
+            for (String recurrenceOption : recurrenceOptions) {
+                if (recurrencePeriod == Long.parseLong(recurrenceOption))
+                    break;
+                selectionIndex++;
+            }
+            mRecurringTransactionSpinner.setSelection(selectionIndex);
+        }
+    }
+
+    /**
      * Updates the list of possible transfer accounts.
      * Only accounts with the same currency can be transferred to
      */
diff --git a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
index 892b1b7e..9ac7e00c 100644
--- a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
@@ -180,7 +180,7 @@ public void onDestroy() {
     public void onListItemClick(ListView l, View v, int position, long id) {
         super.onListItemClick(l, v, position, id);
         if (mInEditMode){
-            CheckBox checkbox = (CheckBox) v.findViewById(R.id.checkbox);
+            CheckBox checkbox = (CheckBox) v.findViewById(R.id.checkbox_parent_account);
             checkbox.setChecked(!checkbox.isChecked());
             return;
         }
@@ -306,7 +306,7 @@ public TransactionsCursorAdapter(Context context, int layout, Cursor c,
         public View getView(int position, View convertView, ViewGroup parent) {
             final View view = super.getView(position, convertView, parent);
             final int itemPosition = position;
-            CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox);
+            CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox_parent_account);
             final TextView secondaryText = (TextView) view.findViewById(R.id.secondary_text);
 
             checkbox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index b299e0a5..2e6754be 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -241,7 +241,7 @@ public void onDestroy() {
 	public void onListItemClick(ListView l, View v, int position, long id) {
 		super.onListItemClick(l, v, position, id);
 		if (mInEditMode){
-			CheckBox checkbox = (CheckBox) v.findViewById(R.id.checkbox);
+			CheckBox checkbox = (CheckBox) v.findViewById(R.id.checkbox_parent_account);
 			checkbox.setChecked(!checkbox.isChecked());
 			return;
 		}
@@ -379,7 +379,7 @@ public TransactionsCursorAdapter(Context context, int layout, Cursor c,
 		public View getView(int position, View convertView, ViewGroup parent) {
 			final View view = super.getView(position, convertView, parent);
 			final int itemPosition = position;
-			CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox);
+			CheckBox checkbox = (CheckBox) view.findViewById(R.id.checkbox_parent_account);
             final TextView secondaryText = (TextView) view.findViewById(R.id.secondary_text);
 
             checkbox.setOnCheckedChangeListener(new OnCheckedChangeListener() {
diff --git a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
index 79838fbc..a8d1791b 100644
--- a/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
+++ b/integration-tests/src/org/gnucash/android/test/ui/AccountsActivityTest.java
@@ -130,7 +130,7 @@ public void testCreateAccount(){
 		mSolo.waitForText(getActivity().getString(R.string.title_add_account));
 
         //there already exists one eligible parent account in the system
-        assertThat(getActivity().findViewById(R.id.checkbox)).isVisible();
+        assertThat(getActivity().findViewById(R.id.checkbox_parent_account)).isVisible();
 
         EditText inputAccountName = (EditText) getActivity().findViewById(R.id.edit_text_account_name);
         String NEW_ACCOUNT_NAME = "A New Account";

From 3f3597f76efc513adbfcf76891a9130b3323345c Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 20 Dec 2013 00:16:22 +0100
Subject: [PATCH 30/43] Feature: Color code accounts Color codes in GnuCash
 accounts structure file are now imported The color of the account themes the
 tab display of the account view and any child accounts which do not have an
 own color

---
 app/res/layout/list_item_account.xml               |   4 +
 app/res/values/colors.xml                          |   5 +
 app/res/values/dimens.xml                          |   1 +
 app/src/org/gnucash/android/data/Account.java      |  37 +++-
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  22 ++-
 .../org/gnucash/android/db/DatabaseAdapter.java    |   1 +
 app/src/org/gnucash/android/db/DatabaseHelper.java |  10 +
 .../android/ui/accounts/AccountsActivity.java      |   6 +
 .../android/ui/accounts/AccountsListFragment.java  |   9 +-
 .../android/ui/colorpicker/ColorPickerDialog.java  | 201 +++++++++++++++++++++
 .../ui/transactions/TransactionsActivity.java      |  28 ++-
 .../android/util/GnucashAccountXmlHandler.java     |  19 +-
 12 files changed, 332 insertions(+), 11 deletions(-)
 create mode 100644 app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java

diff --git a/app/res/layout/list_item_account.xml b/app/res/layout/list_item_account.xml
index 3d5e8772..c2d5b67b 100644
--- a/app/res/layout/list_item_account.xml
+++ b/app/res/layout/list_item_account.xml
@@ -23,6 +23,10 @@
               android:paddingRight="@dimen/edge_padding"
               android:orientation="horizontal"
               style="@style/ListItem">
+
+    <View   android:id="@+id/account_color_strip"
+            android:layout_width="@dimen/strip_width"
+            android:layout_height="match_parent" />
     <include
             layout="@layout/list_item_2_lines"
             android:layout_height="wrap_content"
diff --git a/app/res/values/colors.xml b/app/res/values/colors.xml
index d849dc37..5b0a8263 100644
--- a/app/res/values/colors.xml
+++ b/app/res/values/colors.xml
@@ -20,4 +20,9 @@
     <color name="light_gray">#FFAAAAAA</color>
     <color name="abs__holo_blue_light">#ff33b5e5</color>
     <color name="title_green">#319D67</color>
+    <color name="account_green">#319D67</color>
+    <color name="account_red">#D13E29</color>
+    <color name="account_gold">#EE8600</color>
+    <color name="account_blue">#1469EB</color>
+    <color name="account_purple">#B304AD</color>
 </resources>
\ No newline at end of file
diff --git a/app/res/values/dimens.xml b/app/res/values/dimens.xml
index 7b59c18a..5c514f5e 100644
--- a/app/res/values/dimens.xml
+++ b/app/res/values/dimens.xml
@@ -26,4 +26,5 @@
     <dimen name="widget_margin">8dp</dimen>
     <dimen name="section_header_height">20dp</dimen>
     <dimen name="form_row_bottom_margin">10dp</dimen>
+    <dimen name="strip_width">5dp</dimen>
 </resources>
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index 59886eb3..a108b979 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -23,7 +23,7 @@
 import java.util.Locale;
 import java.util.UUID;
 
-import android.content.Context;
+import android.graphics.Color;
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.export.ofx.OfxExporter;
@@ -127,6 +127,11 @@ public boolean hasInvertedCredit(){
      */
     private boolean mPlaceholderAccount;
 
+    /**
+     * Account color field in hex format #rrggbb
+     */
+    private String mColorCode;
+
 	/**
 	 * An extra key for passing the currency code (according ISO 4217) in an intent
 	 */
@@ -311,13 +316,35 @@ public boolean hasUnexportedTransactions(){
 	public Money getBalance(){
 		//TODO: Consider double entry transactions
 		Money balance = new Money(new BigDecimal(0), this.mCurrency);
-		for (Transaction transx : mTransactionsList) {
-			balance = balance.add(transx.getAmount());		
+		for (Transaction transaction : mTransactionsList) {
+			balance = balance.add(transaction.getAmount());
 		}
 		return balance;
 	}
-	
-	/**
+
+    /**
+     * Returns the color code of the account in the format #rrggbb
+     * @return Color code of the account
+     */
+    public String getColorCode() {
+        return mColorCode;
+    }
+
+    /**
+     * Sets the color code of the account.
+     * @param colorCode Color code to be set in the format #rrggbb
+     * @throws java.lang.IllegalArgumentException if the color code is not properly formatted
+     */
+    public void setColorCode(String colorCode) {
+        //TODO: Proper regex validation
+        if (!colorCode.startsWith("#") || colorCode.length() < 4 || colorCode.length() > 9){
+            throw new IllegalArgumentException("Invalid color code for account");
+        }
+        this.mColorCode = colorCode;
+    }
+
+
+    /**
 	 * @return the mCurrency
 	 */
 	public Currency getCurrency() {
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index ecd7b4e7..1a6e4f98 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -76,6 +76,7 @@ public long addAccount(Account account){
 		contentValues.put(DatabaseHelper.KEY_PARENT_ACCOUNT_UID, account.getParentUID());
         contentValues.put(DatabaseHelper.KEY_DEFAULT_TRANSFER_ACCOUNT_UID, account.getDefaultTransferAccountUID());
         contentValues.put(DatabaseHelper.KEY_PLACEHOLDER, account.isPlaceholderAccount() ? 1 : 0);
+        contentValues.put(DatabaseHelper.KEY_COLOR_CODE, account.getColorCode());
 
 		long rowId = -1;
 		if ((rowId = getAccountID(account.getUID())) > 0){
@@ -182,6 +183,7 @@ public Account buildAccountInstance(Cursor c){
 		account.setTransactions(mTransactionsAdapter.getAllTransactionsForAccount(uid));
         account.setPlaceHolderFlag(c.getInt(DatabaseAdapter.COLUMN_PLACEHOLDER) == 1);
         account.setDefaultTransferAccountUID(c.getString(DatabaseAdapter.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID));
+        account.setColorCode(c.getString(DatabaseAdapter.COLUMN_COLOR_CODE));
 		return account;
 	}
 		
@@ -269,7 +271,25 @@ public String getAccountUID(long id){
 		}
 		return uid;
 	}
-	
+
+    /**
+     * Returns the color code for the account in format #rrggbb
+     * @param accountId Database row ID of the account
+     * @return String color code of account or null if none
+     */
+    public String getAccountColorCode(long accountId){
+        String colorCode = null;
+        Cursor c = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_COLOR_CODE},
+                DatabaseHelper.KEY_ROW_ID + "=" + accountId,
+                null, null, null, null);
+        if (c != null && c.moveToFirst()){
+            colorCode = c.getString(c.getColumnIndexOrThrow(DatabaseHelper.KEY_COLOR_CODE));
+            c.close();
+        }
+        return colorCode;
+    }
+
 	/**
 	 * Returns the {@link AccountType} of the account with unique ID <code>uid</code>
 	 * @param uid Unique ID of the account
diff --git a/app/src/org/gnucash/android/db/DatabaseAdapter.java b/app/src/org/gnucash/android/db/DatabaseAdapter.java
index da214643..499e7e4a 100644
--- a/app/src/org/gnucash/android/db/DatabaseAdapter.java
+++ b/app/src/org/gnucash/android/db/DatabaseAdapter.java
@@ -56,6 +56,7 @@
 	public static final int COLUMN_PARENT_ACCOUNT_UID   = 5;
     public static final int COLUMN_PLACEHOLDER          = 6;
     public static final int COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID = 7;
+    public static final int COLUMN_COLOR_CODE           = 8;
 	
 	/**
 	 * {@link DatabaseHelper} for creating and opening the database
diff --git a/app/src/org/gnucash/android/db/DatabaseHelper.java b/app/src/org/gnucash/android/db/DatabaseHelper.java
index 5cb0b356..fca70b3e 100644
--- a/app/src/org/gnucash/android/db/DatabaseHelper.java
+++ b/app/src/org/gnucash/android/db/DatabaseHelper.java
@@ -114,6 +114,11 @@
      */
     public static final String KEY_DEFAULT_TRANSFER_ACCOUNT_UID = "default_transfer_account_uid";
 
+    /**
+     * Color code for the account
+     */
+    public static final String KEY_COLOR_CODE = "color_code";
+
 	/**
 	 * Transaction description database column
 	 */
@@ -158,6 +163,7 @@
 			+ KEY_PARENT_ACCOUNT_UID + " varchar(255), "
             + KEY_PLACEHOLDER + " tinyint default 0, "
             + KEY_DEFAULT_TRANSFER_ACCOUNT_UID + " varchar(255), "
+            + KEY_COLOR_CODE + " varchar(255), "
 			+ "UNIQUE (" + KEY_UID + ")"	
 			+ ");";
 	
@@ -245,8 +251,12 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
                 String addDefaultTransferAccount = "ALTER TABLE " + ACCOUNTS_TABLE_NAME
                         + " ADD COLUMN " + KEY_DEFAULT_TRANSFER_ACCOUNT_UID + " varchar(255)";
 
+                String addAccountColor = " ALTER TABLE " + ACCOUNTS_TABLE_NAME
+                        + " ADD COLUMN " + KEY_COLOR_CODE + " varchar(255)";
+
                 db.execSQL(addRecurrencePeriod);
                 db.execSQL(addDefaultTransferAccount);
+                db.execSQL(addAccountColor);
 
                 oldVersion = 4;
             }
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 80d0a5b5..29b40f70 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -337,24 +337,30 @@ public void onClick(DialogInterface dialog, int which) {
 					switch (index) {
 					case 0:
 						account.setAccountType(AccountType.EXPENSE);
+                        account.setColorCode(getString(R.color.account_red));
 						break;
 						
 					case 1:
 						account.setAccountType(AccountType.INCOME);
+                        account.setColorCode(getString(R.color.account_green));
 						break;
 						
 					case 2:
 						account.setAccountType(AccountType.ASSET);
+                        account.setColorCode(getString(R.color.account_gold));
 						break;
 					case 3:
 						account.setAccountType(AccountType.EQUITY);
+                        account.setColorCode(getString(R.color.account_blue));
 						break;
 					case 4:
 						account.setAccountType(AccountType.LIABILITY);
+                        account.setColorCode(getString(R.color.account_purple));
 						break;
 						
 					default:
 						account.setAccountType(AccountType.CASH);
+                        account.setColorCode(getString(R.color.account_green));
 						break;
 					}
 					dbAdapter.addAccount(account);
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 60360c36..76d4c57c 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -24,6 +24,7 @@
 import android.content.DialogInterface;
 import android.content.Intent;
 import android.database.Cursor;
+import android.graphics.Color;
 import android.graphics.Rect;
 import android.os.AsyncTask;
 import android.os.Bundle;
@@ -673,8 +674,14 @@ public void bindView(View v, Context context, Cursor cursor) {
                     .findViewById(R.id.transactions_summary);
             new AccountBalanceTask(accountBalanceTextView, getActivity()).execute(accountId);
 
-            boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(accountId);
+            View colorStripView = v.findViewById(R.id.account_color_strip);
+            String accountColor = cursor.getString(DatabaseAdapter.COLUMN_COLOR_CODE);
+            if (accountColor != null){
+                int color = Color.parseColor(accountColor);
+                colorStripView.setBackgroundColor(color);
+            }
 
+            boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(accountId);
             ImageButton newTransactionButton = (ImageButton) v.findViewById(R.id.btn_new_transaction);
             if (isPlaceholderAccount){
                 newTransactionButton.setVisibility(View.GONE);
diff --git a/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java
new file mode 100644
index 00000000..6913faa7
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java
@@ -0,0 +1,201 @@
+/*
+ * Copyright (C) 2013 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.colorpicker;
+
+        import android.app.Activity;
+        import android.app.AlertDialog;
+        import android.app.Dialog;
+        import android.app.DialogFragment;
+        import android.os.Bundle;
+        import android.view.LayoutInflater;
+        import android.view.View;
+        import android.widget.ProgressBar;
+
+        import com.android.colorpicker.ColorPickerSwatch.OnColorSelectedListener;
+
+/**
+ * A dialog which takes in as input an array of colors and creates a palette allowing the user to
+ * select a specific color swatch, which invokes a listener.
+ */
+public class ColorPickerDialog extends DialogFragment implements OnColorSelectedListener {
+
+    public static final int SIZE_LARGE = 1;
+    public static final int SIZE_SMALL = 2;
+
+    protected AlertDialog mAlertDialog;
+
+    protected static final String KEY_TITLE_ID = "title_id";
+    protected static final String KEY_COLORS = "colors";
+    protected static final String KEY_SELECTED_COLOR = "selected_color";
+    protected static final String KEY_COLUMNS = "columns";
+    protected static final String KEY_SIZE = "size";
+
+    protected int mTitleResId = R.string.color_picker_default_title;
+    protected int[] mColors = null;
+    protected int mSelectedColor;
+    protected int mColumns;
+    protected int mSize;
+
+    private ColorPickerPalette mPalette;
+    private ProgressBar mProgress;
+
+    protected OnColorSelectedListener mListener;
+
+    public ColorPickerDialog() {
+        // Empty constructor required for dialog fragments.
+    }
+
+    public static ColorPickerDialog newInstance(int titleResId, int[] colors, int selectedColor,
+                                                int columns, int size) {
+        ColorPickerDialog ret = new ColorPickerDialog();
+        ret.initialize(titleResId, colors, selectedColor, columns, size);
+        return ret;
+    }
+
+    public void initialize(int titleResId, int[] colors, int selectedColor, int columns, int size) {
+        setArguments(titleResId, columns, size);
+        setColors(colors, selectedColor);
+    }
+
+    public void setArguments(int titleResId, int columns, int size) {
+        Bundle bundle = new Bundle();
+        bundle.putInt(KEY_TITLE_ID, titleResId);
+        bundle.putInt(KEY_COLUMNS, columns);
+        bundle.putInt(KEY_SIZE, size);
+        setArguments(bundle);
+    }
+
+    public void setOnColorSelectedListener(OnColorSelectedListener listener) {
+        mListener = listener;
+    }
+
+    @Override
+    public void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+
+        if (getArguments() != null) {
+            mTitleResId = getArguments().getInt(KEY_TITLE_ID);
+            mColumns = getArguments().getInt(KEY_COLUMNS);
+            mSize = getArguments().getInt(KEY_SIZE);
+        }
+
+        if (savedInstanceState != null) {
+            mColors = savedInstanceState.getIntArray(KEY_COLORS);
+            mSelectedColor = (Integer) savedInstanceState.getSerializable(KEY_SELECTED_COLOR);
+        }
+    }
+
+    @Override
+    public Dialog onCreateDialog(Bundle savedInstanceState) {
+        final Activity activity = getActivity();
+
+        View view = LayoutInflater.from(getActivity()).inflate(R.layout.color_picker_dialog, null);
+        mProgress = (ProgressBar) view.findViewById(android.R.id.progress);
+        mPalette = (ColorPickerPalette) view.findViewById(R.id.color_picker);
+        mPalette.init(mSize, mColumns, this);
+
+        if (mColors != null) {
+            showPaletteView();
+        }
+
+        mAlertDialog = new AlertDialog.Builder(activity)
+                .setTitle(mTitleResId)
+                .setView(view)
+                .create();
+
+        return mAlertDialog;
+    }
+
+    @Override
+    public void onColorSelected(int color) {
+        if (mListener != null) {
+            mListener.onColorSelected(color);
+        }
+
+        if (getTargetFragment() instanceof OnColorSelectedListener) {
+            final OnColorSelectedListener listener =
+                    (OnColorSelectedListener) getTargetFragment();
+            listener.onColorSelected(color);
+        }
+
+        if (color != mSelectedColor) {
+            mSelectedColor = color;
+            // Redraw palette to show checkmark on newly selected color before dismissing.
+            mPalette.drawPalette(mColors, mSelectedColor);
+        }
+
+        dismiss();
+    }
+
+    public void showPaletteView() {
+        if (mProgress != null && mPalette != null) {
+            mProgress.setVisibility(View.GONE);
+            refreshPalette();
+            mPalette.setVisibility(View.VISIBLE);
+        }
+    }
+
+    public void showProgressBarView() {
+        if (mProgress != null && mPalette != null) {
+            mProgress.setVisibility(View.VISIBLE);
+            mPalette.setVisibility(View.GONE);
+        }
+    }
+
+    public void setColors(int[] colors, int selectedColor) {
+        if (mColors != colors || mSelectedColor != selectedColor) {
+            mColors = colors;
+            mSelectedColor = selectedColor;
+            refreshPalette();
+        }
+    }
+
+    public void setColors(int[] colors) {
+        if (mColors != colors) {
+            mColors = colors;
+            refreshPalette();
+        }
+    }
+
+    public void setSelectedColor(int color) {
+        if (mSelectedColor != color) {
+            mSelectedColor = color;
+            refreshPalette();
+        }
+    }
+
+    private void refreshPalette() {
+        if (mPalette != null && mColors != null) {
+            mPalette.drawPalette(mColors, mSelectedColor);
+        }
+    }
+
+    public int[] getColors() {
+        return mColors;
+    }
+
+    public int getSelectedColor() {
+        return mSelectedColor;
+    }
+
+    @Override
+    public void onSaveInstanceState(Bundle outState) {
+        super.onSaveInstanceState(outState);
+        outState.putIntArray(KEY_COLORS, mColors);
+        outState.putSerializable(KEY_SELECTED_COLOR, mSelectedColor);
+    }
+}
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 9205a161..cd0b62c4 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -19,6 +19,7 @@
 import android.content.Context;
 import android.content.Intent;
 import android.database.Cursor;
+import android.graphics.Color;
 import android.os.Bundle;
 import android.support.v4.app.*;
 import android.support.v4.view.PagerAdapter;
@@ -123,6 +124,12 @@
      */
     private SpinnerAdapter mSpinnerAdapter;
 
+    /**
+     * This is the last known color for the title indicator.
+     * This is used to remember the color of the top level account if the child account doesn't have one.
+     */
+    private static int sLastTitleColor = R.color.title_green;
+
     private TextView mSectionHeaderTransactions;
     private TitlePageIndicator mTitlePageIndicator;
 
@@ -261,6 +268,7 @@ public void refresh(long accountId) {
     @Override
     public void refresh(){
         refresh(mAccountId);
+        setTitleIndicatorColor();
     }
 
 	@Override
@@ -276,8 +284,11 @@ protected void onCreate(Bundle savedInstanceState) {
 		mAccountId = getIntent().getLongExtra(
                 TransactionsListFragment.SELECTED_ACCOUNT_ID, -1);
 
+        mAccountsDbAdapter = new AccountsDbAdapter(this);
 		setupActionBarNavigation();
 
+        setTitleIndicatorColor();
+
 		if (getIntent().getAction().equals(Intent.ACTION_INSERT_OR_EDIT)) {
             mPager.setVisibility(View.GONE);
             mTitlePageIndicator.setVisibility(View.GONE);
@@ -297,7 +308,7 @@ protected void onCreate(Bundle savedInstanceState) {
 		mActivityRunning = true;
 	}
 
-    /**
+   /**
      * Loads the fragment for creating/editing transactions and initializes it to be displayed
      */
     private void initializeCreateOrEditTransaction() {
@@ -315,11 +326,24 @@ private void initializeCreateOrEditTransaction() {
     }
 
     /**
+     * Sets the color for the ViewPager title indicator to match the account color
+     */
+    private void setTitleIndicatorColor() {
+        String colorCode = mAccountsDbAdapter.getAccountColorCode(mAccountId);
+        if (colorCode != null){
+            sLastTitleColor = Color.parseColor(colorCode);
+        }
+
+        mTitlePageIndicator.setSelectedColor(sLastTitleColor);
+        mTitlePageIndicator.setTextColor(sLastTitleColor);
+        mTitlePageIndicator.setFooterColor(sLastTitleColor);
+    }
+
+    /**
 	 * Set up action bar navigation list and listener callbacks
 	 */
 	private void setupActionBarNavigation() {
 		// set up spinner adapter for navigation list
-		mAccountsDbAdapter = new AccountsDbAdapter(this);
 		Cursor accountsCursor = mAccountsDbAdapter.fetchAllRecords();
 		mSpinnerAdapter = new QualifiedAccountNameCursorAdapter(getSupportActionBar().getThemedContext(),
                 R.layout.sherlock_spinner_item, accountsCursor);
diff --git a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
index fee01b1d..493547ab 100644
--- a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
+++ b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
@@ -69,6 +69,10 @@
      */
     private static final String PLACEHOLDER_KEY = "placeholder";
 
+    /**
+     * Value of color slots in GnuCash account structure file
+     */
+    private static final String COLOR_KEY = "color";
 
     AccountsDbAdapter mDatabaseAdapter;
 
@@ -82,8 +86,9 @@
      */
     Account mAccount;
 
-    boolean mInPlaceHolderSlot = false;
-    boolean mISO4217Currency = false;
+    boolean mInColorSlot        = false;
+    boolean mInPlaceHolderSlot  = false;
+    boolean mISO4217Currency    = false;
 
     public GnucashAccountXmlHandler(Context context) {
         mDatabaseAdapter = new AccountsDbAdapter(context);
@@ -144,6 +149,9 @@ public void endElement(String uri, String localName, String qualifiedName) throw
             if (characterString.equals(PLACEHOLDER_KEY)){
                 mInPlaceHolderSlot = true;
             }
+            if (characterString.equals(COLOR_KEY)){
+                mInColorSlot = true;
+            }
         }
 
         if (qualifiedName.equalsIgnoreCase(TAG_SLOT_VALUE)){
@@ -154,6 +162,13 @@ public void endElement(String uri, String localName, String qualifiedName) throw
                 };
                 mInPlaceHolderSlot = false;
             }
+
+            if (mInColorSlot){
+                Log.d(LOG_TAG, "Setting account color");
+                String color = "#" + characterString.trim().replaceAll(".(.)?", "$1").replace("null", "");
+                mAccount.setColorCode(color);
+                mInColorSlot = false;
+            }
         }
         //reset the accumulated characters
         mContent.setLength(0);

From de981a1ef1b4a41453488b94e46a9f1adeb8a473 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 20 Dec 2013 13:03:55 +0100
Subject: [PATCH 31/43] Implemented setting account color from new account
 fragment Added color picker with a set of 28 colors to pick from Improved:
 Sub-accounts default to the same type as parent

---
 .../ic_colorpicker_swatch_selected.png             | Bin 0 -> 2414 bytes
 .../ic_colorpicker_swatch_selected.png             | Bin 0 -> 1662 bytes
 .../ic_colorpicker_swatch_selected.png             | Bin 0 -> 3241 bytes
 app/res/drawable/color_picker_swatch.xml           |  16 ++
 app/res/drawable/color_square.xml                  |  16 ++
 app/res/layout/color_picker_dialog.xml             |  45 +++++
 app/res/layout/color_picker_swatch.xml             |  28 ++++
 app/res/layout/fragment_new_account.xml            |  26 ++-
 app/res/values-de/strings.xml                      |   3 +
 app/res/values-el/strings.xml                      |   3 +
 app/res/values-es-rMX/strings.xml                  |   3 +
 app/res/values-es/strings.xml                      |   3 +
 app/res/values-fr/strings.xml                      |   3 +
 app/res/values-hu/strings.xml                      |   3 +
 app/res/values-it/strings.xml                      |   3 +
 app/res/values-nb/strings.xml                      |   3 +
 app/res/values-nl/strings.xml                      |   3 +
 app/res/values-pt-rBR/strings.xml                  |   3 +
 app/res/values-ru/strings.xml                      |   3 +
 app/res/values-zh/strings.xml                      |   3 +
 app/res/values/arrays.xml                          |  33 ++++
 app/res/values/dimens.xml                          |   4 +
 app/res/values/strings.xml                         |   9 +-
 app/src/org/gnucash/android/data/Account.java      |  31 +++-
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  17 +-
 .../android/ui/accounts/AddAccountFragment.java    | 117 ++++++++++++-
 .../android/ui/colorpicker/ColorPickerDialog.java  |  22 +--
 .../android/ui/colorpicker/ColorPickerPalette.java | 186 +++++++++++++++++++++
 .../android/ui/colorpicker/ColorPickerSwatch.java  |  85 ++++++++++
 .../android/ui/colorpicker/ColorSquare.java        |  44 +++++
 .../android/ui/colorpicker/ColorStateDrawable.java |  72 ++++++++
 .../android/ui/colorpicker/HsvColorComparator.java |  59 +++++++
 .../ui/transactions/NewTransactionFragment.java    |  20 ++-
 .../ui/transactions/TransactionsActivity.java      |  31 +++-
 34 files changed, 849 insertions(+), 48 deletions(-)
 create mode 100644 app/res/drawable-hdpi/ic_colorpicker_swatch_selected.png
 create mode 100644 app/res/drawable-mdpi/ic_colorpicker_swatch_selected.png
 create mode 100644 app/res/drawable-xhdpi/ic_colorpicker_swatch_selected.png
 create mode 100644 app/res/drawable/color_picker_swatch.xml
 create mode 100644 app/res/drawable/color_square.xml
 create mode 100644 app/res/layout/color_picker_dialog.xml
 create mode 100644 app/res/layout/color_picker_swatch.xml
 create mode 100644 app/res/values/arrays.xml
 create mode 100644 app/src/org/gnucash/android/ui/colorpicker/ColorPickerPalette.java
 create mode 100644 app/src/org/gnucash/android/ui/colorpicker/ColorPickerSwatch.java
 create mode 100644 app/src/org/gnucash/android/ui/colorpicker/ColorSquare.java
 create mode 100644 app/src/org/gnucash/android/ui/colorpicker/ColorStateDrawable.java
 create mode 100644 app/src/org/gnucash/android/ui/colorpicker/HsvColorComparator.java

diff --git a/app/res/drawable-hdpi/ic_colorpicker_swatch_selected.png b/app/res/drawable-hdpi/ic_colorpicker_swatch_selected.png
new file mode 100644
index 0000000000000000000000000000000000000000..3cbfe1a840d085dc922421217f0fc590d4681b5c
GIT binary patch
literal 2414
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
G@_zuE;6>m7

literal 0
HcmV?d00001

diff --git a/app/res/drawable-mdpi/ic_colorpicker_swatch_selected.png b/app/res/drawable-mdpi/ic_colorpicker_swatch_selected.png
new file mode 100644
index 0000000000000000000000000000000000000000..acbdecac269ea57935434357d986e8b974c10351
GIT binary patch
literal 1662
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
D{YdwW

literal 0
HcmV?d00001

diff --git a/app/res/drawable-xhdpi/ic_colorpicker_swatch_selected.png b/app/res/drawable-xhdpi/ic_colorpicker_swatch_selected.png
new file mode 100644
index 0000000000000000000000000000000000000000..812ff2c39cef6c2cf6a1f9a240731138de7835f1
GIT binary patch
literal 3241
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

literal 0
HcmV?d00001

diff --git a/app/res/drawable/color_picker_swatch.xml b/app/res/drawable/color_picker_swatch.xml
new file mode 100644
index 00000000..db71091a
--- /dev/null
+++ b/app/res/drawable/color_picker_swatch.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2013 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="oval"  />
\ No newline at end of file
diff --git a/app/res/drawable/color_square.xml b/app/res/drawable/color_square.xml
new file mode 100644
index 00000000..7be33333
--- /dev/null
+++ b/app/res/drawable/color_square.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2013 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle" />
\ No newline at end of file
diff --git a/app/res/layout/color_picker_dialog.xml b/app/res/layout/color_picker_dialog.xml
new file mode 100644
index 00000000..2453c0bf
--- /dev/null
+++ b/app/res/layout/color_picker_dialog.xml
@@ -0,0 +1,45 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2013 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center"
+            android:gravity="center" >
+
+    <FrameLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_gravity="center_horizontal"
+            android:gravity="center"
+            android:padding="28dp" >
+
+        <ProgressBar
+                android:id="@android:id/progress"
+                style="?android:attr/progressBarStyleLarge"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center"
+                android:gravity="center" />
+
+        <org.gnucash.android.ui.colorpicker.ColorPickerPalette
+                android:id="@+id/color_picker"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_gravity="center"
+                android:gravity="center"
+                android:visibility="gone" />
+    </FrameLayout>
+</ScrollView>
\ No newline at end of file
diff --git a/app/res/layout/color_picker_swatch.xml b/app/res/layout/color_picker_swatch.xml
new file mode 100644
index 00000000..19400fa7
--- /dev/null
+++ b/app/res/layout/color_picker_swatch.xml
@@ -0,0 +1,28 @@
+<?xml version="1.0" encoding="utf-8"?>
+<!-- Copyright (C) 2013 The Android Open Source Project
+
+     Licensed under the Apache License, Version 2.0 (the "License");
+     you may not use this file except in compliance with the License.
+     You may obtain a copy of the License at
+
+          http://www.apache.org/licenses/LICENSE-2.0
+
+     Unless required by applicable law or agreed to in writing, software
+     distributed under the License is distributed on an "AS IS" BASIS,
+     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+     See the License for the specific language governing permissions and
+     limitations under the License.
+-->
+<merge xmlns:android="http://schemas.android.com/apk/res/android">
+    <ImageView
+            android:id="@+id/color_picker_swatch"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent" />
+    <ImageView
+            android:id="@+id/color_picker_checkmark"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:src="@drawable/ic_colorpicker_swatch_selected"
+            android:scaleType="fitXY"
+            android:visibility="gone" />
+</merge>
\ No newline at end of file
diff --git a/app/res/layout/fragment_new_account.xml b/app/res/layout/fragment_new_account.xml
index a4c71b12..452f27e1 100644
--- a/app/res/layout/fragment_new_account.xml
+++ b/app/res/layout/fragment_new_account.xml
@@ -51,16 +51,32 @@
                  android:layout_marginBottom="@dimen/form_row_bottom_margin" />
 
         <TextView
-                android:text="@string/label_account_type"
+                android:text="@string/label_account_color_and_type"
                 android:layout_height="wrap_content"
                 android:layout_width="wrap_content"
                 android:layout_marginBottom="-8dp"
                 style="@style/TextAppearance.EditTransaction_LabelSmall" />
 
-        <Spinner android:id="@+id/input_account_type_spinner"
-                 android:layout_width="match_parent"
-                 android:layout_height="wrap_content"
-                 android:layout_marginBottom="@dimen/form_row_bottom_margin" />
+        <LinearLayout android:id="@+id/layout_color_type"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:layout_marginBottom="@dimen/form_row_bottom_margin">
+
+            <org.gnucash.android.ui.colorpicker.ColorSquare
+                    android:id="@+id/input_color_picker"
+                    android:layout_width="40dp"
+                    android:layout_height="40dp"
+                    android:layout_marginLeft="8dp"
+                    android:layout_gravity="center_vertical"
+                    style="?android:attr/quickContactBadgeStyleSmallWindowMedium"/>
+
+            <Spinner android:id="@+id/input_account_type_spinner"
+                     android:layout_width="wrap_content"
+                     android:layout_height="wrap_content"
+                     android:layout_weight="1"
+                     android:layout_marginLeft="@dimen/dialog_padding"
+                     android:layout_marginBottom="@dimen/form_row_bottom_margin" />
+        </LinearLayout>
 
         <CheckBox android:id="@+id/checkbox_placeholder_account"
                   android:layout_width="match_parent"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index 82bd432f..28c0a0f2 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -351,6 +351,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
@@ -374,4 +375,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 27f13a6a..dd437efd 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -365,6 +365,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d -</item>
         <item quantity="other">%d -</item>
@@ -388,4 +389,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index f89d4cc8..a588b363 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -349,6 +349,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d subcuenta</item>
         <item quantity="other">%d subcuentas</item>
@@ -372,4 +373,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index e77336c8..b0a0e1ca 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -349,6 +349,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
@@ -372,4 +373,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index 3a0960df..736d935f 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -347,6 +347,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sous-compte</item>
         <item quantity="other">%d sous-comptes</item>
@@ -370,4 +371,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index b604bab6..f3050b73 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -350,6 +350,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
@@ -373,4 +374,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 6a2585cf..3e8527be 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -350,6 +350,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
@@ -373,4 +374,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index bcdab39c..aa2f22b0 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -352,6 +352,7 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d under-konto</item>
         <item quantity="other">%d under-kontoer</item>
@@ -375,4 +376,6 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index ec173452..d9cf257f 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -351,6 +351,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-account</item>
         <item quantity="other">%d sub-accounts</item>
@@ -374,4 +375,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 79e6c612..2fe84864 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -349,6 +349,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-contas</item>
         <item quantity="other">%d sub-contas</item>
@@ -372,4 +373,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 7954e682..0889faf3 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -347,6 +347,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
@@ -370,4 +371,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index c1f31a64..22b6e71f 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -347,6 +347,7 @@
     <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
     <string name="label_placeholder_account">Placeholder account</string>
     <string name="label_default_transfer_account">Default Transfer Account</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d </item>
         <item quantity="other">%d </item>
@@ -370,4 +371,6 @@
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
 </resources>
diff --git a/app/res/values/arrays.xml b/app/res/values/arrays.xml
new file mode 100644
index 00000000..29fff55f
--- /dev/null
+++ b/app/res/values/arrays.xml
@@ -0,0 +1,33 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <array name="account_colors">
+        <item>#0B57A4</item> <!-- aqua -->
+        <item>#2A82D7</item> <!-- blue -->
+        <item>#3714A4</item> <!-- blue violet -->
+        <item>#964B00</item> <!-- brown -->
+        <item>#A50516</item> <!-- crimson -->
+        <item>#FB3C8F</item> <!-- deep pink -->
+        <item>#1B4F15</item> <!-- forest green -->
+        <item>#A51497</item> <!-- fuchsia -->
+        <item>#686868</item> <!-- gray -->
+        <item>#3AA03A</item> <!-- green -->
+        <item>#FF0080</item> <!-- hot pink -->
+        <item>#8BBDEB</item> <!-- light blue -->
+        <item>#FC6A6C</item> <!-- light red -->
+        <item>#FC1CAD</item> <!-- magenta -->
+        <item>#7F2B14</item> <!-- maroon -->
+        <item>#000066</item> <!-- midnight blue -->
+        <item>#2B4726</item> <!-- olive -->
+        <item>#FD7222</item> <!-- orange -->
+        <item>#FC331C</item> <!-- orange red -->
+        <item>#FC5AB8</item> <!-- pink -->
+        <item>#AF31F2</item> <!-- purple -->
+        <item>#FC0D1B</item> <!-- red -->
+        <item>#D7462C</item> <!-- red orange -->
+        <item>#F69E94</item> <!-- salmon -->
+        <item>#2B8A6D</item> <!-- teal -->
+        <item>#6B28CE</item> <!-- violet -->
+        <item>#6041FA</item> <!-- violet blue -->
+        <item>#FEC42E</item> <!-- yellow orange -->
+    </array>
+</resources>
\ No newline at end of file
diff --git a/app/res/values/dimens.xml b/app/res/values/dimens.xml
index 5c514f5e..b13f1e13 100644
--- a/app/res/values/dimens.xml
+++ b/app/res/values/dimens.xml
@@ -27,4 +27,8 @@
     <dimen name="section_header_height">20dp</dimen>
     <dimen name="form_row_bottom_margin">10dp</dimen>
     <dimen name="strip_width">5dp</dimen>
+    <dimen name="color_swatch_large">64dip</dimen>
+    <dimen name="color_swatch_small">48dip</dimen>
+    <dimen name="color_swatch_margins_large">8dip</dimen>
+    <dimen name="color_swatch_margins_small">4dip</dimen>
 </resources>
\ No newline at end of file
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 71805a8f..34ed60bf 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -15,7 +15,7 @@
  limitations under the License.
 -->
 
-<resources>
+<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
     <string name="app_name">GnuCash</string>
     <string name="title_add_account">Create Account</string>
     <string name="title_edit_account">Edit Account</string>
@@ -603,4 +603,11 @@
         <item>604800000</item>
         <item>2630000000</item>
     </string-array>
+    <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
+    <string name="color_picker_default_title">Select a Color</string>
+    <!-- Content description for a color square. -->
+    <string name="color_swatch_description">Color <xliff:g id="color_index" example="14">%1$d</xliff:g></string>
+    <!-- Content description for a selected color square. -->
+    <string name="color_swatch_description_selected">Color <xliff:g id="color_index" example="14">%1$d</xliff:g> selected</string>
+    <string name="label_account_color_and_type">Account Color &amp; Type</string>
 </resources>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index a108b979..2920b05a 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
@@ -22,6 +22,7 @@
 import java.util.List;
 import java.util.Locale;
 import java.util.UUID;
+import java.util.regex.Pattern;
 
 import android.graphics.Color;
 import org.gnucash.android.app.GnuCashApplication;
@@ -326,20 +327,36 @@ public Money getBalance(){
      * Returns the color code of the account in the format #rrggbb
      * @return Color code of the account
      */
-    public String getColorCode() {
+    public String getColorHexCode() {
         return mColorCode;
     }
 
     /**
      * Sets the color code of the account.
-     * @param colorCode Color code to be set in the format #rrggbb
+     * @param colorCode Color code to be set in the format #rrggbb or #rgb
      * @throws java.lang.IllegalArgumentException if the color code is not properly formatted
      */
     public void setColorCode(String colorCode) {
-        //TODO: Proper regex validation
-        if (!colorCode.startsWith("#") || colorCode.length() < 4 || colorCode.length() > 9){
-            throw new IllegalArgumentException("Invalid color code for account");
-        }
+        if (colorCode == null)
+            return;
+
+        //TODO: Allow use of #aarrggbb format as well
+
+        /*
+            ^             anchor for start of string
+            #             the literal #
+            (             start of group
+            ?:            indicate a non-capturing group that doesn't generate backreferences
+            [0-9a-fA-F]   hexadecimal digit
+            {3}           three times
+            )             end of group
+            {1,2}         repeat either once or twice
+            $             anchor for end of string
+         */
+        String colorHexRegex = "^#(?:[0-9a-fA-F]{3}){1,2}$";
+        if (!Pattern.matches(colorHexRegex, colorCode))
+            throw new IllegalArgumentException("Invalid color hex code");
+
         this.mColorCode = colorCode;
     }
 
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 1a6e4f98..6a0c6724 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -76,7 +76,7 @@ public long addAccount(Account account){
 		contentValues.put(DatabaseHelper.KEY_PARENT_ACCOUNT_UID, account.getParentUID());
         contentValues.put(DatabaseHelper.KEY_DEFAULT_TRANSFER_ACCOUNT_UID, account.getDefaultTransferAccountUID());
         contentValues.put(DatabaseHelper.KEY_PLACEHOLDER, account.isPlaceholderAccount() ? 1 : 0);
-        contentValues.put(DatabaseHelper.KEY_COLOR_CODE, account.getColorCode());
+        contentValues.put(DatabaseHelper.KEY_COLOR_CODE, account.getColorHexCode());
 
 		long rowId = -1;
 		if ((rowId = getAccountID(account.getUID())) > 0){
@@ -226,8 +226,19 @@ public String getParentAccountUID(String uid){
 			cursor.close();
 		}
 		return result;
-	}	
-	
+	}
+
+    /**
+     * Returns the  unique ID of the parent account of the account with database ID <code>id</code>
+     * If the account has no parent, null is returned.
+     * @param id DB record ID of account . Should not be null
+     * @return DB record UID of the parent account, null if the account has no parent
+     * @see #getParentAccountUID(String)
+     */
+    public String getParentAccountUID(long id){
+        return getParentAccountUID(getAccountUID(id));
+    }
+
 	/**
 	 * Retrieves an account object from a database with database ID <code>rowId</code>
 	 * @param rowId Identifier of the account record to be retrieved
diff --git a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
index c2ca9b37..974660a7 100644
--- a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
@@ -23,12 +23,19 @@
 import android.app.Activity;
 import android.content.Intent;
 import android.content.SharedPreferences;
+import android.content.res.Resources;
+import android.content.res.TypedArray;
+import android.graphics.Color;
 import android.preference.PreferenceManager;
+import android.support.v4.app.FragmentManager;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.db.DatabaseHelper;
+import org.gnucash.android.ui.colorpicker.ColorPickerDialog;
+import org.gnucash.android.ui.colorpicker.ColorPickerSwatch;
+import org.gnucash.android.ui.colorpicker.ColorSquare;
 import org.gnucash.android.ui.transactions.TransactionsListFragment;
 
 import android.content.Context;
@@ -59,7 +66,12 @@
  */
 public class AddAccountFragment extends SherlockFragment {
 
-	/**
+    /**
+     * Tag for the color picker dialog fragment
+     */
+    public static final String COLOR_PICKER_DIALOG_TAG = "color_picker_dialog";
+
+    /**
 	 * EditText for the name of the account to be created/edited
 	 */
 	private EditText mNameEditText;
@@ -149,6 +161,23 @@
      */
     private boolean mUseDoubleEntry;
 
+    /**
+     * Default to transparent
+     */
+    private String mSelectedColor = null;
+
+    /**
+     * Trigger for color picker dialog
+     */
+    private ColorSquare mColorSquare;
+
+    private ColorPickerSwatch.OnColorSelectedListener mColorSelectedListener = new ColorPickerSwatch.OnColorSelectedListener() {
+        @Override
+        public void onColorSelected(int color) {
+            mColorSquare.setBackgroundColor(color);
+            mSelectedColor = String.format("#%06X", (0xFFFFFF & color));
+        }
+    };
 
     /**
 	 * Default constructor
@@ -219,6 +248,14 @@ public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {
             }
         });
 
+        mColorSquare = (ColorSquare) view.findViewById(R.id.input_color_picker);
+        mColorSquare.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View view) {
+                showColorPickerDialog();
+            }
+        });
+
 		return view;
 	}
 	
@@ -278,10 +315,9 @@ private void initializeViewsWithAccount(Account account){
         }
 
         mPlaceholderCheckBox.setChecked(account.isPlaceholderAccount());
+        initializeColorSquarePreview(account.getColorHexCode());
 
-        String[] accountTypeEntries = getResources().getStringArray(R.array.account_type_entries);
-        int accountTypeIndex = Arrays.asList(accountTypeEntries).indexOf(account.getAccountType().name());
-        mAccountTypeSpinner.setSelection(accountTypeIndex);
+        setAccountTypeSelection(account.getAccountType());
     }
 
     /**
@@ -289,9 +325,41 @@ private void initializeViewsWithAccount(Account account){
      */
     private void initializeViews(){
         setSelectedCurrency(Money.DEFAULT_CURRENCY_CODE);
-
+        mColorSquare.setBackgroundColor(Color.LTGRAY);
         long parentAccountId = getArguments().getLong(AccountsListFragment.ARG_PARENT_ACCOUNT_ID);
         setParentAccountSelection(parentAccountId);
+
+        /* This snippet causes the child account to default to same color as parent. Not sure if we want that
+
+        if (parentAccountId > 0) {
+            //child accounts by default have same type as the parent
+            setAccountTypeSelection(mAccountsDbAdapter.getAccountType(parentAccountId));
+            String colorHex = mAccountsDbAdapter.getAccountColorCode(parentAccountId);
+            initializeColorSquarePreview(colorHex);
+            mSelectedColor = colorHex;
+        }
+        */
+    }
+
+    /**
+     * Initializes the preview of the color picker (color square) to the specified color
+     * @param colorHex Color of the format #rgb or #rrggbb
+     */
+    private void initializeColorSquarePreview(String colorHex){
+        if (colorHex != null)
+            mColorSquare.setBackgroundColor(Color.parseColor(colorHex));
+        else
+            mColorSquare.setBackgroundColor(Color.LTGRAY);
+    }
+
+    /**
+     * Selects the corresponding account type in the spinner
+     * @param accountType AccountType to be set
+     */
+    private void setAccountTypeSelection(Account.AccountType accountType){
+        String[] accountTypeEntries = getResources().getStringArray(R.array.account_type_entries);
+        int accountTypeIndex = Arrays.asList(accountTypeEntries).indexOf(accountType.name());
+        mAccountTypeSpinner.setSelection(accountTypeIndex);
     }
 
     /**
@@ -354,7 +422,43 @@ private void setDefaultTransferAccountSelection(long defaultTransferAccountId){
         }
     }
 
-	@Override
+    /**
+     * Returns an array of colors used for accounts.
+     * The array returned has the actual color values and not the resource ID.
+     * @return Integer array of colors used for accounts
+     */
+    private int[] getAccountColorOptions(){
+        Resources res = getResources();
+        TypedArray colorTypedArray = res.obtainTypedArray(R.array.account_colors);
+        int[] colorOptions = new int[colorTypedArray.length()];
+        for (int i = 0; i < colorTypedArray.length(); i++) {
+             int color = colorTypedArray.getColor(i, R.color.title_green);
+             colorOptions[i] = color;
+        }
+        return colorOptions;
+    }
+    /**
+     * Shows the color picker dialog
+     */
+    private void showColorPickerDialog(){
+        FragmentManager fragmentManager = getActivity().getSupportFragmentManager();
+        int currentColor = Color.LTGRAY;
+        if (mAccount != null){
+            String accountColor = mAccount.getColorHexCode();
+            if (accountColor != null){
+                currentColor = Color.parseColor(accountColor);
+            }
+        }
+
+        ColorPickerDialog colorPickerDialogFragment = ColorPickerDialog.newInstance(
+                R.string.color_picker_default_title,
+                getAccountColorOptions(),
+                currentColor, 4, 12);
+        colorPickerDialogFragment.setOnColorSelectedListener(mColorSelectedListener);
+        colorPickerDialogFragment.show(fragmentManager, COLOR_PICKER_DIALOG_TAG);
+    }
+
+    @Override
 	public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {		
 		super.onCreateOptionsMenu(menu, inflater);
 		inflater.inflate(R.menu.default_save_actions, menu);
@@ -486,6 +590,7 @@ private void saveAccount() {
         mAccount.setAccountType(Account.AccountType.valueOf(accountTypeEntries[selectedAccountType]));
 
         mAccount.setPlaceHolderFlag(mPlaceholderCheckBox.isChecked());
+        mAccount.setColorCode(mSelectedColor);
 
 		if (mParentCheckBox.isChecked()){
 			long id = mParentAccountSpinner.getSelectedItemId();
diff --git a/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java
index 6913faa7..add26068 100644
--- a/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java
+++ b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerDialog.java
@@ -16,22 +16,22 @@
 
 package org.gnucash.android.ui.colorpicker;
 
-        import android.app.Activity;
-        import android.app.AlertDialog;
-        import android.app.Dialog;
-        import android.app.DialogFragment;
-        import android.os.Bundle;
-        import android.view.LayoutInflater;
-        import android.view.View;
-        import android.widget.ProgressBar;
-
-        import com.android.colorpicker.ColorPickerSwatch.OnColorSelectedListener;
+import android.app.Activity;
+import android.app.AlertDialog;
+import android.app.Dialog;
+import android.os.Bundle;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.widget.ProgressBar;
+import com.actionbarsherlock.app.SherlockDialogFragment;
+import org.gnucash.android.R;
+import org.gnucash.android.ui.colorpicker.ColorPickerSwatch.OnColorSelectedListener;
 
 /**
  * A dialog which takes in as input an array of colors and creates a palette allowing the user to
  * select a specific color swatch, which invokes a listener.
  */
-public class ColorPickerDialog extends DialogFragment implements OnColorSelectedListener {
+public class ColorPickerDialog extends SherlockDialogFragment implements OnColorSelectedListener {
 
     public static final int SIZE_LARGE = 1;
     public static final int SIZE_SMALL = 2;
diff --git a/app/src/org/gnucash/android/ui/colorpicker/ColorPickerPalette.java b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerPalette.java
new file mode 100644
index 00000000..7a5c0572
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerPalette.java
@@ -0,0 +1,186 @@
+/*
+ * Copyright (C) 2013 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.colorpicker;
+
+
+import android.content.Context;
+import android.content.res.Resources;
+import android.util.AttributeSet;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TableLayout;
+import android.widget.TableRow;
+
+import org.gnucash.android.R;
+import org.gnucash.android.ui.colorpicker.ColorPickerSwatch.OnColorSelectedListener;
+
+/**
+ * A color picker custom view which creates an grid of color squares.  The number of squares per
+ * row (and the padding between the squares) is determined by the user.
+ */
+public class ColorPickerPalette extends TableLayout {
+
+    public OnColorSelectedListener mOnColorSelectedListener;
+
+    private String mDescription;
+    private String mDescriptionSelected;
+
+    private int mSwatchLength;
+    private int mMarginSize;
+    private int mNumColumns;
+
+    public ColorPickerPalette(Context context, AttributeSet attrs) {
+        super(context, attrs);
+    }
+
+    public ColorPickerPalette(Context context) {
+        super(context);
+    }
+
+    /**
+     * Initialize the size, columns, and listener.  Size should be a pre-defined size (SIZE_LARGE
+     * or SIZE_SMALL) from ColorPickerDialogFragment.
+     */
+    public void init(int size, int columns, OnColorSelectedListener listener) {
+        mNumColumns = columns;
+        Resources res = getResources();
+        if (size == ColorPickerDialog.SIZE_LARGE) {
+            mSwatchLength = res.getDimensionPixelSize(R.dimen.color_swatch_large);
+            mMarginSize = res.getDimensionPixelSize(R.dimen.color_swatch_margins_large);
+        } else {
+            mSwatchLength = res.getDimensionPixelSize(R.dimen.color_swatch_small);
+            mMarginSize = res.getDimensionPixelSize(R.dimen.color_swatch_margins_small);
+        }
+        mOnColorSelectedListener = listener;
+
+        mDescription = res.getString(R.string.color_swatch_description);
+        mDescriptionSelected = res.getString(R.string.color_swatch_description_selected);
+    }
+
+    private TableRow createTableRow() {
+        TableRow row = new TableRow(getContext());
+        ViewGroup.LayoutParams params = new ViewGroup.LayoutParams(LayoutParams.WRAP_CONTENT,
+                LayoutParams.WRAP_CONTENT);
+        row.setLayoutParams(params);
+        return row;
+    }
+
+    /**
+     * Adds swatches to table in a serpentine format.
+     */
+    public void drawPalette(int[] colors, int selectedColor) {
+        if (colors == null) {
+            return;
+        }
+
+        this.removeAllViews();
+        int tableElements = 0;
+        int rowElements = 0;
+        int rowNumber = 0;
+
+        // Fills the table with swatches based on the array of colors.
+        TableRow row = createTableRow();
+        for (int color : colors) {
+            tableElements++;
+
+            View colorSwatch = createColorSwatch(color, selectedColor);
+            setSwatchDescription(rowNumber, tableElements, rowElements, color == selectedColor,
+                    colorSwatch);
+            addSwatchToRow(row, colorSwatch, rowNumber);
+
+            rowElements++;
+            if (rowElements == mNumColumns) {
+                addView(row);
+                row = createTableRow();
+                rowElements = 0;
+                rowNumber++;
+            }
+        }
+
+        // Create blank views to fill the row if the last row has not been filled.
+        if (rowElements > 0) {
+            while (rowElements != mNumColumns) {
+                addSwatchToRow(row, createBlankSpace(), rowNumber);
+                rowElements++;
+            }
+            addView(row);
+        }
+    }
+
+    /**
+     * Appends a swatch to the end of the row for even-numbered rows (starting with row 0),
+     * to the beginning of a row for odd-numbered rows.
+     */
+    private void addSwatchToRow(TableRow row, View swatch, int rowNumber) {
+        if (rowNumber % 2 == 0) {
+            row.addView(swatch);
+        } else {
+            row.addView(swatch, 0);
+        }
+    }
+
+    /**
+     * Add a content description to the specified swatch view. Because the colors get added in a
+     * snaking form, every other row will need to compensate for the fact that the colors are added
+     * in an opposite direction from their left->right/top->bottom order, which is how the system
+     * will arrange them for accessibility purposes.
+     */
+    private void setSwatchDescription(int rowNumber, int index, int rowElements, boolean selected,
+                                      View swatch) {
+        int accessibilityIndex;
+        if (rowNumber % 2 == 0) {
+            // We're in a regular-ordered row
+            accessibilityIndex = index;
+        } else {
+            // We're in a backwards-ordered row.
+            int rowMax = ((rowNumber + 1) * mNumColumns);
+            accessibilityIndex = rowMax - rowElements;
+        }
+
+        String description;
+        if (selected) {
+            description = String.format(mDescriptionSelected, accessibilityIndex);
+        } else {
+            description = String.format(mDescription, accessibilityIndex);
+        }
+        swatch.setContentDescription(description);
+    }
+
+    /**
+     * Creates a blank space to fill the row.
+     */
+    private ImageView createBlankSpace() {
+        ImageView view = new ImageView(getContext());
+        TableRow.LayoutParams params = new TableRow.LayoutParams(mSwatchLength, mSwatchLength);
+        params.setMargins(mMarginSize, mMarginSize, mMarginSize, mMarginSize);
+        view.setLayoutParams(params);
+        return view;
+    }
+
+    /**
+     * Creates a color swatch.
+     */
+    private ColorPickerSwatch createColorSwatch(int color, int selectedColor) {
+        ColorPickerSwatch view = new ColorPickerSwatch(getContext(), color,
+                color == selectedColor, mOnColorSelectedListener);
+        TableRow.LayoutParams params = new TableRow.LayoutParams(mSwatchLength, mSwatchLength);
+        params.setMargins(mMarginSize, mMarginSize, mMarginSize, mMarginSize);
+        view.setLayoutParams(params);
+        return view;
+    }
+}
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/colorpicker/ColorPickerSwatch.java b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerSwatch.java
new file mode 100644
index 00000000..8c0f768d
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/colorpicker/ColorPickerSwatch.java
@@ -0,0 +1,85 @@
+/*
+ * Copyright (C) 2013 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.colorpicker;
+
+
+import android.content.Context;
+import android.graphics.PorterDuff.Mode;
+import android.graphics.drawable.ColorDrawable;
+import android.graphics.drawable.Drawable;
+import android.graphics.drawable.LayerDrawable;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.widget.FrameLayout;
+import android.widget.ImageView;
+import org.gnucash.android.R;
+
+/**
+ * Creates a circular swatch of a specified color.  Adds a checkmark if marked as checked.
+ */
+public class ColorPickerSwatch extends FrameLayout implements View.OnClickListener {
+    private int mColor;
+    private ImageView mSwatchImage;
+    private ImageView mCheckmarkImage;
+    private OnColorSelectedListener mOnColorSelectedListener;
+
+    /**
+     * Interface for a callback when a color square is selected.
+     */
+    public interface OnColorSelectedListener {
+
+        /**
+         * Called when a specific color square has been selected.
+         */
+        public void onColorSelected(int color);
+    }
+
+    public ColorPickerSwatch(Context context, int color, boolean checked,
+                             OnColorSelectedListener listener) {
+        super(context);
+        mColor = color;
+        mOnColorSelectedListener = listener;
+
+        LayoutInflater.from(context).inflate(R.layout.color_picker_swatch, this);
+        mSwatchImage = (ImageView) findViewById(R.id.color_picker_swatch);
+        mCheckmarkImage = (ImageView) findViewById(R.id.color_picker_checkmark);
+        setColor(color);
+        setChecked(checked);
+        setOnClickListener(this);
+    }
+
+    protected void setColor(int color) {
+        Drawable[] colorDrawable = new Drawable[]
+                {getContext().getResources().getDrawable(R.drawable.color_picker_swatch)};
+        mSwatchImage.setImageDrawable(new ColorStateDrawable(colorDrawable, color));
+    }
+
+    private void setChecked(boolean checked) {
+        if (checked) {
+            mCheckmarkImage.setVisibility(View.VISIBLE);
+        } else {
+            mCheckmarkImage.setVisibility(View.GONE);
+        }
+    }
+
+    @Override
+    public void onClick(View v) {
+        if (mOnColorSelectedListener != null) {
+            mOnColorSelectedListener.onColorSelected(mColor);
+        }
+    }
+}
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/colorpicker/ColorSquare.java b/app/src/org/gnucash/android/ui/colorpicker/ColorSquare.java
new file mode 100644
index 00000000..c123988a
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/colorpicker/ColorSquare.java
@@ -0,0 +1,44 @@
+package org.gnucash.android.ui.colorpicker;
+
+/*
+ * Copyright (C) 2013 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+import android.content.Context;
+import android.graphics.drawable.Drawable;
+import android.util.AttributeSet;
+import android.widget.QuickContactBadge;
+import org.gnucash.android.R;
+
+/**
+ * The color square used as an entry point to launching the {@link ColorPickerDialog}.
+ */
+public class ColorSquare extends QuickContactBadge {
+
+    public ColorSquare(Context context, AttributeSet attrs) {
+        super(context, attrs);
+    }
+
+    public ColorSquare(Context context, AttributeSet attrs, int defStyle) {
+        super(context, attrs, defStyle);
+    }
+
+    @Override
+    public void setBackgroundColor(int color) {
+        Drawable[] colorDrawable = new Drawable[] {
+                getContext().getResources().getDrawable(R.drawable.color_square) };
+        setImageDrawable(new ColorStateDrawable(colorDrawable, color));
+    }
+}
diff --git a/app/src/org/gnucash/android/ui/colorpicker/ColorStateDrawable.java b/app/src/org/gnucash/android/ui/colorpicker/ColorStateDrawable.java
new file mode 100644
index 00000000..35fd180a
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/colorpicker/ColorStateDrawable.java
@@ -0,0 +1,72 @@
+/*
+ * Copyright (C) 2013 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.colorpicker;
+
+        import android.graphics.Color;
+        import android.graphics.PorterDuff;
+        import android.graphics.drawable.Drawable;
+        import android.graphics.drawable.LayerDrawable;
+
+/**
+ * A drawable which sets its color filter to a color specified by the user, and changes to a
+ * slightly darker color when pressed or focused.
+ */
+public class ColorStateDrawable extends LayerDrawable {
+
+    private static final float PRESSED_STATE_MULTIPLIER = 0.70f;
+
+    private int mColor;
+
+    public ColorStateDrawable(Drawable[] layers, int color) {
+        super(layers);
+        mColor = color;
+    }
+
+    @Override
+    protected boolean onStateChange(int[] states) {
+        boolean pressedOrFocused = false;
+        for (int state : states) {
+            if (state == android.R.attr.state_pressed || state == android.R.attr.state_focused) {
+                pressedOrFocused = true;
+                break;
+            }
+        }
+
+        if (pressedOrFocused) {
+            super.setColorFilter(getPressedColor(mColor), PorterDuff.Mode.SRC_ATOP);
+        } else {
+            super.setColorFilter(mColor, PorterDuff.Mode.SRC_ATOP);
+        }
+
+        return super.onStateChange(states);
+    }
+
+    /**
+     * Given a particular color, adjusts its value by a multiplier.
+     */
+    private int getPressedColor(int color) {
+        float[] hsv = new float[3];
+        Color.colorToHSV(color, hsv);
+        hsv[2] = hsv[2] * PRESSED_STATE_MULTIPLIER;
+        return Color.HSVToColor(hsv);
+    }
+
+    @Override
+    public boolean isStateful() {
+        return true;
+    }
+}
diff --git a/app/src/org/gnucash/android/ui/colorpicker/HsvColorComparator.java b/app/src/org/gnucash/android/ui/colorpicker/HsvColorComparator.java
new file mode 100644
index 00000000..17b3d408
--- /dev/null
+++ b/app/src/org/gnucash/android/ui/colorpicker/HsvColorComparator.java
@@ -0,0 +1,59 @@
+/*
+ * Copyright (C) 2013 The Android Open Source Project
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.gnucash.android.ui.colorpicker;
+import android.graphics.Color;
+import java.util.Comparator;
+
+/**
+ * A color comparator which compares based on hue, saturation, and value.
+ */
+public class HsvColorComparator implements Comparator<Integer> {
+
+    @Override
+    public int compare(Integer lhs, Integer rhs) {
+        float[] hsv = new float[3];
+        Color.colorToHSV(lhs, hsv);
+        float hue1 = hsv[0];
+        float sat1 = hsv[1];
+        float val1 = hsv[2];
+
+        float[] hsv2 = new float[3];
+        Color.colorToHSV(rhs, hsv2);
+        float hue2 = hsv2[0];
+        float sat2 = hsv2[1];
+        float val2 = hsv2[2];
+
+        if (hue1 < hue2) {
+            return 1;
+        } else if (hue1 > hue2) {
+            return -1;
+        } else {
+            if (sat1 < sat2) {
+                return 1;
+            } else if (sat1 > sat2) {
+                return -1;
+            } else {
+                if (val1 < val2) {
+                    return 1;
+                } else if (val1 > val2) {
+                    return -1;
+                }
+            }
+        }
+        return 0;
+    }
+}
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index 5b653276..9dd43748 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -182,7 +182,9 @@
      */
     Account.AccountType mAccountType;
 
-
+    /**
+     * Spinner for marking the transaction as a recurring transaction
+     */
     Spinner mRecurringTransactionSpinner;
 
 	/**
@@ -193,14 +195,14 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
 			Bundle savedInstanceState) {
 		View v = inflater.inflate(R.layout.fragment_new_transaction, container, false);
 		
-		mNameEditText = (AutoCompleteTextView) v.findViewById(R.id.input_transaction_name);
-		mDescriptionEditText = (EditText) v.findViewById(R.id.input_description);
-		mDateTextView = (TextView) v.findViewById(R.id.input_date);
-		mTimeTextView = (TextView) v.findViewById(R.id.input_time);
-		mAmountEditText = (EditText) v.findViewById(R.id.input_transaction_amount);		
-		mCurrencyTextView = (TextView) v.findViewById(R.id.currency_symbol);
-		mTransactionTypeButton = (ToggleButton) v.findViewById(R.id.input_transaction_type);
-		mDoubleAccountSpinner = (Spinner) v.findViewById(R.id.input_double_entry_accounts_spinner);
+		mNameEditText           = (AutoCompleteTextView) v.findViewById(R.id.input_transaction_name);
+		mDescriptionEditText    = (EditText) v.findViewById(R.id.input_description);
+		mDateTextView           = (TextView) v.findViewById(R.id.input_date);
+		mTimeTextView           = (TextView) v.findViewById(R.id.input_time);
+		mAmountEditText         = (EditText) v.findViewById(R.id.input_transaction_amount);
+		mCurrencyTextView       = (TextView) v.findViewById(R.id.currency_symbol);
+		mTransactionTypeButton  = (ToggleButton) v.findViewById(R.id.input_transaction_type);
+		mDoubleAccountSpinner   = (Spinner) v.findViewById(R.id.input_double_entry_accounts_spinner);
 
         mRecurringTransactionSpinner = (Spinner) v.findViewById(R.id.input_recurring_transaction_spinner);
 		return v;
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index cd0b62c4..775c8eaa 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -128,7 +128,7 @@
      * This is the last known color for the title indicator.
      * This is used to remember the color of the top level account if the child account doesn't have one.
      */
-    private static int sLastTitleColor = R.color.title_green;
+    private static int sLastTitleColor;
 
     private TextView mSectionHeaderTransactions;
     private TitlePageIndicator mTitlePageIndicator;
@@ -158,8 +158,9 @@ public boolean onNavigationItemSelected(int position, long itemId) {
 	};
 
 
-
-
+    /**
+     * Adapter for managing the sub-account and transaction fragment pages in the accounts view
+     */
     private class AccountViewPagerAdapter extends FragmentStatePagerAdapter {
 
         public AccountViewPagerAdapter(FragmentManager fm){
@@ -285,9 +286,8 @@ protected void onCreate(Bundle savedInstanceState) {
                 TransactionsListFragment.SELECTED_ACCOUNT_ID, -1);
 
         mAccountsDbAdapter = new AccountsDbAdapter(this);
-		setupActionBarNavigation();
 
-        setTitleIndicatorColor();
+        setupActionBarNavigation();
 
 		if (getIntent().getAction().equals(Intent.ACTION_INSERT_OR_EDIT)) {
             mPager.setVisibility(View.GONE);
@@ -308,7 +308,7 @@ protected void onCreate(Bundle savedInstanceState) {
 		mActivityRunning = true;
 	}
 
-   /**
+    /**
      * Loads the fragment for creating/editing transactions and initializes it to be displayed
      */
     private void initializeCreateOrEditTransaction() {
@@ -322,14 +322,32 @@ private void initializeCreateOrEditTransaction() {
             mSectionHeaderTransactions.setText(R.string.title_add_transaction);
             args.putLong(TransactionsListFragment.SELECTED_ACCOUNT_ID, mAccountId);
         }
+        mSectionHeaderTransactions.setBackgroundColor(sLastTitleColor);
         showTransactionFormFragment(args);
     }
 
+    @Override
+    protected void onResume() {
+        super.onResume();
+        setTitleIndicatorColor();
+    }
+
     /**
      * Sets the color for the ViewPager title indicator to match the account color
      */
     private void setTitleIndicatorColor() {
+        //Basically, if we are in a top level account, use the default title color.
+        //but propagate a parent account's title color to children who don't have own color
+        String parentAccountUID = mAccountsDbAdapter.getParentAccountUID(mAccountId);
         String colorCode = mAccountsDbAdapter.getAccountColorCode(mAccountId);
+        if (parentAccountUID == null
+                || parentAccountUID.equals(mAccountsDbAdapter.getGnuCashRootAccountUID())) {
+            sLastTitleColor = getResources().getColor(R.color.title_green);
+        } else {
+            String parentColor = mAccountsDbAdapter.getAccountColorCode(mAccountsDbAdapter.getAccountID(parentAccountUID));
+            sLastTitleColor = parentColor != null ? Color.parseColor(parentColor) : sLastTitleColor;
+        }
+
         if (colorCode != null){
             sLastTitleColor = Color.parseColor(colorCode);
         }
@@ -337,6 +355,7 @@ private void setTitleIndicatorColor() {
         mTitlePageIndicator.setSelectedColor(sLastTitleColor);
         mTitlePageIndicator.setTextColor(sLastTitleColor);
         mTitlePageIndicator.setFooterColor(sLastTitleColor);
+        mSectionHeaderTransactions.setBackgroundColor(sLastTitleColor);
     }
 
     /**

From f00a9755838bff771b8877ca327d0349659f88e7 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 24 Jan 2014 13:28:28 +0100
Subject: [PATCH 32/43] Feature: Delete account hierarchy (as option in delete
 confirmation dialog) Improved: Broaden the mime type of accepted files during
 import. This should enable selecting the import file with a wider range of
 apps Fixed: Crash when deleting account from account list. The reloading of
 the list is now less jarring and more smooth as it should be Fixed: Account
 color displayed on wrong account (due to view reuse)

---
 app/res/layout/dialog_account_delete.xml           |  7 +++
 app/res/values-de/strings.xml                      |  1 +
 app/res/values-el/strings.xml                      |  1 +
 app/res/values-es-rMX/strings.xml                  |  1 +
 app/res/values-es/strings.xml                      |  1 +
 app/res/values-fr/strings.xml                      |  1 +
 app/res/values-hu/strings.xml                      |  1 +
 app/res/values-it/strings.xml                      |  1 +
 app/res/values-nb/strings.xml                      |  1 +
 app/res/values-nl/strings.xml                      |  1 +
 app/res/values-pt-rBR/strings.xml                  |  1 +
 app/res/values-ru/strings.xml                      |  1 +
 app/res/values-zh/strings.xml                      |  1 +
 app/res/values/strings.xml                         |  1 +
 .../org/gnucash/android/db/AccountsDbAdapter.java  | 60 ++++++++++++++++++----
 .../org/gnucash/android/export/qif/QifHelper.java  |  1 -
 .../android/ui/accounts/AccountsListFragment.java  | 44 ++++++++++------
 .../android/ui/settings/SettingsActivity.java      |  4 +-
 18 files changed, 101 insertions(+), 28 deletions(-)
 create mode 100644 app/res/layout/dialog_account_delete.xml

diff --git a/app/res/layout/dialog_account_delete.xml b/app/res/layout/dialog_account_delete.xml
new file mode 100644
index 00000000..0638ae49
--- /dev/null
+++ b/app/res/layout/dialog_account_delete.xml
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+
+<CheckBox xmlns:android="http://schemas.android.com/apk/res/android"
+          android:id="@+id/checkbox_delete_sub_accounts"
+          android:layout_width="match_parent"
+          android:layout_height="match_parent"
+          android:text="@string/label_delete_sub_accounts" />
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index 28c0a0f2..2f7df41a 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -377,4 +377,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index dd437efd..36a15629 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -391,4 +391,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index a588b363..a85e571a 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -375,4 +375,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index b0a0e1ca..6e19f95b 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -375,4 +375,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index 736d935f..feea7055 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -373,4 +373,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index f3050b73..32bc6988 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -376,4 +376,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 3e8527be..39e726da 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -376,4 +376,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index aa2f22b0..559ce807 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -378,4 +378,5 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index d9cf257f..d7c02fe0 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -377,4 +377,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 2fe84864..e6d521a0 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -375,4 +375,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 0889faf3..4900ffa4 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -373,4 +373,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 22b6e71f..c2b8e32f 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -373,4 +373,5 @@
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 34ed60bf..6f98b877 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -610,4 +610,5 @@
     <!-- Content description for a selected color square. -->
     <string name="color_swatch_description_selected">Color <xliff:g id="color_index" example="14">%1$d</xliff:g> selected</string>
     <string name="label_account_color_and_type">Account Color &amp; Type</string>
+    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
 </resources>
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 6a0c6724..057a3bd4 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -98,6 +98,21 @@ public long addAccount(Account account){
 		return rowId;
 	}
 
+    /**
+     * This feature goes through all the rows in the accounts and changes value for <code>columnKey</code> to <code>newValue</code><br/>
+     * The <code>newValue</code> parameter is taken as string since SQLite typically stores everything as text.
+     * <p><b>This method affects all rows, exercise caution when using it</b></p>
+     * @param columnKey Column name to be changed
+     * @param newValue New value to be assigned to the columnKey
+     * @return Number of records affected
+     */
+    public int updateAccounts(String columnKey, String newValue){
+        ContentValues contentValues = new ContentValues();
+        contentValues.put(columnKey, newValue);
+
+        return mDb.update(DatabaseHelper.ACCOUNTS_TABLE_NAME, contentValues, null, null);
+    }
+
 	/**
 	 * Deletes an account with database id <code>rowId</code>
 	 * All the transactions in the account will also be deleted
@@ -143,14 +158,14 @@ public int reassignParent(String oldParentUID, String newParentUID){
 	 * Deletes an account while preserving the linked transactions
 	 * Reassigns all transactions belonging to the account with id <code>rowId</code> to 
 	 * the account with id <code>accountReassignId</code> before deleting the account.
-	 * @param rowIdToDelete
-	 * @param accountReassignId
+	 * @param accountId Database record ID of the account to be deleted
+	 * @param accountReassignId Record ID of the account to which to reassign the transactions from the previous
 	 * @return <code>true</code> if deletion was successful, <code>false</code> otherwise.
 	 */
-	public boolean transactionPreservingDelete(long rowIdToDelete, long accountReassignId){
+	public boolean transactionPreservingDelete(long accountId, long accountReassignId){
 		Cursor transactionsCursor = mDb.query(DatabaseHelper.TRANSACTIONS_TABLE_NAME, 
 				new String[]{DatabaseHelper.KEY_ACCOUNT_UID}, 
-				DatabaseHelper.KEY_ACCOUNT_UID + " = " + rowIdToDelete, 
+				DatabaseHelper.KEY_ACCOUNT_UID + " = " + accountId,
 				null, null, null, null);
 		if (transactionsCursor != null && transactionsCursor.getCount() > 0){
 			Log.d(TAG, "Found transactions. Migrating to new account");
@@ -158,13 +173,32 @@ public boolean transactionPreservingDelete(long rowIdToDelete, long accountReass
 			contentValues.put(DatabaseHelper.KEY_ACCOUNT_UID, accountReassignId);
 			mDb.update(DatabaseHelper.TRANSACTIONS_TABLE_NAME, 
 					contentValues, 
-					DatabaseHelper.KEY_ACCOUNT_UID + "=" + rowIdToDelete, 
+					DatabaseHelper.KEY_ACCOUNT_UID + "=" + accountId,
 					null);
 			transactionsCursor.close();
 		}
-		return destructiveDeleteAccount(rowIdToDelete);
+		return destructiveDeleteAccount(accountId);
 	}
-	
+
+    /**
+     * Deletes an account and all its sub-accounts and transactions with it
+     * @param accountId Database record ID of account
+     * @return <code>true</code> if the account and subaccounts were all successfully deleted, <code>false</code> if
+     * even one was not deleted
+     */
+    public boolean recursiveDestructiveDelete(long accountId){
+        Log.d(TAG, "Delete account with rowId with its transactions and sub-accounts: " + accountId);
+        boolean result = true;
+
+        List<Long> subAccountIds = getSubAccountIds(accountId);
+        for (long subAccountId : subAccountIds) {
+            result |= recursiveDestructiveDelete(subAccountId);
+        }
+        result |= destructiveDeleteAccount(accountId);
+
+        return result;
+    }
+
 	/**
 	 * Builds an account instance with the provided cursor.
 	 * The cursor should already be pointing to the account record in the database
@@ -433,7 +467,9 @@ public Cursor fetchAccounts(String condition){
      * @return Account Balance of an account including sub-accounts
      */
     public Money getAccountBalance(long accountId){
-        Money balance = Money.createInstance(getCurrencyCode(accountId));
+        String currencyCode = getCurrencyCode(accountId);
+        currencyCode = currencyCode == null ? Money.DEFAULT_CURRENCY_CODE : currencyCode;
+        Money balance = Money.createInstance(currencyCode);
 
         List<Long> subAccounts = getSubAccountIds(accountId);
         for (long id : subAccounts){
@@ -529,7 +565,10 @@ public int getSubAccountCount(long accountId){
 
         String queryCount = "SELECT COUNT(*) FROM " + DatabaseHelper.ACCOUNTS_TABLE_NAME + " WHERE "
                 + DatabaseHelper.KEY_PARENT_ACCOUNT_UID + " = ?";
-        Cursor cursor = mDb.rawQuery(queryCount, new String[]{getAccountUID(accountId)});
+        String accountUID = getAccountUID(accountId);
+        if (accountUID == null) //if the account UID is null, then the accountId param was invalid. Just return
+            return 0;
+        Cursor cursor = mDb.rawQuery(queryCount, new String[]{accountUID});
         cursor.moveToFirst();
         int count = cursor.getInt(0);
         cursor.close();
@@ -677,6 +716,9 @@ public String getFullyQualifiedAccountName(long accountId){
      * @return <code>true</code> if the account is a placeholder account, <code>false</code> otherwise
      */
     public boolean isPlaceholderAccount(String accountUID){
+        if (accountUID == null)
+            return false;
+
         Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
                 new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_PLACEHOLDER},
                 DatabaseHelper.KEY_UID + " = ?",
diff --git a/app/src/org/gnucash/android/export/qif/QifHelper.java b/app/src/org/gnucash/android/export/qif/QifHelper.java
index 0068a1e9..64ef915a 100644
--- a/app/src/org/gnucash/android/export/qif/QifHelper.java
+++ b/app/src/org/gnucash/android/export/qif/QifHelper.java
@@ -70,7 +70,6 @@ public static String getQifHeader(Account.AccountType accountType){
      * @return Imbalance account name
      */
     public static String getImbalanceAccountName(Currency currency){
-        //TODO: localize this in the future
         return GnuCashApplication.getAppContext().getString(R.string.imbalance_account_name) + "-" + currency.getCurrencyCode();
     }
 }
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 76d4c57c..03e1b9cb 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -286,26 +286,28 @@ public void onActivityResult(int requestCode, int resultCode, Intent data) {
      */
     public void tryDeleteAccount(long rowId) {
         Account acc = mAccountsDbAdapter.getAccount(rowId);
-        if (acc.getTransactionCount() > 0) {
+        if (acc.getTransactionCount() > 0 || mAccountsDbAdapter.getSubAccountCount(rowId) > 0) {
             showConfirmationDialog(rowId);
         } else {
-            deleteAccount(rowId);
+            deleteAccount(rowId, false);
         }
     }
 
     /**
-     * Deletes an account and show a {@link Toast} notification on success
-     *
+     * Deletes an account and show a {@link Toast} notification on success.
+     * When an account is deleted, all it's child accounts will be reassigned as children to its parent account
      * @param rowId Record ID of the account to be deleted
      */
-    protected void deleteAccount(long rowId) {
+    protected void deleteAccount(long rowId, boolean deleteSubAccounts) {
         String accountUID = mAccountsDbAdapter.getAccountUID(rowId);
-        boolean deleted = mAccountsDbAdapter.destructiveDeleteAccount(rowId);
+        String parentUID    = mAccountsDbAdapter.getParentAccountUID(rowId);
+        boolean deleted     = deleteSubAccounts ?
+                mAccountsDbAdapter.recursiveDestructiveDelete(rowId)
+                : mAccountsDbAdapter.destructiveDeleteAccount(rowId);
         if (deleted) {
-            mAccountsDbAdapter.reassignParent(accountUID, null);
+            mAccountsDbAdapter.reassignParent(accountUID, parentUID);
             Toast.makeText(getActivity(), R.string.toast_account_deleted, Toast.LENGTH_SHORT).show();
             WidgetConfigurationActivity.updateAllWidgets(getActivity().getApplicationContext());
-            getLoaderManager().destroyLoader(0);
         }
         refresh();
     }
@@ -548,10 +550,12 @@ public static DeleteConfirmationDialogFragment newInstance(int title, long id) {
         public Dialog onCreateDialog(Bundle savedInstanceState) {
             int title = getArguments().getInt("title");
             final long rowId = getArguments().getLong(TransactionsListFragment.SELECTED_ACCOUNT_ID);
-
-            return new AlertDialog.Builder(getActivity())
+            LayoutInflater layoutInflater = getSherlockActivity().getLayoutInflater();
+            final View dialogLayout = layoutInflater.inflate(R.layout.dialog_account_delete, (ViewGroup) getView());
+            AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(getActivity())
                     .setIcon(android.R.drawable.ic_delete)
                     .setTitle(title).setMessage(R.string.delete_account_confirmation_message)
+                    .setView(dialogLayout)
                     .setPositiveButton(R.string.alert_dialog_ok_delete,
                             new DialogInterface.OnClickListener() {
                                 public void onClick(DialogInterface dialog, int whichButton) {
@@ -561,21 +565,25 @@ public void onClick(DialogInterface dialog, int whichButton) {
                                         accountsDbAdapter.deleteAllRecords();
                                         accountsDbAdapter.close();
                                         Toast.makeText(context, R.string.toast_all_accounts_deleted, Toast.LENGTH_SHORT).show();
-                                    } else
-                                        ((AccountsListFragment) getTargetFragment()).deleteAccount(rowId);
+                                    } else {
+                                        CheckBox deleteSubAccountsCheckBox = (CheckBox) dialogLayout
+                                                .findViewById(R.id.checkbox_delete_sub_accounts);
+                                        ((AccountsListFragment) getTargetFragment()).deleteAccount(rowId, deleteSubAccountsCheckBox.isChecked());
+                                    }
                                 }
-                            }
-                    )
+                            })
                     .setNegativeButton(R.string.alert_dialog_cancel,
                             new DialogInterface.OnClickListener() {
                                 public void onClick(DialogInterface dialog, int whichButton) {
                                     dismiss();
                                 }
                             }
-                    )
-                    .create();
+
+                    );
+            return dialogBuilder.create();
+        }
+
         }
-    }
 
     /**
      * Extends {@link DatabaseCursorLoader} for loading of {@link Account} from the
@@ -679,6 +687,8 @@ public void bindView(View v, Context context, Cursor cursor) {
             if (accountColor != null){
                 int color = Color.parseColor(accountColor);
                 colorStripView.setBackgroundColor(color);
+            } else {
+                colorStripView.setBackgroundColor(Color.TRANSPARENT);
             }
 
             boolean isPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(accountId);
diff --git a/app/src/org/gnucash/android/ui/settings/SettingsActivity.java b/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
index d09f590b..4aa274fa 100644
--- a/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
+++ b/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
@@ -36,10 +36,12 @@
 import org.gnucash.android.R;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.db.DatabaseHelper;
 import org.gnucash.android.db.TransactionsDbAdapter;
 import org.gnucash.android.ui.accounts.AccountsActivity;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 
+import java.util.Currency;
 import java.util.List;
 import java.util.Timer;
 import java.util.TimerTask;
@@ -221,7 +223,7 @@ public void run() {
 
     public void importAccounts() {
         Intent pickIntent = new Intent(Intent.ACTION_GET_CONTENT);
-        pickIntent.setType("application/octet-stream");
+        pickIntent.setType("application/*");
         Intent chooser = Intent.createChooser(pickIntent, "Select GnuCash account file");
 
         startActivityForResult(chooser, AccountsListFragment.REQUEST_PICK_ACCOUNTS_FILE);

From d1596e8ac829bc7e2c51b064030bf9942012d1fd Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 27 Jan 2014 11:55:21 +0100
Subject: [PATCH 33/43] Feature: Mark accounts as favorite Feature: Display
 recent & favorite accounts in their own views

---
 app/res/layout/activity_accounts.xml               |  28 ++-
 app/res/menu/sub_account_actions.xml               |   4 +
 app/res/menu/transactions_list_actions.xml         |   4 +
 app/res/values-de/strings.xml                      |   5 +-
 app/res/values-el/strings.xml                      |   5 +-
 app/res/values-es-rMX/strings.xml                  |   5 +-
 app/res/values-es/strings.xml                      |   5 +-
 app/res/values-fr/strings.xml                      |   5 +-
 app/res/values-hu/strings.xml                      |   5 +-
 app/res/values-it/strings.xml                      |   5 +-
 app/res/values-nb/strings.xml                      |   5 +-
 app/res/values-nl/strings.xml                      |   5 +-
 app/res/values-pt-rBR/strings.xml                  |   5 +-
 app/res/values-ru/strings.xml                      |   5 +-
 app/res/values-zh/strings.xml                      |   5 +-
 app/res/values/strings.xml                         |   3 +
 app/src/org/gnucash/android/data/Account.java      |  20 ++
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  85 +++++++-
 .../org/gnucash/android/db/DatabaseAdapter.java    |   3 +-
 app/src/org/gnucash/android/db/DatabaseHelper.java |  21 +-
 .../android/ui/accounts/AccountsActivity.java      | 213 ++++++++++++++++-----
 .../android/ui/accounts/AccountsListFragment.java  |  73 +++++--
 .../RecurringTransactionsListFragment.java         |   2 +-
 .../ui/transactions/TransactionsActivity.java      |  74 ++++---
 .../ui/transactions/TransactionsListFragment.java  |  20 +-
 25 files changed, 476 insertions(+), 134 deletions(-)

diff --git a/app/res/layout/activity_accounts.xml b/app/res/layout/activity_accounts.xml
index b45ed25b..bbc5ff25 100644
--- a/app/res/layout/activity_accounts.xml
+++ b/app/res/layout/activity_accounts.xml
@@ -15,9 +15,25 @@
  limitations under the License.
 -->
 
-<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    android:id="@+id/fragment_container"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent" >
-    
-</FrameLayout>
\ No newline at end of file
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+              xmlns:app="http://schemas.android.com/apk/res-auto"
+              android:id="@+id/fragment_container"
+              android:orientation="vertical"
+              android:layout_width="match_parent"
+              android:layout_height="match_parent" >
+
+    <com.viewpagerindicator.TitlePageIndicator
+            android:id="@+id/titles"
+            android:layout_height="wrap_content"
+            android:layout_width="fill_parent"
+            android:textColor="@color/title_green"
+            app:footerColor="@color/title_green"
+            app:selectedColor="@color/title_green"
+            app:selectedBold="true"/>
+
+    <android.support.v4.view.ViewPager
+            android:id="@+id/pager"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent" />
+
+</LinearLayout>
\ No newline at end of file
diff --git a/app/res/menu/sub_account_actions.xml b/app/res/menu/sub_account_actions.xml
index 6da5086a..0a9763e9 100644
--- a/app/res/menu/sub_account_actions.xml
+++ b/app/res/menu/sub_account_actions.xml
@@ -15,6 +15,10 @@
  limitations under the License.
 -->
 <menu xmlns:android="http://schemas.android.com/apk/res/android" >
+    <item android:id="@+id/menu_favorite_account"
+          android:icon="@android:drawable/btn_star_big_off"
+          android:showAsAction="always" />
+
     <item android:id="@+id/menu_add_account"
           android:icon="@drawable/content_new_holo_dark"
           android:title="@string/title_add_account"
diff --git a/app/res/menu/transactions_list_actions.xml b/app/res/menu/transactions_list_actions.xml
index 6158f1e9..05ddfb6d 100644
--- a/app/res/menu/transactions_list_actions.xml
+++ b/app/res/menu/transactions_list_actions.xml
@@ -16,6 +16,10 @@
 -->
 
 <menu xmlns:android="http://schemas.android.com/apk/res/android" >
+
+    <item android:id="@+id/menu_favorite_account"
+          android:icon="@android:drawable/btn_star_big_off"
+          android:showAsAction="always" />
     <item android:id="@+id/menu_add_transaction"
           android:icon="@drawable/content_new_holo_dark"
           android:title="@string/title_add_transaction"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index 2f7df41a..ddbd990e 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -342,7 +342,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Ausgleichskonto</string>
@@ -378,4 +378,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 36a15629..4f93d559 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -356,7 +356,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -392,4 +392,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index a85e571a..4b341125 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -340,7 +340,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -376,4 +376,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 6e19f95b..db36b152 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -340,7 +340,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -376,4 +376,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index feea7055..60ab6853 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -338,7 +338,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -374,4 +374,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 32bc6988..46017bb6 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -341,7 +341,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -377,4 +377,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 39e726da..18c30a8e 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -341,7 +341,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -377,4 +377,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 559ce807..442d2907 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -343,7 +343,7 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -379,4 +379,7 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index d7c02fe0..cba54f0c 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -342,7 +342,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -378,4 +378,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index e6d521a0..d645aec7 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -340,7 +340,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -376,4 +376,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 4900ffa4..b63b5ed1 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -338,7 +338,7 @@
     <string name="menu_search_accounts"></string>
     <string name="title_default_export_format">   </string>
     <string name="summary_default_export_format"> ,     </string>
-    <string name="menu_export_transactions"> ...</string>
+    <string name="menu_export_transactions"> </string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name"></string>
@@ -374,4 +374,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index c2b8e32f..63bf5255 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -338,7 +338,7 @@
     <string name="menu_search_accounts">Search</string>
     <string name="title_default_export_format">Default Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -374,4 +374,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Select a Color</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 6f98b877..43dff129 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -611,4 +611,7 @@
     <string name="color_swatch_description_selected">Color <xliff:g id="color_index" example="14">%1$d</xliff:g> selected</string>
     <string name="label_account_color_and_type">Account Color &amp; Type</string>
     <string name="label_delete_sub_accounts">Delete sub-accounts</string>
+    <string name="title_recent_accounts">Recent</string>
+    <string name="title_favorite_accounts">Favorites</string>
+    <string name="title_all_accounts">All</string>
 </resources>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index 2920b05a..6f29d124 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -133,6 +133,11 @@ public boolean hasInvertedCredit(){
      */
     private String mColorCode;
 
+    /**
+     * Flag which marks this account as a favorite account
+     */
+    private boolean mIsFavorite;
+
 	/**
 	 * An extra key for passing the currency code (according ISO 4217) in an intent
 	 */
@@ -360,6 +365,21 @@ public void setColorCode(String colorCode) {
         this.mColorCode = colorCode;
     }
 
+    /**
+     * Tests if this account is a favorite account or not
+     * @return <code>true</code> if account is flagged as favorite, <code>false</code> otherwise
+     */
+    public boolean isFavorite() {
+        return mIsFavorite;
+    }
+
+    /**
+     * Toggles the favorite flag on this account on or off
+     * @param isFavorite <code>true</code> if account should be flagged as favorite, <code>false</code> otherwise
+     */
+    public void setFavorite(boolean isFavorite) {
+        this.mIsFavorite = isFavorite;
+    }
 
     /**
 	 * @return the mCurrency
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 057a3bd4..1cd306ac 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -77,7 +77,7 @@ public long addAccount(Account account){
         contentValues.put(DatabaseHelper.KEY_DEFAULT_TRANSFER_ACCOUNT_UID, account.getDefaultTransferAccountUID());
         contentValues.put(DatabaseHelper.KEY_PLACEHOLDER, account.isPlaceholderAccount() ? 1 : 0);
         contentValues.put(DatabaseHelper.KEY_COLOR_CODE, account.getColorHexCode());
-
+        contentValues.put(DatabaseHelper.KEY_FAVORITE, account.isFavorite() ? 1 : 0);
 		long rowId = -1;
 		if ((rowId = getAccountID(account.getUID())) > 0){
 			//if account already exists, then just update
@@ -102,17 +102,32 @@ public long addAccount(Account account){
      * This feature goes through all the rows in the accounts and changes value for <code>columnKey</code> to <code>newValue</code><br/>
      * The <code>newValue</code> parameter is taken as string since SQLite typically stores everything as text.
      * <p><b>This method affects all rows, exercise caution when using it</b></p>
-     * @param columnKey Column name to be changed
+     * @param columnKey Name of column to be updated
      * @param newValue New value to be assigned to the columnKey
      * @return Number of records affected
      */
-    public int updateAccounts(String columnKey, String newValue){
+    public int updateAllAccounts(String columnKey, String newValue){
         ContentValues contentValues = new ContentValues();
         contentValues.put(columnKey, newValue);
 
         return mDb.update(DatabaseHelper.ACCOUNTS_TABLE_NAME, contentValues, null, null);
     }
 
+    /**
+     * Updates a specific entry of an account
+     * @param accountId Database record ID of the account to be updated
+     * @param columnKey Name of column to be updated
+     * @param newValue  New value to be assigned to the columnKey
+     * @return Number of records affected
+     */
+    public int updateAccount(long accountId, String columnKey, String newValue){
+        ContentValues contentValues = new ContentValues();
+        contentValues.put(columnKey, newValue);
+
+        return mDb.update(DatabaseHelper.ACCOUNTS_TABLE_NAME, contentValues,
+                DatabaseHelper.KEY_ROW_ID + "=" + accountId, null);
+    }
+
 	/**
 	 * Deletes an account with database id <code>rowId</code>
 	 * All the transactions in the account will also be deleted
@@ -201,7 +216,10 @@ public boolean recursiveDestructiveDelete(long accountId){
 
 	/**
 	 * Builds an account instance with the provided cursor.
-	 * The cursor should already be pointing to the account record in the database
+	 * <p>The method will not move the cursor position, so the cursor should already be pointing
+     * to the account record in the database<br/>
+     * <b>Note</b> that this method expects the cursor to contain all columns from the database table</p>
+     *
 	 * @param c Cursor pointing to account record in database
 	 * @return {@link Account} object constructed from database record
 	 */
@@ -218,6 +236,7 @@ public Account buildAccountInstance(Cursor c){
         account.setPlaceHolderFlag(c.getInt(DatabaseAdapter.COLUMN_PLACEHOLDER) == 1);
         account.setDefaultTransferAccountUID(c.getString(DatabaseAdapter.COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID));
         account.setColorCode(c.getString(DatabaseAdapter.COLUMN_COLOR_CODE));
+        account.setFavorite(c.getInt(DatabaseAdapter.COLUMN_FAVORITE) == 1);
 		return account;
 	}
 		
@@ -511,6 +530,7 @@ public Money getAccountBalance(long accountId){
      * @return {@link Cursor} to the sub accounts data set
      */
     public Cursor fetchSubAccounts(long accountId){
+        Log.v(TAG, "Fetching sub accounts for account id " + accountId);
         return mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
                 null,
                 DatabaseHelper.KEY_PARENT_ACCOUNT_UID + " = ?",
@@ -536,6 +556,43 @@ public Cursor fetchTopLevelAccounts(){
     }
 
     /**
+     * Returns a cursor to accounts which have recently had transactions added to them
+     * @return Cursor to recently used accounts
+     */
+    public Cursor fetchRecentAccounts(int numberOfRecents){
+        Cursor recentTxCursor = mDb.query(true, DatabaseHelper.TRANSACTIONS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ACCOUNT_UID},
+                null, null, null, null, DatabaseHelper.KEY_TIMESTAMP, Integer.toString(numberOfRecents));
+        StringBuilder recentAccountUIDs = new StringBuilder("(");
+        while (recentTxCursor.moveToNext()){
+            String uid = recentTxCursor.getString(recentTxCursor.getColumnIndexOrThrow(DatabaseHelper.KEY_ACCOUNT_UID));
+            recentAccountUIDs.append("'" + uid + "'");
+            if (!recentTxCursor.isLast())
+                recentAccountUIDs.append(",");
+        }
+        recentAccountUIDs.append(")");
+        recentTxCursor.close();
+
+        return mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                null, DatabaseHelper.KEY_UID + " IN " + recentAccountUIDs.toString(),
+                null, null, null, DatabaseHelper.KEY_NAME + " ASC");
+
+    }
+
+    /**
+     * Fetches favorite accounts from the database
+     * @return Cursor holding set of favorite accounts
+     */
+    public Cursor fetchFavoriteAccounts(){
+        Log.v(TAG, "Fetching favorite accounts from db");
+        String condition = DatabaseHelper.KEY_FAVORITE + " = 1";
+        Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                null, condition, null, null, null,
+                DatabaseHelper.KEY_NAME + " ASC");
+        return cursor;
+    }
+
+    /**
      * Returns the GnuCash ROOT account UID.
      * <p>In GnuCash desktop account structure, there is a root account (which is not visible in the UI) from which
      * other top level accounts derive. GnuCash Android does not have this ROOT account by default unless the account
@@ -742,6 +799,26 @@ public boolean isPlaceholderAccount(long accountId){
         return isPlaceholderAccount(getAccountUID(accountId));
     }
 
+    /**
+     * Returns true if the account is a favorite account, false otherwise
+     * @param accountId Record ID of the account
+     * @return <code>true</code> if the account is a favorite account, <code>false</code> otherwise
+     */
+    public boolean isFavoriteAccount(long accountId){
+        Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_FAVORITE},
+                DatabaseHelper.KEY_ROW_ID + " = " + accountId, null,
+                null, null, null);
+
+        if (cursor == null || !cursor.moveToFirst()){
+            return false;
+        }
+        boolean isFavorite = cursor.getInt(cursor.getColumnIndexOrThrow(DatabaseHelper.KEY_FAVORITE)) == 1;
+        cursor.close();
+
+        return isFavorite;
+    }
+
 	/**
 	 * Deletes all accounts and their transactions from the database
 	 */
diff --git a/app/src/org/gnucash/android/db/DatabaseAdapter.java b/app/src/org/gnucash/android/db/DatabaseAdapter.java
index 499e7e4a..620c8b93 100644
--- a/app/src/org/gnucash/android/db/DatabaseAdapter.java
+++ b/app/src/org/gnucash/android/db/DatabaseAdapter.java
@@ -57,7 +57,8 @@
     public static final int COLUMN_PLACEHOLDER          = 6;
     public static final int COLUMN_DEFAULT_TRANSFER_ACCOUNT_UID = 7;
     public static final int COLUMN_COLOR_CODE           = 8;
-	
+	public static final int COLUMN_FAVORITE             = 9;
+
 	/**
 	 * {@link DatabaseHelper} for creating and opening the database
 	 */
diff --git a/app/src/org/gnucash/android/db/DatabaseHelper.java b/app/src/org/gnucash/android/db/DatabaseHelper.java
index fca70b3e..f27a7527 100644
--- a/app/src/org/gnucash/android/db/DatabaseHelper.java
+++ b/app/src/org/gnucash/android/db/DatabaseHelper.java
@@ -46,7 +46,7 @@
 	 * Database version.
 	 * With any change to the database schema, this number must increase
 	 */
-	private static final int DATABASE_VERSION = 4;
+	private static final int DATABASE_VERSION = 5;
 	
 	/**
 	 * Name of accounts table
@@ -146,6 +146,11 @@
      */
     public static final String KEY_RECURRENCE_PERIOD = "recurrence_period";
 
+    /**
+     * Marks an account as a favourite account
+     */
+    public static final String KEY_FAVORITE = "favorite";
+
 	/**********************************************************************************************************
 	//if you modify the order of the columns (i.e. the way they are created), 
 	//make sure to modify the indices in DatabaseAdapter
@@ -161,9 +166,10 @@
 			+ KEY_TYPE 	+ " varchar(255) not null, "			
 			+ KEY_CURRENCY_CODE + " varchar(255) not null, "
 			+ KEY_PARENT_ACCOUNT_UID + " varchar(255), "
-            + KEY_PLACEHOLDER + " tinyint default 0, "
+            + KEY_PLACEHOLDER   + " tinyint default 0, "
             + KEY_DEFAULT_TRANSFER_ACCOUNT_UID + " varchar(255), "
-            + KEY_COLOR_CODE + " varchar(255), "
+            + KEY_COLOR_CODE    + " varchar(255), "
+            + KEY_FAVORITE 		+ " tinyint default 0, "
 			+ "UNIQUE (" + KEY_UID + ")"	
 			+ ");";
 	
@@ -260,6 +266,15 @@ public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
 
                 oldVersion = 4;
             }
+
+            if (oldVersion == 4 && newVersion >= 5){
+                Log.i(TAG, "Upgrading database to version 5");
+                String addAccountFavorite = " ALTER TABLE " + ACCOUNTS_TABLE_NAME
+                        + " ADD COLUMN " + KEY_FAVORITE + " tinyint default 0";
+                db.execSQL(addAccountFavorite);
+
+                oldVersion = 5;
+            }
 		}
 
         if (oldVersion != newVersion) {
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 29b40f70..7190b4e6 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -31,28 +31,33 @@
 import android.preference.PreferenceManager;
 import android.support.v4.app.Fragment;
 import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentStatePagerAdapter;
 import android.support.v4.app.FragmentTransaction;
+import android.support.v4.view.PagerAdapter;
+import android.support.v4.view.ViewPager;
 import android.util.Log;
+import android.util.SparseArray;
 import android.view.View;
+import android.view.ViewGroup;
 import android.widget.Toast;
 import com.actionbarsherlock.app.SherlockFragmentActivity;
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
+import com.viewpagerindicator.TitlePageIndicator;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Account.AccountType;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.AccountsDbAdapter;
+import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.transactions.RecurringTransactionsListFragment;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
 import org.gnucash.android.ui.transactions.TransactionsListFragment;
 import org.gnucash.android.util.GnucashAccountXmlHandler;
 import org.gnucash.android.util.OnAccountClickedListener;
 
-import java.util.ArrayList;
-import java.util.Currency;
-import java.util.Locale;
+import java.util.*;
 
 /**
  * Manages actions related to accounts, displaying, exporting and creating new accounts
@@ -80,9 +85,39 @@
 	/**
 	 * Logging tag
 	 */
-	protected static final String TAG = "AccountsActivity";	
-	
-	/**
+	protected static final String TAG = "AccountsActivity";
+
+    /**
+     * Intent action for viewing recurring transactions
+     */
+    public static final String ACTION_VIEW_RECURRING = "org.gnucash.android.action.VEIW_RECURRING";
+
+    /**
+     * Number of pages to show
+     */
+    private static final int DEFAULT_NUM_PAGES = 3;
+
+    /**
+     * Index for the recent accounts tab
+     */
+    public static final int INDEX_RECENT_ACCOUNTS_FRAGMENT = 0;
+
+    /**
+     * Index of the top level (all) accounts tab
+     */
+    public static final int INDEX_TOP_LEVEL_ACCOUNTS_FRAGMENT = 1;
+
+    /**
+     * Index of the favorite accounts tab
+     */
+    public static final int INDEX_FAVORITE_ACCOUNTS_FRAGMENT = 2;
+
+    /**
+     * Map containing fragments for the different tabs
+     */
+    private SparseArray<Refreshable> mFragmentPageReferenceMap = new SparseArray<Refreshable>();
+
+    /**
 	 * Stores the indices of accounts which have been selected by the user for creation from the dialog.
 	 * The account names are stored as string resources and the selected indices are then used to choose which accounts to create
 	 * The dialog for creating default accounts is only shown when the app is started for the first time.
@@ -93,38 +128,84 @@
 	 * Dialog which is shown to the user on first start prompting the user to create some accounts
 	 */
 	private AlertDialog mDefaultAccountsDialog;
-	
+
+
+    /**
+     * Adapter for managing the sub-account and transaction fragment pages in the accounts view
+     */
+    private class AccountViewPagerAdapter extends FragmentStatePagerAdapter {
+
+        public AccountViewPagerAdapter(FragmentManager fm){
+            super(fm);
+        }
+
+        @Override
+        public Fragment getItem(int i) {
+            AccountsListFragment currentFragment;
+            switch (i){
+                case INDEX_RECENT_ACCOUNTS_FRAGMENT:
+                    currentFragment = AccountsListFragment.newInstance(AccountsListFragment.DisplayMode.RECENT);
+                    break;
+
+                case INDEX_FAVORITE_ACCOUNTS_FRAGMENT:
+                    currentFragment = AccountsListFragment.newInstance(AccountsListFragment.DisplayMode.FAVORITES);
+                    break;
+
+                case INDEX_TOP_LEVEL_ACCOUNTS_FRAGMENT:
+                default:
+                    currentFragment = AccountsListFragment.newInstance(AccountsListFragment.DisplayMode.TOP_LEVEL);
+                    break;
+            }
+
+            mFragmentPageReferenceMap.put(i, currentFragment);
+            return currentFragment;
+        }
+
+        @Override
+        public void destroyItem(ViewGroup container, int position, Object object) {
+            super.destroyItem(container, position, object);
+            mFragmentPageReferenceMap.remove(position);
+        }
+
+        @Override
+        public CharSequence getPageTitle(int position) {
+            switch (position){
+                case INDEX_RECENT_ACCOUNTS_FRAGMENT:
+                    return getString(R.string.title_recent_accounts);
+
+                case INDEX_FAVORITE_ACCOUNTS_FRAGMENT:
+                    return getString(R.string.title_favorite_accounts);
+
+                case INDEX_TOP_LEVEL_ACCOUNTS_FRAGMENT:
+                default:
+                    return getString(R.string.title_all_accounts);
+            }
+        }
+
+        @Override
+        public int getCount() {
+            return DEFAULT_NUM_PAGES;
+        }
+    }
+
+
 	@Override
 	public void onCreate(Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
 		setContentView(R.layout.activity_accounts);
 
-		SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
-		Locale locale = Locale.getDefault();
-		//sometimes the locale en_UK is returned which causes a crash with Currency
-		if (locale.getCountry().equals("UK")) {
-		    locale = new Locale(locale.getLanguage(), "GB");
-		}
-		String currencyCode = null;
-		try { //there are some strange locales out there
-			currencyCode = prefs.getString(getString(R.string.key_default_currency), 
-					Currency.getInstance(locale).getCurrencyCode());
-		} catch (Exception e) {
-			Log.e(TAG, e.getMessage());
-			currencyCode = "USD"; //just use USD and let the user choose
-		}
-					
-		Money.DEFAULT_CURRENCY_CODE = currencyCode;		
-		
-		boolean firstRun = prefs.getBoolean(getString(R.string.key_first_run), true);
-		if (firstRun){
-			createDefaultAccounts();
-		}
+        init();
+
+        ViewPager pager = (ViewPager) findViewById(R.id.pager);
+        TitlePageIndicator titlePageIndicator = (TitlePageIndicator) findViewById(R.id.titles);
 
         final Intent intent = getIntent();
         String action = intent.getAction();
         if (action != null && action.equals(Intent.ACTION_INSERT_OR_EDIT)) {
             //enter account creation/edit mode if that was specified
+            pager.setVisibility(View.GONE);
+            titlePageIndicator.setVisibility(View.GONE);
+
             long accountId = intent.getLongExtra(TransactionsListFragment.SELECTED_ACCOUNT_ID, 0L);
             if (accountId > 0)
                 showEditAccountFragment(accountId);
@@ -132,30 +213,52 @@ public void onCreate(Bundle savedInstanceState) {
                 long parentAccountId = intent.getLongExtra(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, 0L);
                 showAddAccountFragment(parentAccountId);
             }
+        } else if (action != null && action.equals(ACTION_VIEW_RECURRING)) {
+            pager.setVisibility(View.GONE);
+            titlePageIndicator.setVisibility(View.GONE);
+            showRecurringTransactionsFragment();
         } else {
             //show the simple accounts list
+            PagerAdapter mPagerAdapter = new AccountViewPagerAdapter(getSupportFragmentManager());
+            pager.setAdapter(mPagerAdapter);
+            titlePageIndicator.setViewPager(pager);
+            pager.setCurrentItem(INDEX_TOP_LEVEL_ACCOUNTS_FRAGMENT);
+        }
 
-            FragmentManager fragmentManager = getSupportFragmentManager();
-            AccountsListFragment accountsListFragment = (AccountsListFragment) fragmentManager
-                    .findFragmentByTag(FRAGMENT_ACCOUNTS_LIST);
-
-            if (accountsListFragment == null) {
-                FragmentTransaction fragmentTransaction = fragmentManager
-                        .beginTransaction();
-                fragmentTransaction.add(R.id.fragment_container,
-                        new AccountsListFragment(), FRAGMENT_ACCOUNTS_LIST);
+	}
 
-                fragmentTransaction.commit();
-            } else
-                accountsListFragment.refresh();
+    /**
+     * Loads default setting for currency and performs app first-run initialization
+     */
+    private void init() {
+        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
+        Locale locale = Locale.getDefault();
+        //sometimes the locale en_UK is returned which causes a crash with Currency
+        if (locale.getCountry().equals("UK")) {
+            locale = new Locale(locale.getLanguage(), "GB");
+        }
+        String currencyCode = null;
+        try { //there are some strange locales out there
+            currencyCode = prefs.getString(getString(R.string.key_default_currency),
+                    Currency.getInstance(locale).getCurrencyCode());
+        } catch (Exception e) {
+            Log.e(TAG, e.getMessage());
+            currencyCode = "USD"; //just use USD and let the user choose
         }
 
+        Money.DEFAULT_CURRENCY_CODE = currencyCode;
+
         if (hasNewFeatures()){
-			showWhatsNewDialog();
-		}
-	}
+            showWhatsNewDialog();
+        }
 
-	/**
+        boolean firstRun = prefs.getBoolean(getString(R.string.key_first_run), true);
+        if (firstRun){
+            createDefaultAccounts();
+        }
+    }
+
+    /**
 	 * Checks if the minor version has been increased and displays the What's New dialog box.
 	 * This is the minor version as per semantic versioning.
 	 * @return <code>true</code> if the minor version has been increased, <code>false</code> otherwise.
@@ -225,7 +328,9 @@ public boolean onOptionsItemSelected(MenuItem item) {
 	        return true;
 
             case R.id.menu_recurring_transactions:
-                showRecurringTransactionsFragment();
+                Intent intent = new Intent(this, AccountsActivity.class);
+                intent.setAction(ACTION_VIEW_RECURRING);
+                startActivity(intent);
                 return true;
 		default:
 			return false;
@@ -233,6 +338,16 @@ public boolean onOptionsItemSelected(MenuItem item) {
 	}
 
     /**
+     * Creates an intent which can be used start activity for creating new account
+     * @return Intent which can be used to start activity for creating new account
+     */
+    private Intent createNewAccountIntent(){
+        Intent addAccountIntent = new Intent(this, AccountsActivity.class);
+        addAccountIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
+        return addAccountIntent;
+    }
+
+    /**
      * Shows form fragment for creating a new account
      * @param parentAccountId Record ID of the parent account present. Can be 0 for top-level account
      */
@@ -255,7 +370,6 @@ private void showRecurringTransactionsFragment(){
         fragmentTransaction.replace(R.id.fragment_container,
                 recurringTransactionsFragment, "fragment_recurring_transactions");
 
-        fragmentTransaction.addToBackStack(null);
         fragmentTransaction.commit();
     }
     /**
@@ -293,12 +407,7 @@ private void showAccountFormFragment(Bundle args){
 	 * @param v View which triggered this callback
 	 */
 	public void onNewAccountClick(View v) {
-		AccountsListFragment accountFragment = (AccountsListFragment) getSupportFragmentManager()
-				.findFragmentByTag(FRAGMENT_ACCOUNTS_LIST);
-		if (accountFragment != null)
-			accountFragment.showAddAccountFragment(0);
-        else
-            showAddAccountFragment(0);
+        startActivity(createNewAccountIntent());
 	}
 
 	/**
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 03e1b9cb..9ca0ffba 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -37,10 +37,7 @@
 import android.support.v4.widget.SimpleCursorAdapter;
 import android.text.TextUtils;
 import android.util.Log;
-import android.view.LayoutInflater;
-import android.view.TouchDelegate;
-import android.view.View;
-import android.view.ViewGroup;
+import android.view.*;
 import android.widget.*;
 import android.widget.AdapterView.OnItemLongClickListener;
 import com.actionbarsherlock.app.ActionBar;
@@ -51,6 +48,7 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
+import com.viewpagerindicator.TitlePageIndicator;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
@@ -76,17 +74,41 @@
         com.actionbarsherlock.widget.SearchView.OnQueryTextListener,
         com.actionbarsherlock.widget.SearchView.OnCloseListener {
 
+    /**
+     * Describes the kinds of accounts that should be loaded in the accounts list.
+     * This enhances reuse of the accounts list fragment
+     */
+    public enum DisplayMode {
+        TOP_LEVEL, RECENT, FAVORITES
+    }
+
+    /**
+     * Field indicating which kind of accounts to load.
+     * Default value is {@link DisplayMode#TOP_LEVEL}
+     */
+    private DisplayMode mDisplayMode = DisplayMode.TOP_LEVEL;
+
+    /**
+     * Request code for GnuCash account structure file to import
+     */
     public static final int REQUEST_PICK_ACCOUNTS_FILE = 0x1;
+
+    /**
+     * Request code for opening the account to edit
+     */
+    private static final int REQUEST_EDIT_ACCOUNT = 0x10;
+
     /**
      * Key for passing argument for the parent account ID.
      * When this argument is set, only sub-accounts of the account will be loaded.
      */
     public static final String ARG_PARENT_ACCOUNT_ID = "parent_account_id";
+
     /**
      * Logging tag
      */
     protected static final String TAG = "AccountsListFragment";
-    private static final int REQUEST_EDIT_ACCOUNT = 0x10;
+
 
     /**
      * {@link ListAdapter} for the accounts which will be bound to the list
@@ -178,6 +200,12 @@ public void onDestroyActionMode(ActionMode mode) {
         }
     };
 
+    public static AccountsListFragment newInstance(DisplayMode displayMode){
+        AccountsListFragment fragment = new AccountsListFragment();
+        fragment.mDisplayMode = displayMode;
+        return fragment;
+    }
+
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container,
                              Bundle savedInstanceState) {
@@ -360,14 +388,10 @@ public boolean onOptionsItemSelected(MenuItem item) {
         switch (item.getItemId()) {
 
             case R.id.menu_add_account:
-                if (mParentAccountId > 0){
-                    Intent addAccountIntent = new Intent(getActivity(), AccountsActivity.class);
-                    addAccountIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
-                    addAccountIntent.putExtra(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, mParentAccountId);
-                    startActivityForResult(addAccountIntent, REQUEST_EDIT_ACCOUNT);
-                } else {
-                    showAddAccountFragment(mParentAccountId);
-                }
+                Intent addAccountIntent = new Intent(getActivity(), AccountsActivity.class);
+                addAccountIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
+                addAccountIntent.putExtra(AccountsListFragment.ARG_PARENT_ACCOUNT_ID, mParentAccountId);
+                startActivityForResult(addAccountIntent, REQUEST_EDIT_ACCOUNT);
                 return true;
 
             case R.id.menu_export:
@@ -482,7 +506,7 @@ public void showExportDialog() {
         if (mCurrentFilter != null){
             return new AccountsCursorLoader(getActivity(), mCurrentFilter);
         } else {
-            return new AccountsCursorLoader(this.getActivity(), accountId);
+            return new AccountsCursorLoader(this.getActivity(), accountId, mDisplayMode);
         }
     }
 
@@ -596,6 +620,7 @@ public void onClick(DialogInterface dialog, int whichButton) {
     private static final class AccountsCursorLoader extends DatabaseCursorLoader {
         private long mParentAccountId = -1;
         private String mFilter;
+        private DisplayMode mDisplayMode = DisplayMode.TOP_LEVEL;
 
         /**
          * Initializes the loader to load accounts from the database.
@@ -604,9 +629,10 @@ public void onClick(DialogInterface dialog, int whichButton) {
          * @param context Application context
          * @param parentAccountId Record ID of the parent account
          */
-        public AccountsCursorLoader(Context context, long parentAccountId) {
+        public AccountsCursorLoader(Context context, long parentAccountId, DisplayMode displayMode) {
             super(context);
             mParentAccountId = parentAccountId;
+            this.mDisplayMode = displayMode;
         }
 
         /**
@@ -632,8 +658,21 @@ public Cursor loadInBackground() {
             } else {
                 if (mParentAccountId > 0)
                     cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchSubAccounts(mParentAccountId);
-                else
-                    cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchTopLevelAccounts();
+                else {
+                    switch (this.mDisplayMode){
+                        case RECENT:
+                            cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchRecentAccounts(10);
+                            break;
+                        case FAVORITES:
+                            cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchFavoriteAccounts();
+                            break;
+                        case TOP_LEVEL:
+                        default:
+                            cursor = ((AccountsDbAdapter) mDatabaseAdapter).fetchTopLevelAccounts();
+                            break;
+                    }
+                }
+
             }
 
             if (cursor != null)
diff --git a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
index 9ac7e00c..a09e3afe 100644
--- a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
@@ -411,7 +411,7 @@ public void bindView(View view, Context context, Cursor cursor) {
             TextView dateHeader = (TextView) view.findViewById(R.id.date_section_header);
 
             if (hasSectionHeader){
-                dateHeader.setText(getString(R.string.label_account) + ": " + accountsDbAdapter.getAccountName(currentAccountUid));
+                dateHeader.setText(accountsDbAdapter.getFullyQualifiedAccountName(currentAccountUid));
                 dateHeader.setVisibility(View.VISIBLE);
             } else {
                 dateHeader.setVisibility(View.GONE);
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 775c8eaa..2d03994b 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -21,11 +21,15 @@
 import android.database.Cursor;
 import android.graphics.Color;
 import android.os.Bundle;
-import android.support.v4.app.*;
+import android.support.v4.app.Fragment;
+import android.support.v4.app.FragmentManager;
+import android.support.v4.app.FragmentStatePagerAdapter;
+import android.support.v4.app.FragmentTransaction;
 import android.support.v4.view.PagerAdapter;
 import android.support.v4.view.ViewPager;
 import android.support.v4.widget.ResourceCursorAdapter;
 import android.util.Log;
+import android.util.SparseArray;
 import android.view.View;
 import android.view.ViewGroup;
 import android.view.inputmethod.InputMethodManager;
@@ -34,12 +38,14 @@
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.ActionBar.OnNavigationListener;
 import com.actionbarsherlock.app.SherlockFragmentActivity;
+import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuItem;
 import com.viewpagerindicator.TitlePageIndicator;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.db.DatabaseAdapter;
+import org.gnucash.android.db.DatabaseHelper;
 import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.accounts.AccountsActivity;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
@@ -47,9 +53,6 @@
 import org.gnucash.android.util.OnTransactionClickedListener;
 import org.gnucash.android.util.QualifiedAccountNameCursorAdapter;
 
-import java.util.HashMap;
-import java.util.Map;
-
 /**
  * Activity for displaying, creating and editing transactions
  * @author Ngewi Fet <ngewif@gmail.com>
@@ -90,15 +93,9 @@
     private static final int DEFAULT_NUM_PAGES = 2;
 
     /**
-     * Pager widget for swiping horizontally between views
+     * Menu item for marking an account as a favorite
      */
-    private ViewPager mPager;
-
-    /**
-     * Provides the pages to the view pager widget
-     */
-    private PagerAdapter mPagerAdapter;
-
+    MenuItem mFavoriteAccountMenu;
 
     /**
 	 * Database ID of {@link Account} whose transactions are displayed 
@@ -120,11 +117,6 @@
     private AccountsDbAdapter mAccountsDbAdapter;
 
     /**
-     * Spinner adapter for the action bar navigation list of accounts
-     */
-    private SpinnerAdapter mSpinnerAdapter;
-
-    /**
      * This is the last known color for the title indicator.
      * This is used to remember the color of the top level account if the child account doesn't have one.
      */
@@ -133,7 +125,7 @@
     private TextView mSectionHeaderTransactions;
     private TitlePageIndicator mTitlePageIndicator;
 
-    private Map<Integer, Refreshable> mFragmentPageReferenceMap = new HashMap();
+    private SparseArray<Refreshable> mFragmentPageReferenceMap = new SparseArray<Refreshable>();
 
 	private OnNavigationListener mTransactionListNavigationListener = new OnNavigationListener() {
 
@@ -260,8 +252,8 @@ private boolean isPlaceHolderAccount(){
      */
     @Override
     public void refresh(long accountId) {
-        for (Refreshable refreshableFragment : mFragmentPageReferenceMap.values()) {
-            refreshableFragment.refresh(accountId);
+        for (int i = 0; i < mFragmentPageReferenceMap.size(); i++) {
+            mFragmentPageReferenceMap.valueAt(i).refresh(accountId);
         }
         mTitlePageIndicator.notifyDataSetChanged();
     }
@@ -277,7 +269,7 @@ protected void onCreate(Bundle savedInstanceState) {
 		super.onCreate(savedInstanceState);
 		setContentView(R.layout.activity_transactions);
 
-        mPager = (ViewPager) findViewById(R.id.pager);
+        ViewPager pager = (ViewPager) findViewById(R.id.pager);
         mTitlePageIndicator = (TitlePageIndicator) findViewById(R.id.titles);
         mSectionHeaderTransactions = (TextView) findViewById(R.id.section_header_transactions);
 
@@ -290,18 +282,18 @@ protected void onCreate(Bundle savedInstanceState) {
         setupActionBarNavigation();
 
 		if (getIntent().getAction().equals(Intent.ACTION_INSERT_OR_EDIT)) {
-            mPager.setVisibility(View.GONE);
+            pager.setVisibility(View.GONE);
             mTitlePageIndicator.setVisibility(View.GONE);
 
             initializeCreateOrEditTransaction();
         } else {	//load the transactions list
             mSectionHeaderTransactions.setVisibility(View.GONE);
 
-            mPagerAdapter = new AccountViewPagerAdapter(getSupportFragmentManager());
-            mPager.setAdapter(mPagerAdapter);
-            mTitlePageIndicator.setViewPager(mPager);
+            PagerAdapter pagerAdapter = new AccountViewPagerAdapter(getSupportFragmentManager());
+            pager.setAdapter(pagerAdapter);
+            mTitlePageIndicator.setViewPager(pager);
 
-            mPager.setCurrentItem(INDEX_TRANSACTIONS_FRAGMENT);
+            pager.setCurrentItem(INDEX_TRANSACTIONS_FRAGMENT);
 		}
 
 		// done creating, activity now running
@@ -364,7 +356,8 @@ private void setTitleIndicatorColor() {
 	private void setupActionBarNavigation() {
 		// set up spinner adapter for navigation list
 		Cursor accountsCursor = mAccountsDbAdapter.fetchAllRecords();
-		mSpinnerAdapter = new QualifiedAccountNameCursorAdapter(getSupportActionBar().getThemedContext(),
+
+        SpinnerAdapter mSpinnerAdapter = new QualifiedAccountNameCursorAdapter(getSupportActionBar().getThemedContext(),
                 R.layout.sherlock_spinner_item, accountsCursor);
 		((ResourceCursorAdapter) mSpinnerAdapter)
 				.setDropDownViewResource(R.layout.sherlock_spinner_dropdown_item);
@@ -397,6 +390,24 @@ public void updateNavigationSelection() {
 	}
 
     @Override
+    public boolean onPrepareOptionsMenu(Menu menu) {
+        mFavoriteAccountMenu = menu.findItem(R.id.menu_favorite_account);
+        MenuItem favoriteAccountMenuItem = menu.findItem(R.id.menu_favorite_account);
+
+        if (favoriteAccountMenuItem == null) //when the activity is used to edit a transaction
+            return super.onPrepareOptionsMenu(menu);
+
+        AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(this);
+        boolean isFavoriteAccount = accountsDbAdapter.isFavoriteAccount(mAccountId);
+        accountsDbAdapter.close();
+
+        int favoriteIcon = isFavoriteAccount ? android.R.drawable.btn_star_big_on : android.R.drawable.btn_star_big_off;
+        favoriteAccountMenuItem.setIcon(favoriteIcon);
+        return super.onPrepareOptionsMenu(menu);
+
+    }
+
+    @Override
 	public boolean onOptionsItemSelected(MenuItem item) {
 		switch (item.getItemId()) {
 		case android.R.id.home:
@@ -411,6 +422,15 @@ public boolean onOptionsItemSelected(MenuItem item) {
 	        }
 	        return true;
 
+            case R.id.menu_favorite_account:
+                AccountsDbAdapter accountsDbAdapter = new AccountsDbAdapter(this);
+                boolean isFavorite = accountsDbAdapter.isFavoriteAccount(mAccountId);
+                //toggle favorite preference
+                accountsDbAdapter.updateAccount(mAccountId, DatabaseHelper.KEY_FAVORITE, isFavorite ? "0" : "1");
+                accountsDbAdapter.close();
+                supportInvalidateOptionsMenu();
+                return true;
+
             case R.id.menu_edit_account:
                 Intent editAccountIntent = new Intent(this, AccountsActivity.class);
                 editAccountIntent.setAction(Intent.ACTION_INSERT_OR_EDIT);
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index 2e6754be..b7c44464 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -47,11 +47,9 @@
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
 import org.gnucash.android.R;
+import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
-import org.gnucash.android.db.DatabaseAdapter;
-import org.gnucash.android.db.DatabaseCursorLoader;
-import org.gnucash.android.db.DatabaseHelper;
-import org.gnucash.android.db.TransactionsDbAdapter;
+import org.gnucash.android.db.*;
 import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
@@ -252,17 +250,17 @@ public void onListItemClick(ListView l, View v, int position, long id) {
 	public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {		
 		inflater.inflate(R.menu.transactions_list_actions, menu);	
 	}
-	
+
 	@Override
 	public boolean onOptionsItemSelected(MenuItem item) {
 		switch (item.getItemId()) {
-		case R.id.menu_add_transaction:
-			mTransactionEditListener.createNewTransaction(mAccountID);
-			return true;
+            case R.id.menu_add_transaction:
+                mTransactionEditListener.createNewTransaction(mAccountID);
+                return true;
 
-		default:
-			return false;
-		}
+            default:
+                return false;
+        }
 	}
 	
 	@Override

From 03751d51bdcdd0256f3e1581057383df63118f05 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 27 Jan 2014 18:39:32 +0100
Subject: [PATCH 34/43] Feature: Creating a default account structure from
 within the app (only Android version 4.0.x and up) Improved: Made transaction
 creation easier by changing position of transfer account input in form
 (closes #130) Improved: Clicking on the version information now shows
 changelog dialog Improved: Added options for sending feedback and rating the
 app Fixed: Bug causing app to crash during import due to wrong color code
 entry

---
 app/res/layout/fragment_new_transaction.xml        |  35 +-
 app/res/raw-de/default_accounts.gnucash            | 915 +++++++++++++++++++++
 app/res/values-de/strings.xml                      |   2 +
 app/res/values-el/strings.xml                      |   2 +
 app/res/values-es-rMX/strings.xml                  |   2 +
 app/res/values-es/strings.xml                      |   2 +
 app/res/values-fr/strings.xml                      |   2 +
 app/res/values-hu/strings.xml                      |   2 +
 app/res/values-it/strings.xml                      |   2 +
 app/res/values-nb/strings.xml                      |   2 +
 app/res/values-nl/strings.xml                      |   2 +
 app/res/values-pt-rBR/strings.xml                  |   2 +
 app/res/values-ru/strings.xml                      |   2 +
 app/res/values-zh/strings.xml                      |   2 +
 app/res/values/strings.xml                         |   3 +
 app/res/xml-v11/fragment_account_preferences.xml   |   3 +
 app/res/xml/preference_headers.xml                 |   8 +
 app/src/org/gnucash/android/data/Account.java      |  47 +-
 .../android/ui/accounts/AccountsActivity.java      |  27 +-
 .../ui/settings/AboutPreferenceFragment.java       |   8 +
 .../ui/settings/AccountPreferencesFragment.java    |  34 +
 .../android/ui/settings/SettingsActivity.java      |  33 +-
 .../android/util/GnucashAccountXmlHandler.java     |  18 +-
 23 files changed, 1094 insertions(+), 61 deletions(-)
 create mode 100644 app/res/raw-de/default_accounts.gnucash

diff --git a/app/res/layout/fragment_new_transaction.xml b/app/res/layout/fragment_new_transaction.xml
index e3108a13..674c549d 100644
--- a/app/res/layout/fragment_new_transaction.xml
+++ b/app/res/layout/fragment_new_transaction.xml
@@ -75,7 +75,23 @@
 		        android:textColor="@color/debit_red"
 		        android:checked="true" />
 		</LinearLayout>
-		
+        <LinearLayout
+                android:id="@+id/layout_double_entry"
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                style="@style/FormRow" >
+
+            <TextView
+                    android:text="@string/label_double_entry_account"
+                    android:layout_height="wrap_content"
+                    android:layout_width="wrap_content"
+                    android:layout_marginBottom="-8dip"
+                    style="@style/TextAppearance.EditTransaction_LabelSmall" />
+            <Spinner
+                    android:id="@+id/input_double_entry_accounts_spinner"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"  />
+        </LinearLayout>
 	    <LinearLayout android:layout_width="match_parent"
 	        android:layout_height="wrap_content"
 	        style="@style/FormRow" >
@@ -132,23 +148,6 @@
 			        android:gravity="top"
 			        />
 	   </LinearLayout>
-		<LinearLayout 
-			android:id="@+id/layout_double_entry"
-		    android:layout_width="match_parent"
-	        android:layout_height="wrap_content"
-            style="@style/FormRow" >
-	        
-			<TextView
-			    android:text="@string/label_double_entry_account"
-			    android:layout_height="wrap_content"
-			    android:layout_width="wrap_content"
-			    android:layout_marginBottom="-8dip"
-			    style="@style/TextAppearance.EditTransaction_LabelSmall" />
-		    <Spinner
-		        android:id="@+id/input_double_entry_accounts_spinner"        
-		        android:layout_width="match_parent"
-		        android:layout_height="wrap_content"  />
-	    </LinearLayout>
 
         <LinearLayout
                 android:layout_height="wrap_content"
diff --git a/app/res/raw-de/default_accounts.gnucash b/app/res/raw-de/default_accounts.gnucash
new file mode 100644
index 00000000..d0799758
--- /dev/null
+++ b/app/res/raw-de/default_accounts.gnucash
@@ -0,0 +1,915 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">3f929f1b1e6b465511039499090d73c5</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aktiva</act:name>
+  <act:id type="guid">bb6283955ae5656075b24063dc1676cb</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aktiva</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Barvermgen</act:name>
+  <act:id type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Barvermgen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">bb6283955ae5656075b24063dc1676cb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Girokonto</act:name>
+  <act:id type="guid">5552c0109c5d81e33b77b6e81e8fcddd</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Girokonto</act:description>
+  <act:parent type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sparkonto</act:name>
+  <act:id type="guid">395382d69974593064920ee8360bb980</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sparkonto</act:description>
+  <act:parent type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bargeld</act:name>
+  <act:id type="guid">ec82b8b6f9804d11d6e5d73288882ed9</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bargeld</act:description>
+  <act:parent type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fremdkapital</act:name>
+  <act:id type="guid">59f1baba8f40efd334098ab3bb2576ab</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>alle Verbindlichkeiten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Barverbindlichkeiten</act:name>
+  <act:id type="guid">49daf44dca0ab7c06d88bea1f0c0f95f</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Barverbindlichkeiten (noch offenstehende Rechnungen)</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">59f1baba8f40efd334098ab3bb2576ab</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kreditkarte</act:name>
+  <act:id type="guid">d76e56c4846eb1050701a7d03c0276ac</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kreditkarte</act:description>
+  <act:parent type="guid">49daf44dca0ab7c06d88bea1f0c0f95f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ertrge</act:name>
+  <act:id type="guid">fe0561366e2910da979c59c5076a49d2</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ertrge</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gehalt</act:name>
+  <act:id type="guid">14a86987d0fc5f26ac2cb261618df0c7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gehalt und Zulagen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gehalt</act:name>
+  <act:id type="guid">a4c31f68479cc0a170af4c07056e8112</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gehalt</act:description>
+  <act:parent type="guid">14a86987d0fc5f26ac2cb261618df0c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zulagen</act:name>
+  <act:id type="guid">6c4f5490ab74de015d49de590b07836f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zulagen und Bonus zum Gehalt</act:description>
+  <act:parent type="guid">14a86987d0fc5f26ac2cb261618df0c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenke</act:name>
+  <act:id type="guid">c1dbbbdcc5c85c6de7c5ccf95ba0222c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Empfangene Geschenke</act:description>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">e500acdffc4ee7fb15ee9f91398d2e80</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Ertrge</act:description>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zinsen</act:name>
+  <act:id type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zinseinkommen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Girokonto</act:name>
+  <act:id type="guid">2b6835e0f432520e17f1865e43e2be7a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Girokonto Zinsen</act:description>
+  <act:parent type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstige</act:name>
+  <act:id type="guid">92367d2b0fa0778a213d48f946e5abab</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Zinsen</act:description>
+  <act:parent type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sparkonto</act:name>
+  <act:id type="guid">e6f3ee5b458744f695bd860789597c9a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sparkonto Zinsen</act:description>
+  <act:parent type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aufwendungen</act:name>
+  <act:id type="guid">ffa641d7627742e69687ae8bd7018e4e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aufwendungen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bildung</act:name>
+  <act:id type="guid">563e690eff6bda293af526a006f1194e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bildung</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnements</act:name>
+  <act:id type="guid">290d2b6e7d88faca102c7ac4c4030132</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnements</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bcher</act:name>
+  <act:id type="guid">eacf76f23223f82730927f3ac7186f03</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bcher</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Broartikel</act:name>
+  <act:id type="guid">49ed449d4d977cecefa97cdcf1066373</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Broartikel</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zeitungen</act:name>
+  <act:id type="guid">3a6af0fdb8595a0c40dbea382a0ae1a7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zeitungen</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">2966daddaab685f16c694d84e6572d07</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fahrtkosten</act:name>
+  <act:id type="guid">0eba091fb6c839b139915da94e41c436</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fahrtkosten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fahrkarten</act:name>
+  <act:id type="guid">cfef57480ebbec97a1be62a46008a8fc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fahrkarten Bus, Bahn, Flugzeug</act:description>
+  <act:parent type="guid">0eba091fb6c839b139915da94e41c436</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenke</act:name>
+  <act:id type="guid">d0d91e0c938d91654ff3556affc139eb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Geschenke</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">4247f9ed713922a57922f682b48caedb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kleidung</act:name>
+  <act:id type="guid">ef1d7ea3b2e4f61c9be55947c71b9151</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kleidung</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lebensmittel</act:name>
+  <act:id type="guid">38d3e070b0e2bd51bb6755484aa9ca85</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lebensmittel</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medikamente</act:name>
+  <act:id type="guid">fbc213b7469530ffc6fa8e65539b2c4d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medikamente</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">0390c0ec401d77582e8b8997a67f4138</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstiges</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bankgebhren</act:name>
+  <act:id type="guid">8149f9f52234d5c07c2c156d05ac6bb3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Konto- und Bankgebhren</act:description>
+  <act:parent type="guid">0390c0ec401d77582e8b8997a67f4138</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">b2374ec9c7a86e218fbe3152c9117c64</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>nicht aufgegliederte Ausgaben</act:description>
+  <act:parent type="guid">0390c0ec401d77582e8b8997a67f4138</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Spenden</act:name>
+  <act:id type="guid">7b5425586aea52ce0a7aac120c5e3af9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wohlttige Spenden</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Steuern</act:name>
+  <act:id type="guid">008681ff038780e248d4b54447d5f7db</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Steuern und Sozialabgaben</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Einkommenssteuer</act:name>
+  <act:id type="guid">27bf8a087690bff2ad8f9c4369213293</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Einkommenssteuer</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pflegeversicherung</act:name>
+  <act:id type="guid">cad7aeba8266854070e9abdeb120a73d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pflegeversicherung</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rentenversicherung</act:name>
+  <act:id type="guid">6c9c7f7dac3354fcde65cf7bbd9e2c51</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rentenversicherung</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Solidarzuschlag</act:name>
+  <act:id type="guid">033765ac68f31a08e844baf3c859d626</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Solidarzuschlag</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstige</act:name>
+  <act:id type="guid">1fcbd312f9c76e1b8a7ee5a5cdeb9c89</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Steuern</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sozialabgaben</act:name>
+  <act:id type="guid">41f379aef9e82583079e0f431b21c5e4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Sozialabgaben</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telekommunikation</act:name>
+  <act:id type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telekommunikation</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fernsehen</act:name>
+  <act:id type="guid">54f22dcc8d2700b12afeb5159f6a9569</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>GEZ und Kabelfernsehen</act:description>
+  <act:parent type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online-Dienste</act:name>
+  <act:id type="guid">9172576b59d1299931a1c9cb84a2743c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online-Dienste</act:description>
+  <act:parent type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefon</act:name>
+  <act:id type="guid">c22fa6bba735490c8eb4107a83b2c71f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefon</act:description>
+  <act:parent type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Unterhaltung</act:name>
+  <act:id type="guid">601efb35975bce5cca6278a6825e2339</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Unterhaltung</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ausgehen</act:name>
+  <act:id type="guid">1b96fd879ce1727c556976c57977aeed</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auswrts Essen</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musik/Kino</act:name>
+  <act:id type="guid">1f7e3b0e07787cf8a1ee85fa833da225</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musik/Kino</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reisen</act:name>
+  <act:id type="guid">a02d8f04599bdf6f22730fed7e841664</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reisen</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sport</act:name>
+  <act:id type="guid">8131201ef42debd456438934eeaf5c6d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sport</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Versicherungen</act:name>
+  <act:id type="guid">ae19542498b7869b10996934e7e76043</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Versicherungen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Haftpflicht</act:name>
+  <act:id type="guid">a3c4edbdb87bb445254ee177aba3ef5c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Haftpflichtversicherung</act:description>
+  <act:parent type="guid">ae19542498b7869b10996934e7e76043</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Krankenversicherung</act:name>
+  <act:id type="guid">022087cc16c7115bdfcfec1e11f4e806</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Krankenversicherung</act:description>
+  <act:parent type="guid">ae19542498b7869b10996934e7e76043</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wohnen</act:name>
+  <act:id type="guid">bafbda77fb0c330593c1b767fcd493ad</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ausgaben fr Wohnung/Haus</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Miete</act:name>
+  <act:id type="guid">56759e7bab7c34324bffa512e6fb21d8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Miete</act:description>
+  <act:parent type="guid">bafbda77fb0c330593c1b767fcd493ad</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Nebenkosten</act:name>
+  <act:id type="guid">1e70f91bc100daab15a620cc03b3aa69</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wohnnebenkosten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">bafbda77fb0c330593c1b767fcd493ad</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abfall</act:name>
+  <act:id type="guid">50d4150d98ec5c05beefdb7b07a88269</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abfallentsorgung</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">837d03e3d8f7d3abe6b2f90606d5b6a7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Strom</act:name>
+  <act:id type="guid">278057b6c44ebabcb8abe27f07fb89de</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Strom</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wasser</act:name>
+  <act:id type="guid">a082529a28f6b3f7ef97acf089b62708</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wasser</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Anfangsbestand</act:name>
+  <act:id type="guid">9adade15378180f6b2fc74b3519044fe</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Anfangsbestand</act:description>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index ddbd990e..63ad0b01 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -381,4 +381,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 4f93d559..c58c5250 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -395,4 +395,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 4b341125..58e5a4b0 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -379,4 +379,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index db36b152..b27c9b8d 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -379,4 +379,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index 60ab6853..c9c807bd 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -377,4 +377,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 46017bb6..5d06bad7 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -380,4 +380,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 18c30a8e..f6243415 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -380,4 +380,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 442d2907..4876942f 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -382,4 +382,6 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index cba54f0c..467a981b 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -381,4 +381,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index d645aec7..7dc3df5b 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -379,4 +379,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index b63b5ed1..434369ca 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -377,4 +377,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 63bf5255..2b37e469 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -377,4 +377,6 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 43dff129..ef1163b5 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -614,4 +614,7 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
+    <string name="key_create_default_accounts">create_default_accounts</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="title_create_default_accounts">Create default accounts</string>
 </resources>
diff --git a/app/res/xml-v11/fragment_account_preferences.xml b/app/res/xml-v11/fragment_account_preferences.xml
index bf9fea3f..7655dda3 100644
--- a/app/res/xml-v11/fragment_account_preferences.xml
+++ b/app/res/xml-v11/fragment_account_preferences.xml
@@ -7,6 +7,9 @@
                     android:title="@string/title_default_currency"
                     android:entries="@array/currency_names"
                     android:entryValues="@array/currency_codes"/>
+    <Preference android:key="@string/key_create_default_accounts"
+                android:title="@string/title_create_default_accounts"
+                android:summary="@string/summary_create_default_accounts" />
     <Preference android:key="@string/key_import_accounts"
                 android:summary="@string/summary_import_accounts"
                 android:title="@string/title_import_accounts" />
diff --git a/app/res/xml/preference_headers.xml b/app/res/xml/preference_headers.xml
index 60292ac7..1f39430a 100644
--- a/app/res/xml/preference_headers.xml
+++ b/app/res/xml/preference_headers.xml
@@ -23,4 +23,12 @@
         android:title="@string/header_transaction_settings" />
     <header android:fragment="org.gnucash.android.ui.settings.AboutPreferenceFragment"
         android:title="@string/header_about_gnucash" />
+    <header android:title="Rate in Play Store">
+        <intent android:action="android.intent.action.VIEW"
+                android:data="market://details?id=org.gnucash.android" />
+    </header>
+    <header android:title="Send feedback">
+        <intent android:action="android.intent.action.VIEW"
+                android:data="mailto:gnucash.org@gmail.com?subject=GnuCash Android Feedback" />
+    </header>
 </preference-headers>
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index 6f29d124..dd6e053e 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -16,15 +16,6 @@
 
 package org.gnucash.android.data;
 
-import java.math.BigDecimal;
-import java.util.ArrayList;
-import java.util.Currency;
-import java.util.List;
-import java.util.Locale;
-import java.util.UUID;
-import java.util.regex.Pattern;
-
-import android.graphics.Color;
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.export.ofx.OfxExporter;
@@ -32,6 +23,10 @@
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 
+import java.math.BigDecimal;
+import java.util.*;
+import java.util.regex.Pattern;
+
 /**
  * An account represents a transaction account in with {@link Transaction}s may be recorded
  * Accounts have different types as specified by {@link AccountType} and also a currency with
@@ -51,6 +46,24 @@
 	 */
 	public static final String MIME_TYPE = "vnd.android.cursor.item/vnd.org.gnucash.android.account";
 
+    /*
+        ^             anchor for start of string
+        #             the literal #
+        (             start of group
+        ?:            indicate a non-capturing group that doesn't generate backreferences
+        [0-9a-fA-F]   hexadecimal digit
+        {3}           three times
+        )             end of group
+        {1,2}         repeat either once or twice
+        $             anchor for end of string
+     */
+    /**
+     * Regular expression for validating color code strings.
+     * Accepts #rgb and #rrggbb
+     */
+    //TODO: Allow use of #aarrggbb format as well
+    public static final String COLOR_HEX_REGEX = "^#(?:[0-9a-fA-F]{3}){1,2}$";
+
     /**
 	 * The type of account
 	 * This are the different types specified by the OFX format and 
@@ -345,21 +358,7 @@ public void setColorCode(String colorCode) {
         if (colorCode == null)
             return;
 
-        //TODO: Allow use of #aarrggbb format as well
-
-        /*
-            ^             anchor for start of string
-            #             the literal #
-            (             start of group
-            ?:            indicate a non-capturing group that doesn't generate backreferences
-            [0-9a-fA-F]   hexadecimal digit
-            {3}           three times
-            )             end of group
-            {1,2}         repeat either once or twice
-            $             anchor for end of string
-         */
-        String colorHexRegex = "^#(?:[0-9a-fA-F]{3}){1,2}$";
-        if (!Pattern.matches(colorHexRegex, colorCode))
+        if (!Pattern.matches(COLOR_HEX_REGEX, colorCode))
             throw new IllegalArgumentException("Invalid color hex code");
 
         this.mColorCode = colorCode;
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 7190b4e6..62e0ed22 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -25,6 +25,7 @@
 import android.content.SharedPreferences.Editor;
 import android.content.pm.PackageInfo;
 import android.content.pm.PackageManager.NameNotFoundException;
+import android.content.res.Resources;
 import android.net.Uri;
 import android.os.AsyncTask;
 import android.os.Bundle;
@@ -57,6 +58,8 @@
 import org.gnucash.android.util.GnucashAccountXmlHandler;
 import org.gnucash.android.util.OnAccountClickedListener;
 
+import java.io.FileNotFoundException;
+import java.io.InputStream;
 import java.util.*;
 
 /**
@@ -249,7 +252,7 @@ private void init() {
         Money.DEFAULT_CURRENCY_CODE = currencyCode;
 
         if (hasNewFeatures()){
-            showWhatsNewDialog();
+            showWhatsNewDialog(this);
         }
 
         boolean firstRun = prefs.getBoolean(getString(R.string.key_first_run), true);
@@ -288,17 +291,18 @@ private boolean hasNewFeatures(){
 	/**
 	 * Show dialog with new features for this version
 	 */
-	private void showWhatsNewDialog(){
-        StringBuilder releaseTitle = new StringBuilder(getResources().getString(R.string.title_whats_new));
+	public static void showWhatsNewDialog(Context context){
+        Resources resources = context.getResources();
+        StringBuilder releaseTitle = new StringBuilder(resources.getString(R.string.title_whats_new));
         PackageInfo packageInfo = null;
         try {
-            packageInfo = getPackageManager().getPackageInfo(getPackageName(), 0);
+            packageInfo = context.getPackageManager().getPackageInfo(context.getPackageName(), 0);
         } catch (NameNotFoundException e) {
             e.printStackTrace();
         }
         releaseTitle.append(" - v").append(packageInfo.versionName);
 
-        new AlertDialog.Builder(this)
+        new AlertDialog.Builder(context)
 		.setTitle(releaseTitle.toString())
 		.setMessage(R.string.whats_new)
 		.setPositiveButton(R.string.label_dismiss, new DialogInterface.OnClickListener() {
@@ -531,7 +535,12 @@ protected void onActivityResult(int requestCode, int resultCode, Intent data) {
 
         switch (requestCode){
             case AccountsListFragment.REQUEST_PICK_ACCOUNTS_FILE:
-                new AccountImporterTask(this).execute(data.getData());
+                try {
+                    InputStream accountInputStream = getContentResolver().openInputStream(data.getData());
+                    new AccountImporterTask(this).execute(accountInputStream);
+                } catch (FileNotFoundException e) {
+                    e.printStackTrace();
+                }
                 break;
         }
     }
@@ -570,7 +579,7 @@ private void removeFirstRunFlag(){
      * Imports a GnuCash (desktop) account file and displays a progress dialog.
      * The AccountsActivity is opened when importing is done.
      */
-    public static class AccountImporterTask extends AsyncTask<Uri, Void, Boolean>{
+    public static class AccountImporterTask extends AsyncTask<InputStream, Void, Boolean>{
         private final Context context;
         private ProgressDialog progressDialog;
 
@@ -589,9 +598,9 @@ protected void onPreExecute() {
         }
 
         @Override
-        protected Boolean doInBackground(Uri... uris) {
+        protected Boolean doInBackground(InputStream... inputStreams) {
             try {
-                GnucashAccountXmlHandler.parse(context, context.getContentResolver().openInputStream(uris[0]));
+                GnucashAccountXmlHandler.parse(context, inputStreams[0]);
             } catch (Exception exception){
                 exception.printStackTrace();
                 return false;
diff --git a/app/src/org/gnucash/android/ui/settings/AboutPreferenceFragment.java b/app/src/org/gnucash/android/ui/settings/AboutPreferenceFragment.java
index f06839bc..9c036e00 100644
--- a/app/src/org/gnucash/android/ui/settings/AboutPreferenceFragment.java
+++ b/app/src/org/gnucash/android/ui/settings/AboutPreferenceFragment.java
@@ -26,6 +26,7 @@
 
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockPreferenceActivity;
+import org.gnucash.android.ui.accounts.AccountsActivity;
 
 
 /**
@@ -53,5 +54,12 @@ public void onResume() {
 		String versionName = manager.getString(getString(R.string.key_build_version), "");
 		Preference pref = findPreference(getString(R.string.key_build_version));
 		pref.setSummary(versionName);
+        pref.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {
+            @Override
+            public boolean onPreferenceClick(Preference preference) {
+                AccountsActivity.showWhatsNewDialog(getActivity());
+                return true;
+            }
+        });
 	}
 }
\ No newline at end of file
diff --git a/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java b/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
index c198ee3e..d8f9c4cc 100644
--- a/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
+++ b/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
@@ -16,6 +16,8 @@
 
 package org.gnucash.android.ui.settings;
 
+import android.app.AlertDialog;
+import android.content.DialogInterface;
 import android.content.SharedPreferences;
 import android.os.Bundle;
 import android.preference.Preference;
@@ -25,6 +27,9 @@
 import com.actionbarsherlock.app.SherlockPreferenceActivity;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Money;
+import org.gnucash.android.ui.accounts.AccountsActivity;
+
+import java.io.InputStream;
 
 /**
  * Account settings fragment inside the Settings activity
@@ -63,6 +68,35 @@ public boolean onPreferenceClick(Preference preference) {
                 return true;
             }
         });
+
+        preference = findPreference(getString(R.string.key_create_default_accounts));
+        preference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {
+            @Override
+            public boolean onPreferenceClick(Preference preference) {
+                new AlertDialog.Builder(getActivity())
+                        .setTitle("Confirm")
+                        .setMessage("The new accounts will be created in addition to the existing account structure. " +
+                                "Any accounts with the same ID, they will simple be updated." +
+                                "If you wish to replace any currently existing accounts, delete them first before continuing this action!")
+                        .setPositiveButton("Create Accounts", new DialogInterface.OnClickListener() {
+                            @Override
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                InputStream accountFileInputStream = getResources().openRawResource(R.raw.default_accounts);
+                                new AccountsActivity.AccountImporterTask(getActivity()).execute(accountFileInputStream);
+                            }
+                        })
+                        .setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
+                            @Override
+                            public void onClick(DialogInterface dialogInterface, int i) {
+                                dialogInterface.dismiss();
+                            }
+                        })
+                        .create()
+                        .show();
+
+                return true;
+            }
+        });
     }
 
     public void deleteAllAccounts(){
diff --git a/app/src/org/gnucash/android/ui/settings/SettingsActivity.java b/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
index 4aa274fa..49d7f497 100644
--- a/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
+++ b/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
@@ -27,8 +27,6 @@
 import android.preference.Preference.OnPreferenceChangeListener;
 import android.preference.PreferenceManager;
 import android.util.Log;
-import android.view.View;
-import android.widget.AdapterView;
 import android.widget.Toast;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockPreferenceActivity;
@@ -36,12 +34,12 @@
 import org.gnucash.android.R;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.db.AccountsDbAdapter;
-import org.gnucash.android.db.DatabaseHelper;
 import org.gnucash.android.db.TransactionsDbAdapter;
 import org.gnucash.android.ui.accounts.AccountsActivity;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 
-import java.util.Currency;
+import java.io.FileNotFoundException;
+import java.io.InputStream;
 import java.util.List;
 import java.util.Timer;
 import java.util.TimerTask;
@@ -119,6 +117,12 @@ protected void onCreate(Bundle savedInstanceState) {
 
             pref = findPreference(getString(R.string.key_delete_all_accounts));
             pref.setOnPreferenceClickListener(this);
+
+            pref = findPreference(getString(R.string.key_build_version));
+            pref.setOnPreferenceClickListener(this);
+
+            pref = findPreference(getString(R.string.key_create_default_accounts));
+            pref.setOnPreferenceClickListener(this);
 		}
 	}
 
@@ -176,6 +180,11 @@ public boolean onPreferenceClick(Preference preference) {
             return true;
         }
 
+        if (key.equals(getString(R.string.key_build_version))){
+            AccountsActivity.showWhatsNewDialog(this);
+            return true;
+        }
+
         //since we cannot get a support FragmentManager in the SettingsActivity pre H0NEYCOMB,
         //we will just use 2 taps within 2 seconds as confirmation
         if (key.equals(getString(R.string.key_delete_all_accounts))){
@@ -190,6 +199,7 @@ public boolean onPreferenceClick(Preference preference) {
             }
             Timer timer = new Timer();
             timer.schedule(new ResetCounter(), DOUBLE_TAP_DELAY);
+            return true;
         }
 
         if (key.equals(getString(R.string.key_delete_all_transactions))){
@@ -204,6 +214,7 @@ public boolean onPreferenceClick(Preference preference) {
             }
             Timer timer = new Timer();
             timer.schedule(new ResetCounter(), DOUBLE_TAP_DELAY);
+            return true;
         }
 
         return false;
@@ -219,8 +230,11 @@ public void run() {
             mDeleteAccountsClickCount = 0;
             mDeleteTransactionsClickCount = 0;
         }
-    };
+    }
 
+    /**
+     * Starts a request to pick a file to import into GnuCash
+     */
     public void importAccounts() {
         Intent pickIntent = new Intent(Intent.ACTION_GET_CONTENT);
         pickIntent.setType("application/*");
@@ -238,7 +252,14 @@ public void onActivityResult(int requestCode, int resultCode, Intent data) {
 
         switch (requestCode){
             case AccountsListFragment.REQUEST_PICK_ACCOUNTS_FILE:
-                new AccountsActivity.AccountImporterTask(this).execute(data.getData());
+                try {
+                    InputStream accountInputStream = getContentResolver().openInputStream(data.getData());
+                    new AccountsActivity.AccountImporterTask(this).execute(accountInputStream);
+                } catch (FileNotFoundException e) {
+                    e.printStackTrace();
+                    Toast.makeText(this, R.string.toast_error_importing_accounts, Toast.LENGTH_SHORT).show();
+                }
+
                 break;
         }
     }
diff --git a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
index 493547ab..9f292139 100644
--- a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
+++ b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
@@ -32,6 +32,7 @@
 import javax.xml.parsers.SAXParserFactory;
 import java.io.*;
 import java.util.Currency;
+import java.util.regex.Pattern;
 
 /**
  * Handler for parsing the GnuCash accounts structure file.
@@ -127,7 +128,6 @@ public void endElement(String uri, String localName, String qualifiedName) throw
 
         if (qualifiedName.equalsIgnoreCase(TAG_CURRENCY)){
             if (mAccount != null){
-                Log.i(LOG_TAG, mAccount.getName() + " account has no currency!");
                 String currencyCode = mISO4217Currency ? characterString : NO_CURRENCY_CODE;
                 mAccount.setCurrency(Currency.getInstance(currencyCode));
             }
@@ -164,9 +164,19 @@ public void endElement(String uri, String localName, String qualifiedName) throw
             }
 
             if (mInColorSlot){
-                Log.d(LOG_TAG, "Setting account color");
-                String color = "#" + characterString.trim().replaceAll(".(.)?", "$1").replace("null", "");
-                mAccount.setColorCode(color);
+                String color = characterString.trim();
+                //Gnucash exports the account color in format #rrrgggbbb, but we need only #rrggbb.
+                //so we trim the last digit in each block, doesn't affect the color much
+                if (!Pattern.matches(Account.COLOR_HEX_REGEX, color))
+                    color = "#" + color.replaceAll(".(.)?", "$1").replace("null", "");
+                try {
+                    mAccount.setColorCode(color);
+                } catch (IllegalArgumentException ex){
+                    //sometimes the color entry in the account file is "Not set" instead of just blank. So catch!
+                    Log.i(LOG_TAG, "Invalid color code '" + color + "' for account " + mAccount.getName());
+                    ex.printStackTrace();
+                }
+
                 mInColorSlot = false;
             }
         }

From 0693b535279ad2f39b2011af7564a3a1c441826b Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Tue, 28 Jan 2014 18:08:53 +0100
Subject: [PATCH 35/43] FIXME: double transactions for editing have wrong
 sign/type when opened Fixed: CASH accounts should be treated like asset
 accounts Fixed: Transaction type not properly loaded from database Fixed: Tab
 title color not shown for favorite/recent accounts immediately after app
 launch Fixed: Crash when opening and quickly navigating away from list of
 transactions due to back Added default commonly used account structure for
 de_AT locale Updated dialog confirmation text for creating default accounts
 Updated German translation Code refactoring

---
 app/res/menu/account_actions.xml                   |  16 +-
 .../default_accounts.gnucash                       |   0
 app/res/raw-de-rDE/default_accounts.gnucash        | 937 +++++++++++++++++++++
 app/res/values-de/strings.xml                      |  72 +-
 app/res/values-el/strings.xml                      |   6 +-
 app/res/values-es-rMX/strings.xml                  |   6 +-
 app/res/values-es/strings.xml                      |   6 +-
 app/res/values-fr/strings.xml                      |   6 +-
 app/res/values-hu/strings.xml                      |   6 +-
 app/res/values-it/strings.xml                      |   6 +-
 app/res/values-nb/strings.xml                      |   6 +-
 app/res/values-nl/strings.xml                      |   6 +-
 app/res/values-pt-rBR/strings.xml                  |   6 +-
 app/res/values-ru/strings.xml                      |   6 +-
 app/res/values-zh/strings.xml                      |   6 +-
 app/res/values/strings.xml                         |  10 +-
 app/src/org/gnucash/android/data/Account.java      |  36 +-
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  16 +-
 .../gnucash/android/db/TransactionsDbAdapter.java  |  52 +-
 .../android/ui/accounts/AccountsActivity.java      |   6 +
 .../android/ui/accounts/AccountsListFragment.java  |  24 +-
 .../ui/settings/AccountPreferencesFragment.java    |  12 +-
 .../ui/transactions/NewTransactionFragment.java    |  41 +-
 .../ui/transactions/TransactionsActivity.java      |  13 +-
 .../ui/transactions/TransactionsListFragment.java  | 113 ++-
 25 files changed, 1231 insertions(+), 183 deletions(-)
 rename app/res/{raw-de => raw-de-rAT}/default_accounts.gnucash (100%)
 create mode 100644 app/res/raw-de-rDE/default_accounts.gnucash

diff --git a/app/res/menu/account_actions.xml b/app/res/menu/account_actions.xml
index 54cd6479..bbe9fe60 100644
--- a/app/res/menu/account_actions.xml
+++ b/app/res/menu/account_actions.xml
@@ -20,15 +20,17 @@
           android:icon="@drawable/content_new_holo_dark"
           android:title="@string/title_add_account"
           android:showAsAction="always"/>
-    
-        <item android:id="@+id/menu_export"
-          android:icon="@drawable/content_import_export_holo_light"
-          android:title="@string/menu_export_transactions"
-          android:showAsAction="never"
-          android:orderInCategory="3"/>
 
     <item android:id="@+id/menu_recurring_transactions"
-          android:title="Recurring Transactions"
+          android:title="@string/menu_item_recurring_transactions"
           android:showAsAction="never|withText"
           android:orderInCategory="4" />
+
+    <item android:id="@+id/menu_export"
+          android:icon="@drawable/content_import_export_holo_light"
+          android:title="@string/menu_export_transactions"
+          android:showAsAction="never"
+          android:orderInCategory="5"/>
+
+
 </menu>
\ No newline at end of file
diff --git a/app/res/raw-de/default_accounts.gnucash b/app/res/raw-de-rAT/default_accounts.gnucash
similarity index 100%
rename from app/res/raw-de/default_accounts.gnucash
rename to app/res/raw-de-rAT/default_accounts.gnucash
diff --git a/app/res/raw-de-rDE/default_accounts.gnucash b/app/res/raw-de-rDE/default_accounts.gnucash
new file mode 100644
index 00000000..eb2ff7c1
--- /dev/null
+++ b/app/res/raw-de-rDE/default_accounts.gnucash
@@ -0,0 +1,937 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">3f929f1b1e6b465511039499090d73c5</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aktiva</act:name>
+  <act:id type="guid">bb6283955ae5656075b24063dc1676cb</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aktiva</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Barvermgen</act:name>
+  <act:id type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Barvermgen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">bb6283955ae5656075b24063dc1676cb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Girokonto</act:name>
+  <act:id type="guid">5552c0109c5d81e33b77b6e81e8fcddd</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Girokonto</act:description>
+  <act:parent type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sparkonto</act:name>
+  <act:id type="guid">395382d69974593064920ee8360bb980</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sparkonto</act:description>
+  <act:parent type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bargeld</act:name>
+  <act:id type="guid">ec82b8b6f9804d11d6e5d73288882ed9</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bargeld</act:description>
+  <act:parent type="guid">506ae10d76ccdf86937d7f0daeb5f571</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fremdkapital</act:name>
+  <act:id type="guid">59f1baba8f40efd334098ab3bb2576ab</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>alle Verbindlichkeiten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Barverbindlichkeiten</act:name>
+  <act:id type="guid">49daf44dca0ab7c06d88bea1f0c0f95f</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Barverbindlichkeiten (noch offenstehende Rechnungen)</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">59f1baba8f40efd334098ab3bb2576ab</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kreditkarte</act:name>
+  <act:id type="guid">d76e56c4846eb1050701a7d03c0276ac</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kreditkarte</act:description>
+  <act:parent type="guid">49daf44dca0ab7c06d88bea1f0c0f95f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ertrge</act:name>
+  <act:id type="guid">fe0561366e2910da979c59c5076a49d2</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ertrge</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gehalt</act:name>
+  <act:id type="guid">14a86987d0fc5f26ac2cb261618df0c7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gehalt und Zulagen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gehalt</act:name>
+  <act:id type="guid">a4c31f68479cc0a170af4c07056e8112</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gehalt</act:description>
+  <act:parent type="guid">14a86987d0fc5f26ac2cb261618df0c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zulagen</act:name>
+  <act:id type="guid">6c4f5490ab74de015d49de590b07836f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zulagen und Bonus zum Gehalt</act:description>
+  <act:parent type="guid">14a86987d0fc5f26ac2cb261618df0c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenke</act:name>
+  <act:id type="guid">c1dbbbdcc5c85c6de7c5ccf95ba0222c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Empfangene Geschenke</act:description>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">e500acdffc4ee7fb15ee9f91398d2e80</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Ertrge</act:description>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zinsen</act:name>
+  <act:id type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zinseinkommen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fe0561366e2910da979c59c5076a49d2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Girokonto</act:name>
+  <act:id type="guid">2b6835e0f432520e17f1865e43e2be7a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Girokonto Zinsen</act:description>
+  <act:parent type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstige</act:name>
+  <act:id type="guid">92367d2b0fa0778a213d48f946e5abab</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Zinsen</act:description>
+  <act:parent type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sparkonto</act:name>
+  <act:id type="guid">e6f3ee5b458744f695bd860789597c9a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sparkonto Zinsen</act:description>
+  <act:parent type="guid">afe7dd6e79c7f6672b23a49af8e49bac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aufwendungen</act:name>
+  <act:id type="guid">ffa641d7627742e69687ae8bd7018e4e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aufwendungen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bildung</act:name>
+  <act:id type="guid">563e690eff6bda293af526a006f1194e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bildung</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnements</act:name>
+  <act:id type="guid">290d2b6e7d88faca102c7ac4c4030132</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnements</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bcher</act:name>
+  <act:id type="guid">eacf76f23223f82730927f3ac7186f03</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bcher</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Broartikel</act:name>
+  <act:id type="guid">49ed449d4d977cecefa97cdcf1066373</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Broartikel</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zeitungen</act:name>
+  <act:id type="guid">3a6af0fdb8595a0c40dbea382a0ae1a7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zeitungen</act:description>
+  <act:parent type="guid">563e690eff6bda293af526a006f1194e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">2966daddaab685f16c694d84e6572d07</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fahrtkosten</act:name>
+  <act:id type="guid">0eba091fb6c839b139915da94e41c436</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fahrtkosten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fahrkarten</act:name>
+  <act:id type="guid">cfef57480ebbec97a1be62a46008a8fc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fahrkarten Bus, Bahn, Flugzeug</act:description>
+  <act:parent type="guid">0eba091fb6c839b139915da94e41c436</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenke</act:name>
+  <act:id type="guid">d0d91e0c938d91654ff3556affc139eb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Geschenke</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">4247f9ed713922a57922f682b48caedb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kleidung</act:name>
+  <act:id type="guid">ef1d7ea3b2e4f61c9be55947c71b9151</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kleidung</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lebensmittel</act:name>
+  <act:id type="guid">38d3e070b0e2bd51bb6755484aa9ca85</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lebensmittel</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medikamente</act:name>
+  <act:id type="guid">fbc213b7469530ffc6fa8e65539b2c4d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medikamente</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">0390c0ec401d77582e8b8997a67f4138</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstiges</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bankgebhren</act:name>
+  <act:id type="guid">8149f9f52234d5c07c2c156d05ac6bb3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Konto- und Bankgebhren</act:description>
+  <act:parent type="guid">0390c0ec401d77582e8b8997a67f4138</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">b2374ec9c7a86e218fbe3152c9117c64</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>nicht aufgegliederte Ausgaben</act:description>
+  <act:parent type="guid">0390c0ec401d77582e8b8997a67f4138</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Spenden</act:name>
+  <act:id type="guid">7b5425586aea52ce0a7aac120c5e3af9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wohlttige Spenden</act:description>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Steuern</act:name>
+  <act:id type="guid">008681ff038780e248d4b54447d5f7db</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Steuern und Sozialabgaben</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Einkommenssteuer</act:name>
+  <act:id type="guid">27bf8a087690bff2ad8f9c4369213293</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Einkommenssteuer</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pflegeversicherung</act:name>
+  <act:id type="guid">cad7aeba8266854070e9abdeb120a73d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pflegeversicherung</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rentenversicherung</act:name>
+  <act:id type="guid">6c9c7f7dac3354fcde65cf7bbd9e2c51</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rentenversicherung</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Solidarzuschlag</act:name>
+  <act:id type="guid">033765ac68f31a08e844baf3c859d626</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Solidarzuschlag</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstige</act:name>
+  <act:id type="guid">1fcbd312f9c76e1b8a7ee5a5cdeb9c89</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Steuern</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sozialabgaben</act:name>
+  <act:id type="guid">41f379aef9e82583079e0f431b21c5e4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Sozialabgaben</act:description>
+  <act:parent type="guid">008681ff038780e248d4b54447d5f7db</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telekommunikation</act:name>
+  <act:id type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telekommunikation</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fernsehen</act:name>
+  <act:id type="guid">54f22dcc8d2700b12afeb5159f6a9569</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>GEZ und Kabelfernsehen</act:description>
+  <act:parent type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online-Dienste</act:name>
+  <act:id type="guid">9172576b59d1299931a1c9cb84a2743c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online-Dienste</act:description>
+  <act:parent type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefon</act:name>
+  <act:id type="guid">c22fa6bba735490c8eb4107a83b2c71f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefon</act:description>
+  <act:parent type="guid">61aaa0927d60049e8d8af14b8bc9caa3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Unterhaltung</act:name>
+  <act:id type="guid">601efb35975bce5cca6278a6825e2339</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Unterhaltung</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ausgehen</act:name>
+  <act:id type="guid">1b96fd879ce1727c556976c57977aeed</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auswrts Essen</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musik/Kino</act:name>
+  <act:id type="guid">1f7e3b0e07787cf8a1ee85fa833da225</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musik/Kino</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reisen</act:name>
+  <act:id type="guid">a02d8f04599bdf6f22730fed7e841664</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reisen</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sport</act:name>
+  <act:id type="guid">8131201ef42debd456438934eeaf5c6d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sport</act:description>
+  <act:parent type="guid">601efb35975bce5cca6278a6825e2339</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Versicherungen</act:name>
+  <act:id type="guid">ae19542498b7869b10996934e7e76043</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Versicherungen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Haftpflicht</act:name>
+  <act:id type="guid">a3c4edbdb87bb445254ee177aba3ef5c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Haftpflichtversicherung</act:description>
+  <act:parent type="guid">ae19542498b7869b10996934e7e76043</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Krankenversicherung</act:name>
+  <act:id type="guid">022087cc16c7115bdfcfec1e11f4e806</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Krankenversicherung</act:description>
+  <act:parent type="guid">ae19542498b7869b10996934e7e76043</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wohnen</act:name>
+  <act:id type="guid">bafbda77fb0c330593c1b767fcd493ad</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ausgaben fr Wohnung/Haus</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ffa641d7627742e69687ae8bd7018e4e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Miete</act:name>
+  <act:id type="guid">56759e7bab7c34324bffa512e6fb21d8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Miete</act:description>
+  <act:parent type="guid">bafbda77fb0c330593c1b767fcd493ad</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Nebenkosten</act:name>
+  <act:id type="guid">1e70f91bc100daab15a620cc03b3aa69</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wohnnebenkosten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">bafbda77fb0c330593c1b767fcd493ad</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abfall</act:name>
+  <act:id type="guid">50d4150d98ec5c05beefdb7b07a88269</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abfallentsorgung</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">837d03e3d8f7d3abe6b2f90606d5b6a7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Strom</act:name>
+  <act:id type="guid">278057b6c44ebabcb8abe27f07fb89de</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Strom</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wasser</act:name>
+  <act:id type="guid">a082529a28f6b3f7ef97acf089b62708</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wasser</act:description>
+  <act:parent type="guid">1e70f91bc100daab15a620cc03b3aa69</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Anfangsbestand</act:name>
+  <act:id type="guid">9adade15378180f6b2fc74b3519044fe</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Anfangsbestand</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index 63ad0b01..b12a249a 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -316,42 +316,40 @@
     </string>
 	<string name="label_dismiss">Schlieen</string>
     <string name="toast_transanction_amount_required">Geben Sie einen Betrag ein um die Buchung speichern zu knnen</string>
-    <string name="menu_import_accounts">Import GnuCash Accounts</string>
-    <string name="btn_import_accounts">Import Accounts</string>
-    <string name="toast_error_importing_accounts">An error occurred while importing the GnuCash accounts</string>
-    <string name="toast_success_importing_accounts">GnuCash Accounts successfully imported</string>
+    <string name="menu_import_accounts">GnuCash Konten importieren</string>
+    <string name="btn_import_accounts">Konten importieren</string>
+    <string name="toast_error_importing_accounts">Beim importieren von den GnuCash Konten ist einen Fehler aufgetreten!</string>
+    <string name="toast_success_importing_accounts">GnuCash Konten wurden erfolgreich importiert</string>
     <string name="summary_import_accounts">Import account structure exported from GnuCash desktop</string>
-    <string name="title_import_accounts">Import GnuCash accounts</string>
-    <string name="summary_delete_all_accounts">Delete all accounts in the database. All transactions will be deleted as
-        well.
+    <string name="title_import_accounts">GnuCash Konten importieren</string>
+    <string name="summary_delete_all_accounts">Alle Konten lschen. Alle Buchungen werden ebenfalls gelscht!</string>
+    <string name="title_delete_all_accounts">Alle Konten lschen</string>
+    <string name="header_account_settings">Konten</string>
+    <string name="toast_all_accounts_deleted">Alle Konten wurden erfolgreich gelscht</string>
+    <string name="confirm_delete_all_accounts">Wollen Sie wirklich ALLE Konten und Buchungen lschen?
+        \n\nDiese Operation kann nicht rckgngig gemacht werden!
     </string>
-    <string name="title_delete_all_accounts">Delete all accounts</string>
-    <string name="header_account_settings">Accounts</string>
-    <string name="toast_all_accounts_deleted">All accounts have been successfully deleted</string>
-    <string name="confirm_delete_all_accounts">Are you sure you want to delete all accounts and transactions? \nThis
-        operation cannot be undone!
-    </string>
-    <string name="label_account_type">Account Type</string>
-    <string name="summary_delete_all_transactions">All transactions in all accounts will be deleted!</string>
-    <string name="title_delete_all_transactions">Delete all transactions</string>
-    <string name="toast_all_transactions_deleted">All transactions successfully deleted!</string>
+    <string name="label_account_type">Kontoart</string>
+    <string name="summary_delete_all_transactions">Alle Buchungen in alle Konten werden gelscht</string>
+    <string name="title_delete_all_transactions">Alle Buchungen lschen</string>
+    <string name="toast_all_transactions_deleted">Alle Buchungen wurden erfolgreich gelscht</string>
     <string name="title_progress_importing_accounts">Importing accounts</string>
     <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
-    <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_subaccounts">Sub-Accounts</string>
-    <string name="menu_search_accounts">Search</string>
-    <string name="title_default_export_format">Default Export Format</string>
+    <string name="section_header_transactions">Buchungen</string>
+    <string name="section_header_subaccounts">Unterkonten</string>
+    <string name="menu_search_accounts">Suchen</string>
+    <string name="title_default_export_format">Standard Export Format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions</string>
+    <string name="menu_export_transactions">Buchungen exportieren</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Ausgleichskonto</string>
-    <string name="title_progress_exporting_transactions">Exporting transactions</string>
-    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
-    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
-    <string name="label_placeholder_account">Placeholder account</string>
-    <string name="label_default_transfer_account">Default Transfer Account</string>
-    <string name="label_account_color_and_type">Account Color &amp; Type</string>
+    <string name="title_progress_exporting_transactions">Die Buchungen werden exportiert</string>
+    <string name="label_no_recurring_transactions">Keine wiederkehrende Buchungen vorhanden</string>
+    <string name="toast_recurring_transaction_deleted">Die wiederkehrende Buchung wurde erfolgreich gelscht</string>
+    <string name="label_placeholder_account">Platzhalter Konto</string>
+    <string name="label_default_transfer_account">Standard berweisungskonto</string>
+    <string name="label_account_color_and_type">Kontofarbe &amp; -art</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d Unterkonto</item>
         <item quantity="other">%d Unterkonten</item>
@@ -376,11 +374,15 @@
         <item>OFX</item>
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
-    <string name="color_picker_default_title">Select a Color</string>
-    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
-    <string name="title_recent_accounts">Recent</string>
-    <string name="title_favorite_accounts">Favorites</string>
-    <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
-    <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="color_picker_default_title">Farbe auswhlen</string>
+    <string name="label_delete_sub_accounts">Unterkonten lschen</string>
+    <string name="title_recent_accounts">Krzlich</string>
+    <string name="title_favorite_accounts">Favoriten</string>
+    <string name="title_all_accounts">Alle</string>
+    <string name="summary_create_default_accounts">Erstellt die hufig verwendete standard GnuCash Konten</string>
+    <string name="title_create_default_accounts">Standard Konten erstellen</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Wiederkehrende Buchungen</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index c58c5250..00ac5a36 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -395,6 +395,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 58e5a4b0..5fffe80f 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -379,6 +379,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index b27c9b8d..b9e022aa 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -379,6 +379,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index c9c807bd..fd6fffd9 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -377,6 +377,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 5d06bad7..74110e4d 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -380,6 +380,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index f6243415..ebb2f657 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -380,6 +380,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 4876942f..c7bcb29d 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -382,6 +382,10 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 467a981b..9c1eec8c 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -381,6 +381,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 7dc3df5b..3230b66d 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -379,6 +379,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 434369ca..d85fccda 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -377,6 +377,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 2b37e469..aae41e9d 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -377,6 +377,10 @@
     <string name="title_recent_accounts">Recent</string>
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index ef1163b5..c889147d 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -523,7 +523,7 @@
     <string name="title_delete_all_accounts">Delete all accounts</string>
     <string name="header_account_settings">Accounts</string>
     <string name="toast_all_accounts_deleted">All accounts have been successfully deleted</string>
-    <string name="confirm_delete_all_accounts">Are you sure you want to delete all accounts and transactions? \nThis
+    <string name="confirm_delete_all_accounts">Are you sure you want to delete all accounts and transactions? \n\nThis
         operation cannot be undone!
     </string>
     <string name="label_account_type">Account Type</string>
@@ -539,7 +539,7 @@
     <string name="title_default_export_format">Default Export Format</string>
     <string name="key_default_export_format">default_export_format</string>
     <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions...</string>
+    <string name="menu_export_transactions">Export transactions</string>
     <string name="label_recurring_transaction">Recurrence</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name">Imbalance</string>
@@ -615,6 +615,10 @@
     <string name="title_favorite_accounts">Favorites</string>
     <string name="title_all_accounts">All</string>
     <string name="key_create_default_accounts">create_default_accounts</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash account structure. All current accounts (and transactions) will be deleted!</string>
+    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
+    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    </string>
+    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
 </resources>
diff --git a/app/src/org/gnucash/android/data/Account.java b/app/src/org/gnucash/android/data/Account.java
index dd6e053e..6e4a6e8d 100644
--- a/app/src/org/gnucash/android/data/Account.java
+++ b/app/src/org/gnucash/android/data/Account.java
@@ -20,6 +20,7 @@
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.export.ofx.OfxExporter;
 import org.gnucash.android.export.qif.QifHelper;
+import org.gnucash.android.data.Transaction.TransactionType;
 import org.w3c.dom.Document;
 import org.w3c.dom.Element;
 
@@ -70,34 +71,43 @@
 	 * they are currently not used except for exporting
 	 */
 	public enum AccountType {
-        CASH, BANK, CREDIT, ASSET(true), LIABILITY, INCOME, EXPENSE(true),
-        PAYABLE, RECEIVABLE, EQUITY, CURRENCY, STOCK, MUTUAL, ROOT;
+        CASH(TransactionType.DEBIT), BANK, CREDIT, ASSET(TransactionType.DEBIT), LIABILITY, INCOME,
+        EXPENSE(TransactionType.DEBIT), PAYABLE, RECEIVABLE, EQUITY, CURRENCY, STOCK, MUTUAL, ROOT;
 
         /**
-         * Indicates that this type of account has an inverted state for credits and debits.
-         * Credits decrease the account balance, while debits increase it.
+         * Indicates that this type of normal balance the account type has
+         * <p>To increase the value of an account with normal balance of credit, one would credit the account.
+         * To increase the value of an account with normal balance of debit, one would likewise debit the account.</p>
          */
-        private boolean mInvertedCredit = false;
+        private TransactionType mNormalBalance = TransactionType.CREDIT;
 
-        private AccountType(boolean invertedCredit){
-            mInvertedCredit = invertedCredit;
+        private AccountType(TransactionType normalBalance){
+            this.mNormalBalance = normalBalance;
         }
 
         private AccountType() {
             //nothing to see here, move along
         }
 
-        public boolean hasInvertedCredit(){
-            return mInvertedCredit;
+        public boolean hasDebitNormalBalance(){
+            return mNormalBalance == TransactionType.DEBIT;
         }
-    };
+
+        /**
+         * Returns the type of normal balance this account possesses
+         * @return TransactionType balance of the account type
+         */
+        public TransactionType getNormalBalanceType(){
+            return mNormalBalance;
+        }
+    }
 
     /**
      * Accounts types which are used by the OFX standard
      */
-	public enum OfxAccountType {CHECKING, SAVINGS, MONEYMRKT, CREDITLINE };
-		
-	/**
+	public enum OfxAccountType {CHECKING, SAVINGS, MONEYMRKT, CREDITLINE }
+
+    /**
 	 * Unique Identifier of the account
 	 * It is generated when the account is created and can be set a posteriori as well
 	 */
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index 1cd306ac..a928f431 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -360,16 +360,7 @@ public String getAccountColorCode(long accountId){
 	 * @return {@link AccountType} of the account
 	 */
 	public AccountType getAccountType(String uid){
-		String type = null;
-		Cursor c = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME, 
-				new String[]{DatabaseHelper.KEY_TYPE}, 
-				DatabaseHelper.KEY_UID + "='" + uid + "'", 
-				null, null, null, null);
-		if (c != null && c.moveToFirst()){
-			type = c.getString(0); //0 because we requested only the type column
-			c.close();
-		}
-		return AccountType.valueOf(type);
+        return mTransactionsAdapter.getAccountType(uid);
 	}
 
     /**
@@ -562,7 +553,7 @@ public Cursor fetchTopLevelAccounts(){
     public Cursor fetchRecentAccounts(int numberOfRecents){
         Cursor recentTxCursor = mDb.query(true, DatabaseHelper.TRANSACTIONS_TABLE_NAME,
                 new String[]{DatabaseHelper.KEY_ACCOUNT_UID},
-                null, null, null, null, DatabaseHelper.KEY_TIMESTAMP, Integer.toString(numberOfRecents));
+                null, null, null, null, DatabaseHelper.KEY_TIMESTAMP + " DESC", Integer.toString(numberOfRecents));
         StringBuilder recentAccountUIDs = new StringBuilder("(");
         while (recentTxCursor.moveToNext()){
             String uid = recentTxCursor.getString(recentTxCursor.getColumnIndexOrThrow(DatabaseHelper.KEY_ACCOUNT_UID));
@@ -698,6 +689,9 @@ public String getCurrencyCode(String accountUID){
      * @see #getFullyQualifiedAccountName(String)
      */
     public String getAccountName(String accountUID){
+        if (accountUID == null)
+            return null;
+
         Cursor cursor = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
                 new String[]{DatabaseHelper.KEY_ROW_ID, DatabaseHelper.KEY_NAME},
                 DatabaseHelper.KEY_UID + " = ?",
diff --git a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
index ac44ebe4..ed9c1fd5 100644
--- a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
@@ -16,21 +16,19 @@
 
 package org.gnucash.android.db;
 
-import java.math.BigDecimal;
-import java.util.ArrayList;
-import java.util.Currency;
-import java.util.List;
-
-import com.sun.swing.internal.plaf.metal.resources.metal_pt_BR;
-import org.gnucash.android.data.Account;
-import org.gnucash.android.data.Money;
-import org.gnucash.android.data.Transaction;
-
 import android.content.ContentValues;
 import android.content.Context;
 import android.database.Cursor;
 import android.database.sqlite.SQLiteStatement;
 import android.util.Log;
+import org.gnucash.android.data.Account;
+import org.gnucash.android.data.Money;
+import org.gnucash.android.data.Transaction;
+
+import java.math.BigDecimal;
+import java.util.ArrayList;
+import java.util.Currency;
+import java.util.List;
 
 /**
  * Manages persistence of {@link Transaction}s in the database
@@ -108,11 +106,11 @@ public long fetchTransactionWithUID(String uid){
 	 * @return {@link Transaction} object corresponding to database record
 	 */
 	public Transaction getTransaction(long rowId){
-		Transaction transaction = null;
 		if (rowId <= 0)
-			return transaction;
+			return null;
 		
 		Log.v(TAG, "Fetching transaction with id " + rowId);
+        Transaction transaction = null;
 		Cursor c =	fetchRecord(DatabaseHelper.TRANSACTIONS_TABLE_NAME, rowId);
 		if (c != null && c.moveToFirst()){
 			transaction = buildTransactionInstance(c);			
@@ -214,7 +212,8 @@ public Transaction buildTransactionInstance(Cursor c){
 		transaction.setExported(c.getInt(DatabaseAdapter.COLUMN_EXPORTED) == 1);
 		transaction.setDoubleEntryAccountUID(doubleAccountUID);
         transaction.setRecurrencePeriod(recurrencePeriod);
-		
+		transaction.setTransactionType(Transaction.TransactionType.valueOf(c.getString(DatabaseAdapter.COLUMN_TYPE)));
+
 		return transaction;
 	}
 
@@ -325,8 +324,7 @@ public int getTransactionsCount(long accountId){
 	public long getAllTransactionsCount(){
 		String sql = "SELECT COUNT(*) FROM " + DatabaseHelper.TRANSACTIONS_TABLE_NAME;		
 		SQLiteStatement statement = mDb.compileStatement(sql);
-	    long count = statement.simpleQueryForLong();
-	    return count;
+        return statement.simpleQueryForLong();
 	}
 	
 	/**
@@ -336,6 +334,7 @@ public long getAllTransactionsCount(){
 	 * @return Sum of transactions belonging to the account
 	 */
 	public Money getTransactionsSum(long accountId){
+        //FIXME: Properly compute the balance while considering normal account balance
         String accountUID = getAccountUID(accountId);
 
         String querySum = "SELECT TOTAL(" + DatabaseHelper.KEY_AMOUNT
@@ -365,8 +364,7 @@ public Money getTransactionsSum(long accountId){
 
         BigDecimal sumDecimal = new BigDecimal(sum);
         Currency currency = Currency.getInstance(getCurrencyCode(accountUID));
-        Money transactionSum = new Money(sumDecimal, currency);
-        return transactionSum;
+        return new Money(sumDecimal, currency);
 	}
 	
 	/**
@@ -378,7 +376,25 @@ public Money getTransactionsSum(long accountId){
 	public boolean isSameAccount(long rowId, String accountUID){
 		return getAccountID(accountUID) == rowId;
 	}
-		
+
+    /**
+     * Returns the {@link Account.AccountType} of the account with unique ID <code>uid</code>
+     * @param accountUID Unique ID of the account
+     * @return {@link Account.AccountType} of the account
+     */
+    public Account.AccountType getAccountType(String accountUID){
+        String type = null;
+        Cursor c = mDb.query(DatabaseHelper.ACCOUNTS_TABLE_NAME,
+                new String[]{DatabaseHelper.KEY_TYPE},
+                DatabaseHelper.KEY_UID + "='" + accountUID + "'",
+                null, null, null, null);
+        if (c != null && c.moveToFirst()){
+            type = c.getString(c.getColumnIndexOrThrow(DatabaseHelper.KEY_TYPE));
+            c.close();
+        }
+        return Account.AccountType.valueOf(type);
+    }
+
 	/**
 	 * Marks an account record as exported
 	 * @param accountUID Unique ID of the record to be marked as exported
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 62e0ed22..6c089bdc 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -261,6 +261,12 @@ private void init() {
         }
     }
 
+    @Override
+    protected void onResume() {
+        super.onResume();
+        TransactionsActivity.sLastTitleColor = -1;
+    }
+
     /**
 	 * Checks if the minor version has been increased and displays the What's New dialog box.
 	 * This is the minor version as per semantic versioning.
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 9ca0ffba..2a27be03 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -37,7 +37,10 @@
 import android.support.v4.widget.SimpleCursorAdapter;
 import android.text.TextUtils;
 import android.util.Log;
-import android.view.*;
+import android.view.LayoutInflater;
+import android.view.TouchDelegate;
+import android.view.View;
+import android.view.ViewGroup;
 import android.widget.*;
 import android.widget.AdapterView.OnItemLongClickListener;
 import com.actionbarsherlock.app.ActionBar;
@@ -48,7 +51,6 @@
 import com.actionbarsherlock.view.Menu;
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
-import com.viewpagerindicator.TitlePageIndicator;
 import org.gnucash.android.R;
 import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
@@ -772,14 +774,16 @@ public View getView(int position, View convertView, ViewGroup parent) {
             parentView.post(new Runnable() {
                 @Override
                 public void run() {
-                    final android.graphics.Rect hitRect = new Rect();
-                    float extraPadding = getResources().getDimension(R.dimen.edge_padding);
-                    addTransactionButton.getHitRect(hitRect);
-                    hitRect.right   += extraPadding;
-                    hitRect.bottom  += extraPadding;
-                    hitRect.top     -= extraPadding;
-                    hitRect.left    -= extraPadding;
-                    parentView.setTouchDelegate(new TouchDelegate(hitRect, addTransactionButton));
+                    if (isAdded()){ //may be run when fragment has been unbound from activity
+                        final android.graphics.Rect hitRect = new Rect();
+                        float extraPadding = getResources().getDimension(R.dimen.edge_padding);
+                        addTransactionButton.getHitRect(hitRect);
+                        hitRect.right   += extraPadding;
+                        hitRect.bottom  += extraPadding;
+                        hitRect.top     -= extraPadding;
+                        hitRect.left    -= extraPadding;
+                        parentView.setTouchDelegate(new TouchDelegate(hitRect, addTransactionButton));
+                    }
                 }
             });
 
diff --git a/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java b/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
index d8f9c4cc..44d318b8 100644
--- a/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
+++ b/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
@@ -23,6 +23,7 @@
 import android.preference.Preference;
 import android.preference.PreferenceFragment;
 import android.preference.PreferenceManager;
+import android.view.ContextThemeWrapper;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockPreferenceActivity;
 import org.gnucash.android.R;
@@ -74,18 +75,17 @@ public boolean onPreferenceClick(Preference preference) {
             @Override
             public boolean onPreferenceClick(Preference preference) {
                 new AlertDialog.Builder(getActivity())
-                        .setTitle("Confirm")
-                        .setMessage("The new accounts will be created in addition to the existing account structure. " +
-                                "Any accounts with the same ID, they will simple be updated." +
-                                "If you wish to replace any currently existing accounts, delete them first before continuing this action!")
-                        .setPositiveButton("Create Accounts", new DialogInterface.OnClickListener() {
+                        .setTitle(R.string.title_create_default_accounts)
+                        .setMessage(R.string.message_create_default_accounts_confirmation)
+                        .setIcon(android.R.drawable.ic_dialog_alert)
+                        .setPositiveButton(R.string.btn_create_accounts, new DialogInterface.OnClickListener() {
                             @Override
                             public void onClick(DialogInterface dialogInterface, int i) {
                                 InputStream accountFileInputStream = getResources().openRawResource(R.raw.default_accounts);
                                 new AccountsActivity.AccountImporterTask(getActivity()).execute(accountFileInputStream);
                             }
                         })
-                        .setNegativeButton("Cancel", new DialogInterface.OnClickListener() {
+                        .setNegativeButton(R.string.btn_cancel, new DialogInterface.OnClickListener() {
                             @Override
                             public void onClick(DialogInterface dialogInterface, int i) {
                                 dialogInterface.dismiss();
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index 9dd43748..f6b9ef05 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -255,20 +255,17 @@ public void onActivityCreated(Bundle savedInstanceState) {
 
     /**
      * Toggles the state transaction type button in response to the type of account.
+     * This just changes what label is shown to the user, but basically the button in checked state still
+     * represents a negative amount, and unchecked is positive. The CREDIT/DEBIT label depends on the account.
      * Different types of accounts handle CREDITS/DEBITS differently
      */
     private void toggleTransactionTypeState() {
-        switch (mAccountType) {
-            case ASSET:
-            case EXPENSE:
-                mTransactionTypeButton.setTextOff(getString(R.string.label_debit));
-                mTransactionTypeButton.setTextOn(getString(R.string.label_credit));
-                break;
-
-            default:
-                mTransactionTypeButton.setTextOff(getString(R.string.label_credit));
-                mTransactionTypeButton.setTextOn(getString(R.string.label_debit));
-                break;
+        if (mAccountType.hasDebitNormalBalance()){
+            mTransactionTypeButton.setTextOff(getString(R.string.label_debit));
+            mTransactionTypeButton.setTextOn(getString(R.string.label_credit));
+        } else {
+            mTransactionTypeButton.setTextOff(getString(R.string.label_credit));
+            mTransactionTypeButton.setTextOn(getString(R.string.label_debit));
         }
         mTransactionTypeButton.invalidate();
     }
@@ -321,7 +318,17 @@ public void onItemClick(AdapterView<?> adapterView, View view, int position, lon
 	 */
 	private void initializeViewsWithTransaction(){
 		mNameEditText.setText(mTransaction.getName());
-		mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
+
+        //FIXME: Better handle the different kinds of accounts and how transfers between the different types affect balance
+        //checking the type button means the amount will be shown as negative (in red) to user
+//        if (mAccountType.hasDebitNormalBalance()){
+//            mTransactionTypeButton.setChecked();
+//            mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.CREDIT);
+//        }
+//        else {
+//            mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
+//        }
+        mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
 		if (!mAmountManuallyEdited){
             //when autocompleting, only change the amount if the user has not manually changed it already
             mAmountEditText.setText(mTransaction.getAmount().toPlainString());
@@ -363,12 +370,12 @@ private void initalizeViews() {
 
 		String typePref = PreferenceManager.getDefaultSharedPreferences(getActivity()).getString(getString(R.string.key_default_transaction_type), "DEBIT");
 		if (typePref.equals("CREDIT")){
-            if (mAccountType == Account.AccountType.ASSET || mAccountType == Account.AccountType.EXPENSE)
+            if (mAccountType.hasDebitNormalBalance())
                 mTransactionTypeButton.setChecked(false);
             else
                 mTransactionTypeButton.setChecked(true);
-		} else {
-            if (mAccountType == Account.AccountType.ASSET || mAccountType == Account.AccountType.EXPENSE)
+		} else { //DEBIT
+            if (mAccountType.hasDebitNormalBalance())
                 mTransactionTypeButton.setChecked(true);
             else
                 mTransactionTypeButton.setChecked(false);
@@ -541,7 +548,7 @@ public void onAccountChanged(long newAccountId){
         toggleTransactionTypeState();
 
         //if the new account has a different credit/debit philosophy as the previous one, then toggle the button
-        if (mAccountType.hasInvertedCredit() != previousAccountType.hasInvertedCredit()){
+        if (mAccountType.hasDebitNormalBalance() != previousAccountType.hasDebitNormalBalance()){
             mTransactionTypeButton.toggle();
         }
 
@@ -568,7 +575,7 @@ private void saveNewTransaction() {
 		Currency currency = Currency.getInstance(mTransactionsDbAdapter.getCurrencyCode(accountID));
 		Money amount 	= new Money(amountBigd, currency);
 		TransactionType type;
-        if (mAccountType.hasInvertedCredit()){
+        if (mAccountType.hasDebitNormalBalance()){
             type = amount.isNegative() ? TransactionType.CREDIT : TransactionType.DEBIT;
         } else
             type = amount.isNegative() ? TransactionType.DEBIT : TransactionType.CREDIT;
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
index 2d03994b..ed5296d4 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsActivity.java
@@ -120,7 +120,7 @@
      * This is the last known color for the title indicator.
      * This is used to remember the color of the top level account if the child account doesn't have one.
      */
-    private static int sLastTitleColor;
+    public static int sLastTitleColor = -1;
 
     private TextView mSectionHeaderTransactions;
     private TitlePageIndicator mTitlePageIndicator;
@@ -273,6 +273,8 @@ protected void onCreate(Bundle savedInstanceState) {
         mTitlePageIndicator = (TitlePageIndicator) findViewById(R.id.titles);
         mSectionHeaderTransactions = (TextView) findViewById(R.id.section_header_transactions);
 
+        if (sLastTitleColor == -1) //if this is first launch of app. Previous launches would have set the color already
+            sLastTitleColor = getResources().getColor(R.color.title_green);
 
 		mAccountId = getIntent().getLongExtra(
                 TransactionsListFragment.SELECTED_ACCOUNT_ID, -1);
@@ -330,16 +332,7 @@ protected void onResume() {
     private void setTitleIndicatorColor() {
         //Basically, if we are in a top level account, use the default title color.
         //but propagate a parent account's title color to children who don't have own color
-        String parentAccountUID = mAccountsDbAdapter.getParentAccountUID(mAccountId);
         String colorCode = mAccountsDbAdapter.getAccountColorCode(mAccountId);
-        if (parentAccountUID == null
-                || parentAccountUID.equals(mAccountsDbAdapter.getGnuCashRootAccountUID())) {
-            sLastTitleColor = getResources().getColor(R.color.title_green);
-        } else {
-            String parentColor = mAccountsDbAdapter.getAccountColorCode(mAccountsDbAdapter.getAccountID(parentAccountUID));
-            sLastTitleColor = parentColor != null ? Color.parseColor(parentColor) : sLastTitleColor;
-        }
-
         if (colorCode != null){
             sLastTitleColor = Color.parseColor(colorCode);
         }
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index b7c44464..570a2e97 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -47,9 +47,11 @@
 import com.actionbarsherlock.view.MenuInflater;
 import com.actionbarsherlock.view.MenuItem;
 import org.gnucash.android.R;
-import org.gnucash.android.data.Account;
 import org.gnucash.android.data.Money;
-import org.gnucash.android.db.*;
+import org.gnucash.android.db.DatabaseAdapter;
+import org.gnucash.android.db.DatabaseCursorLoader;
+import org.gnucash.android.db.DatabaseHelper;
+import org.gnucash.android.db.TransactionsDbAdapter;
 import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.accounts.AccountsListFragment;
 import org.gnucash.android.ui.widget.WidgetConfigurationActivity;
@@ -412,14 +414,16 @@ public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {
             parentView.post(new Runnable() {
                 @Override
                 public void run() {
-                    float extraPadding = getResources().getDimension(R.dimen.edge_padding);
-                    final android.graphics.Rect hitRect = new Rect();
-                    checkBoxView.getHitRect(hitRect);
-                    hitRect.right   += extraPadding;
-                    hitRect.bottom  += 3*extraPadding;
-                    hitRect.top     -= extraPadding;
-                    hitRect.left    -= 2*extraPadding;
-                    parentView.setTouchDelegate(new TouchDelegate(hitRect, checkBoxView));
+                    if (isAdded()){ //may be run when fragment has been unbound from activity
+                        float extraPadding = getResources().getDimension(R.dimen.edge_padding);
+                        final android.graphics.Rect hitRect = new Rect();
+                        checkBoxView.getHitRect(hitRect);
+                        hitRect.right   += extraPadding;
+                        hitRect.bottom  += 3*extraPadding;
+                        hitRect.top     -= extraPadding;
+                        hitRect.left    -= 2*extraPadding;
+                        parentView.setTouchDelegate(new TouchDelegate(hitRect, checkBoxView));
+                    }
                 }
             });
 
@@ -433,12 +437,20 @@ public void bindView(View view, Context context, Cursor cursor) {
 			Money amount = new Money(
 					cursor.getString(DatabaseAdapter.COLUMN_AMOUNT), 
 					mTransactionsDbAdapter.getCurrencyCode(mAccountID));
-			
+
+            //FIXME: Take normal account balances into consideration for double entries
+//            String mainAccountUID = cursor.getString(DatabaseAdapter.COLUMN_ACCOUNT_UID);
+//            Account.AccountType mainAccountType = mTransactionsDbAdapter.getAccountType(mainAccountUID);
+
 			//negate any transactions if this account is the origin in double entry
-			String doubleEntryAccountUID = cursor.getString(DatabaseAdapter.COLUMN_DOUBLE_ENTRY_ACCOUNT_UID);
-			if (doubleEntryAccountUID != null 
-					&& mTransactionsDbAdapter.isSameAccount(mAccountID, doubleEntryAccountUID)){
-				amount = amount.negate();				
+			String transferAccountUID = cursor.getString(DatabaseAdapter.COLUMN_DOUBLE_ENTRY_ACCOUNT_UID);
+
+			if (transferAccountUID != null
+					&& mTransactionsDbAdapter.isSameAccount(mAccountID, transferAccountUID)){
+//                Account.AccountType transferAccountType = mTransactionsDbAdapter.getAccountType(transferAccountUID);
+//
+//                if (mainAccountType.getNormalBalanceType() == transferAccountType.getNormalBalanceType())
+                amount = amount.negate();
 			}
 				
 			TextView tramount = (TextView) view.findViewById(R.id.transaction_amount);
@@ -457,34 +469,51 @@ public void bindView(View view, Context context, Cursor cursor) {
 				trNote.setVisibility(View.VISIBLE);
 				trNote.setText(description);
 			}
-			
-			long transactionTime = cursor.getLong(DatabaseAdapter.COLUMN_TIMESTAMP);
-			int position = cursor.getPosition();
-						
-			boolean hasSectionHeader;
-			if (position == 0){
-				hasSectionHeader = true;
-			} else {
-				cursor.moveToPosition(position - 1);
-				long previousTimestamp = cursor.getLong(DatabaseAdapter.COLUMN_TIMESTAMP);
-				cursor.moveToPosition(position);				
-				//has header if two consecutive transactions were not on same day
-				hasSectionHeader = !isSameDay(previousTimestamp, transactionTime);
-			}
-			
-			TextView dateHeader = (TextView) view.findViewById(R.id.date_section_header);
-			
-			if (hasSectionHeader){
-				java.text.DateFormat format = DateFormat.getLongDateFormat(getActivity());
-				String dateString = format.format(new Date(transactionTime));
-				dateHeader.setText(dateString);
-				dateHeader.setVisibility(View.VISIBLE);
-			} else {
-				dateHeader.setVisibility(View.GONE);
-			}
+
+            setSectionHeaderVisibility(view, cursor);
 		}
-		
-		private boolean isSameDay(long timeMillis1, long timeMillis2){
+
+        /**
+         * Toggles the visibilty of the section header based on whether the previous transaction and current were
+         * booked on the same day or not. Transactions a generally grouped by day
+         * @param view Parent view within which to find the section header
+         * @param cursor Cursor containing transaction data set
+         * @see #isSameDay(long, long)
+         */
+        private void setSectionHeaderVisibility(View view, Cursor cursor) {
+            long transactionTime = cursor.getLong(DatabaseAdapter.COLUMN_TIMESTAMP);
+            int position = cursor.getPosition();
+
+            boolean hasSectionHeader;
+            if (position == 0){
+                hasSectionHeader = true;
+            } else {
+                cursor.moveToPosition(position - 1);
+                long previousTimestamp = cursor.getLong(DatabaseAdapter.COLUMN_TIMESTAMP);
+                cursor.moveToPosition(position);
+                //has header if two consecutive transactions were not on same day
+                hasSectionHeader = !isSameDay(previousTimestamp, transactionTime);
+            }
+
+            TextView dateHeader = (TextView) view.findViewById(R.id.date_section_header);
+
+            if (hasSectionHeader){
+                java.text.DateFormat format = DateFormat.getLongDateFormat(getActivity());
+                String dateString = format.format(new Date(transactionTime));
+                dateHeader.setText(dateString);
+                dateHeader.setVisibility(View.VISIBLE);
+            } else {
+                dateHeader.setVisibility(View.GONE);
+            }
+        }
+
+        /**
+         * Checks if two timestamps have the same calendar day
+         * @param timeMillis1 Timestamp in milliseconds
+         * @param timeMillis2 Timestamp in milliseconds
+         * @return <code>true</code> if both timestamps are on same day, <code>false</code> otherwise
+         */
+        private boolean isSameDay(long timeMillis1, long timeMillis2){
 			Date date1 = new Date(timeMillis1);
 			Date date2 = new Date(timeMillis2);
 			

From b28c00fe56a365368213930e5b913fcd0762e0a8 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Fri, 31 Jan 2014 17:30:34 +0100
Subject: [PATCH 36/43] Added default account structure files for the different
 supported locales - closes #94

---
 app/res/raw-de-rAT/default_accounts.gnucash |   22 +
 app/res/raw-de-rCH/default_accounts.gnucash |  859 +++++++++++++++
 app/res/raw-el-rGR/default_accounts.gnucash |  873 +++++++++++++++
 app/res/raw-en-rGB/default_accounts.gnucash |  869 +++++++++++++++
 app/res/raw-es-rES/default_accounts.gnucash |  875 +++++++++++++++
 app/res/raw-es-rMX/default_accounts.gnucash |  959 +++++++++++++++++
 app/res/raw-fr-rCA/default_accounts.gnucash |  803 ++++++++++++++
 app/res/raw-fr-rCH/default_accounts.gnucash |  875 +++++++++++++++
 app/res/raw-fr-rFR/default_accounts.gnucash |  875 +++++++++++++++
 app/res/raw-hu-rHU/default_accounts.gnucash |  851 +++++++++++++++
 app/res/raw-it-rIT/default_accounts.gnucash |  851 +++++++++++++++
 app/res/raw-nl-rNL/default_accounts.gnucash | 1525 +++++++++++++++++++++++++++
 app/res/raw-pt-rBR/default_accounts.gnucash |  839 +++++++++++++++
 app/res/raw-ru-rRU/default_accounts.gnucash |  857 +++++++++++++++
 app/res/raw-zh-rCN/default_accounts.gnucash |  869 +++++++++++++++
 app/res/raw/default_accounts.gnucash        |  869 +++++++++++++++
 16 files changed, 13671 insertions(+)
 create mode 100644 app/res/raw-de-rCH/default_accounts.gnucash
 create mode 100644 app/res/raw-el-rGR/default_accounts.gnucash
 create mode 100644 app/res/raw-en-rGB/default_accounts.gnucash
 create mode 100644 app/res/raw-es-rES/default_accounts.gnucash
 create mode 100644 app/res/raw-es-rMX/default_accounts.gnucash
 create mode 100644 app/res/raw-fr-rCA/default_accounts.gnucash
 create mode 100644 app/res/raw-fr-rCH/default_accounts.gnucash
 create mode 100644 app/res/raw-fr-rFR/default_accounts.gnucash
 create mode 100644 app/res/raw-hu-rHU/default_accounts.gnucash
 create mode 100644 app/res/raw-it-rIT/default_accounts.gnucash
 create mode 100644 app/res/raw-nl-rNL/default_accounts.gnucash
 create mode 100644 app/res/raw-pt-rBR/default_accounts.gnucash
 create mode 100644 app/res/raw-ru-rRU/default_accounts.gnucash
 create mode 100644 app/res/raw-zh-rCN/default_accounts.gnucash
 create mode 100644 app/res/raw/default_accounts.gnucash

diff --git a/app/res/raw-de-rAT/default_accounts.gnucash b/app/res/raw-de-rAT/default_accounts.gnucash
index d0799758..eb2ff7c1 100644
--- a/app/res/raw-de-rAT/default_accounts.gnucash
+++ b/app/res/raw-de-rAT/default_accounts.gnucash
@@ -65,6 +65,10 @@
       <slot:key>placeholder</slot:key>
       <slot:value type="string">true</slot:value>
     </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
   </act:slots>
   <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
 </gnc:account>
@@ -137,6 +141,10 @@
       <slot:key>placeholder</slot:key>
       <slot:value type="string">true</slot:value>
     </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
   </act:slots>
   <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
 </gnc:account>
@@ -185,6 +193,10 @@
       <slot:key>placeholder</slot:key>
       <slot:value type="string">true</slot:value>
     </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
   </act:slots>
   <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
 </gnc:account>
@@ -323,6 +335,10 @@
       <slot:key>placeholder</slot:key>
       <slot:value type="string">true</slot:value>
     </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
   </act:slots>
   <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
 </gnc:account>
@@ -906,6 +922,12 @@
   </act:commodity>
   <act:commodity-scu>100</act:commodity-scu>
   <act:description>Anfangsbestand</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
   <act:parent type="guid">3f929f1b1e6b465511039499090d73c5</act:parent>
 </gnc:account>
 </gnc-v2>
diff --git a/app/res/raw-de-rCH/default_accounts.gnucash b/app/res/raw-de-rCH/default_accounts.gnucash
new file mode 100644
index 00000000..53ff96f3
--- /dev/null
+++ b/app/res/raw-de-rCH/default_accounts.gnucash
@@ -0,0 +1,859 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>CHF</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">fbd550a4431f266c4efd8cf16aebb05d</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aktiva</act:name>
+  <act:id type="guid">289a54327cc10a52e350994d3146804b</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aktiva</act:description>
+  <act:slots>
+      <slot>
+        <slot:key>placeholder</slot:key>
+        <slot:value type="string">true</slot:value>
+      </slot>
+      <slot>
+        <slot:key>color</slot:key>
+        <slot:value type="string">#1469EB</slot:value>
+      </slot>
+    </act:slots>
+  <act:parent type="guid">fbd550a4431f266c4efd8cf16aebb05d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Barvermgen</act:name>
+  <act:id type="guid">b41645fd3d87a600d981df05746772af</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Barvermgen</act:description>
+  <act:parent type="guid">289a54327cc10a52e350994d3146804b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Girokonto</act:name>
+  <act:id type="guid">87152ff19e4a8e3452573a4fcdf4d16f</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Girokonto</act:description>
+  <act:parent type="guid">b41645fd3d87a600d981df05746772af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sparkonto</act:name>
+  <act:id type="guid">1c1d896859d2ba8278b5196fba4ddcc9</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sparkonto</act:description>
+  <act:parent type="guid">b41645fd3d87a600d981df05746772af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bargeld</act:name>
+  <act:id type="guid">321c59e36bf91a5b44e4f53a836152d7</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bargeld</act:description>
+  <act:parent type="guid">b41645fd3d87a600d981df05746772af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fremdkapital</act:name>
+  <act:id type="guid">1532b7cae9234dbe67b9281c145f4069</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>alle Verbindlichkeiten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fbd550a4431f266c4efd8cf16aebb05d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Barverbindlichkeiten</act:name>
+  <act:id type="guid">d0ea37269a2aab3324cac2f33f3db1cd</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Barverbindlichkeiten (noch offenstehende Rechnungen)</act:description>
+  <act:parent type="guid">1532b7cae9234dbe67b9281c145f4069</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kreditkarte</act:name>
+  <act:id type="guid">6117b97bb9d64dd134c96e3ba284f624</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kreditkarte</act:description>
+  <act:parent type="guid">d0ea37269a2aab3324cac2f33f3db1cd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ertrge</act:name>
+  <act:id type="guid">c1582195ca140afcede897c4ca44811d</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ertrge</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fbd550a4431f266c4efd8cf16aebb05d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gehalt</act:name>
+  <act:id type="guid">d449670fa97f011ecd5a69a2a17544b0</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gehalt und Zulagen</act:description>
+  <act:parent type="guid">c1582195ca140afcede897c4ca44811d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gehalt</act:name>
+  <act:id type="guid">2bf09c0b38caac0e12b6d7d4245bcf78</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gehalt</act:description>
+  <act:parent type="guid">d449670fa97f011ecd5a69a2a17544b0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zulagen</act:name>
+  <act:id type="guid">ff603238262ef48af5fd1088b8ec1e13</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zulagen und Bonus zum Gehalt</act:description>
+  <act:parent type="guid">d449670fa97f011ecd5a69a2a17544b0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenke</act:name>
+  <act:id type="guid">c49e19ee2d16dbef9fe1afbbdb5d7ee7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Empfangene Geschenke</act:description>
+  <act:parent type="guid">c1582195ca140afcede897c4ca44811d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">26d5f2a268e5516ff28679393ea3036d</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Ertrge</act:description>
+  <act:parent type="guid">c1582195ca140afcede897c4ca44811d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zinsen</act:name>
+  <act:id type="guid">f260706ee6b2101c1ca025ed0f2a7481</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zinseinkommen</act:description>
+  <act:parent type="guid">c1582195ca140afcede897c4ca44811d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Girokonto</act:name>
+  <act:id type="guid">9fdafef5ddf7de7ea932b50e7f97e130</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Girokonto Zinsen</act:description>
+  <act:parent type="guid">f260706ee6b2101c1ca025ed0f2a7481</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstige</act:name>
+  <act:id type="guid">a9aa1e4e2d48c4979061f78289c6ae87</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Zinsen</act:description>
+  <act:parent type="guid">f260706ee6b2101c1ca025ed0f2a7481</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sparkonto</act:name>
+  <act:id type="guid">4f603fb8838a304fa22682ca44c403d2</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sparkonto Zinsen</act:description>
+  <act:parent type="guid">f260706ee6b2101c1ca025ed0f2a7481</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aufwendungen</act:name>
+  <act:id type="guid">cd6e09bd066240011fdf727de3440aa6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aufwendungen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fbd550a4431f266c4efd8cf16aebb05d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bildung</act:name>
+  <act:id type="guid">d9ce41f4351df9b745ed966ec5d3f1c9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bildung</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnements</act:name>
+  <act:id type="guid">573e6e1459601791a0558e29f9828773</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnements</act:description>
+  <act:parent type="guid">d9ce41f4351df9b745ed966ec5d3f1c9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bcher</act:name>
+  <act:id type="guid">0efeb64a88342ace63ad73ab40b830b8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bcher</act:description>
+  <act:parent type="guid">d9ce41f4351df9b745ed966ec5d3f1c9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Broartikel</act:name>
+  <act:id type="guid">535328c01dbfdba44be6ef3d93777a9c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Broartikel</act:description>
+  <act:parent type="guid">d9ce41f4351df9b745ed966ec5d3f1c9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zeitungen</act:name>
+  <act:id type="guid">6ad6aeae9168b73a9022f4f02dbdec89</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zeitungen</act:description>
+  <act:parent type="guid">d9ce41f4351df9b745ed966ec5d3f1c9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">5c776b84be6ae10699cc4312355f0cb1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fahrtkosten</act:name>
+  <act:id type="guid">da25ca7a0b608f58d7d9321570fe6414</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fahrtkosten</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fahrkarten</act:name>
+  <act:id type="guid">f1b4acec789cce207aeb5607caefde3a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fahrkarten Bus, Bahn, Flugzeug</act:description>
+  <act:parent type="guid">da25ca7a0b608f58d7d9321570fe6414</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenke</act:name>
+  <act:id type="guid">762f656f0952d5a59bdee4c446c1b743</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Geschenke</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">285029075b68497a040aafd792624da0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kleidung</act:name>
+  <act:id type="guid">9d12798168da484dbe6b0d39d9b805e8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kleidung</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lebensmittel</act:name>
+  <act:id type="guid">3a9b3c2aefe43b27d331afe71f5b5b2c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lebensmittel</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medikamente</act:name>
+  <act:id type="guid">b0fdce93cc3774c1bd24fa867b539002</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medikamente</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">c3e7c4b58a308f6c20d91c2adc1569d9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstiges</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bankgebhren</act:name>
+  <act:id type="guid">6d946b2ef03cb9c765c3cdbac8a526a3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Konto- und Bankgebhren</act:description>
+  <act:parent type="guid">c3e7c4b58a308f6c20d91c2adc1569d9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstiges</act:name>
+  <act:id type="guid">098cf8bbb40b98fce261e39beb92d35d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>nicht aufgegliederte Ausgaben</act:description>
+  <act:parent type="guid">c3e7c4b58a308f6c20d91c2adc1569d9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Spenden</act:name>
+  <act:id type="guid">3d2aa21e1f9492bd9d746c6395cad592</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wohlttige Spenden</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Steuern</act:name>
+  <act:id type="guid">000231d811943f64771486a1873ac0fa</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Steuern und Sozialabgaben</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Einkommenssteuer</act:name>
+  <act:id type="guid">9a371e2415442098ab0cd4a81796a000</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Einkommenssteuer</act:description>
+  <act:parent type="guid">000231d811943f64771486a1873ac0fa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pflegeversicherung</act:name>
+  <act:id type="guid">d442cc758f6a8a95ef54c4b958f7a8b2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pflegeversicherung</act:description>
+  <act:parent type="guid">000231d811943f64771486a1873ac0fa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rentenversicherung</act:name>
+  <act:id type="guid">39b7754589ca39689ff2bc08e16cd572</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rentenversicherung</act:description>
+  <act:parent type="guid">000231d811943f64771486a1873ac0fa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Solidarzuschlag</act:name>
+  <act:id type="guid">08bada585d3fd54a8979079e42361edc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Solidarzuschlag</act:description>
+  <act:parent type="guid">000231d811943f64771486a1873ac0fa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sonstige</act:name>
+  <act:id type="guid">d79138628161d23075c86962a6df0596</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Steuern</act:description>
+  <act:parent type="guid">000231d811943f64771486a1873ac0fa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sozialabgaben</act:name>
+  <act:id type="guid">24f7d538665b057678b60497af6484e2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sonstige Sozialabgaben</act:description>
+  <act:parent type="guid">000231d811943f64771486a1873ac0fa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telekommunikation</act:name>
+  <act:id type="guid">24b4d16e45c05f5f01ffe2dccf24bbe3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telekommunikation</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fernsehen</act:name>
+  <act:id type="guid">6348d2784262eb2eb93a7fc70b62f80d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>GEZ und Kabelfernsehen</act:description>
+  <act:parent type="guid">24b4d16e45c05f5f01ffe2dccf24bbe3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online-Dienste</act:name>
+  <act:id type="guid">987f40c1c1a6d44141e241b0d8c7585a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online-Dienste</act:description>
+  <act:parent type="guid">24b4d16e45c05f5f01ffe2dccf24bbe3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefon</act:name>
+  <act:id type="guid">8f252f4846be53c46cd4effa0f783987</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefon</act:description>
+  <act:parent type="guid">24b4d16e45c05f5f01ffe2dccf24bbe3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Unterhaltung</act:name>
+  <act:id type="guid">1078be88877a7009bb8f072c3f79a095</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Unterhaltung</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ausgehen</act:name>
+  <act:id type="guid">d66390abbc776134746c739eb3789ef0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auswrts Essen</act:description>
+  <act:parent type="guid">1078be88877a7009bb8f072c3f79a095</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musik/Kino</act:name>
+  <act:id type="guid">fb108ab7b63dfaf2d868933c4bb6fca7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musik/Kino</act:description>
+  <act:parent type="guid">1078be88877a7009bb8f072c3f79a095</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reisen</act:name>
+  <act:id type="guid">6ec3d29f501b14cd7fd5f2d5dec7e3e8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reisen</act:description>
+  <act:parent type="guid">1078be88877a7009bb8f072c3f79a095</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sport</act:name>
+  <act:id type="guid">253f677df50595b9cbefc3b7ebf218ee</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sport</act:description>
+  <act:parent type="guid">1078be88877a7009bb8f072c3f79a095</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Versicherungen</act:name>
+  <act:id type="guid">8a73ad751dddb9545c8e6f6714a85df1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Versicherungen</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Haftpflicht</act:name>
+  <act:id type="guid">00c0e221c16b0bd3fb1c0f1dc029a0d8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Haftpflichtversicherung</act:description>
+  <act:parent type="guid">8a73ad751dddb9545c8e6f6714a85df1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Krankenversicherung</act:name>
+  <act:id type="guid">2764737e3eeab94952edf48809da511c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Krankenversicherung</act:description>
+  <act:parent type="guid">8a73ad751dddb9545c8e6f6714a85df1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wohnen</act:name>
+  <act:id type="guid">aa82d9d071d1d3419fd8e58319aba310</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ausgaben fr Wohnung/Haus</act:description>
+  <act:parent type="guid">cd6e09bd066240011fdf727de3440aa6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Miete</act:name>
+  <act:id type="guid">2b9c6a5a99b2a1d3beb0f2bbe1adceba</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Miete</act:description>
+  <act:parent type="guid">aa82d9d071d1d3419fd8e58319aba310</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Nebenkosten</act:name>
+  <act:id type="guid">9a950a90bd282bb22c731b3548c8eabe</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wohnnebenkosten</act:description>
+  <act:parent type="guid">aa82d9d071d1d3419fd8e58319aba310</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abfall</act:name>
+  <act:id type="guid">a33fdd78b012610bff790b02ee299208</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abfallentsorgung</act:description>
+  <act:parent type="guid">9a950a90bd282bb22c731b3548c8eabe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">284ec7c4566fb224920227503bb9d241</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">9a950a90bd282bb22c731b3548c8eabe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Strom</act:name>
+  <act:id type="guid">519aebd9c44cc3a14550fe9d0fd921f2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Strom</act:description>
+  <act:parent type="guid">9a950a90bd282bb22c731b3548c8eabe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wasser</act:name>
+  <act:id type="guid">1ffd1c468e4541965c430dc854a37661</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wasser</act:description>
+  <act:parent type="guid">9a950a90bd282bb22c731b3548c8eabe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Anfangsbestand</act:name>
+  <act:id type="guid">970b43d916d08ebbd9cb208e9d7c18a4</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Anfangsbestand</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fbd550a4431f266c4efd8cf16aebb05d</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-el-rGR/default_accounts.gnucash b/app/res/raw-el-rGR/default_accounts.gnucash
new file mode 100644
index 00000000..b80552e3
--- /dev/null
+++ b/app/res/raw-el-rGR/default_accounts.gnucash
@@ -0,0 +1,873 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="book">1</gnc:count-data>
+<gnc:book version="2.0.0">
+<book:id type="guid">3cf8805d49b3a11eb6160ea24b93f85d</book:id>
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">8b7e1dfcc72e3f72b6c39b8ed0d7bc3e</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">b49ebe68f77d7ad51df6d9f19b352b5c</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8b7e1dfcc72e3f72b6c39b8ed0d7bc3e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">41a0cc984c8c2c2b0ca3cb1648868e9b</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">b49ebe68f77d7ad51df6d9f19b352b5c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">48fd03d5595d2363b3ce1ca895c170ea</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">41a0cc984c8c2c2b0ca3cb1648868e9b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">7e56057d68140098af3ab46c46f195fe</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">41a0cc984c8c2c2b0ca3cb1648868e9b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">05c09b34af8b3ee90166bc58633d3fdc</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">41a0cc984c8c2c2b0ca3cb1648868e9b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">8ae081d451d8813e7107735f413e1ac9</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8b7e1dfcc72e3f72b6c39b8ed0d7bc3e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">1873749c07a8fa7eed6c9255c0c562ba</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">8ae081d451d8813e7107735f413e1ac9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">02f1cc38db5b74c5b9a55d50ade3d036</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">1873749c07a8fa7eed6c9255c0c562ba</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">1e9ceafa247492321fc4dc7c0eecc84c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8b7e1dfcc72e3f72b6c39b8ed0d7bc3e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bonus</act:name>
+  <act:id type="guid">e4ec1a7807940574a210cf6265113982</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bonus</act:description>
+  <act:parent type="guid">1e9ceafa247492321fc4dc7c0eecc84c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">29fdf2f3fb45eec071696f1d8107c56c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">1e9ceafa247492321fc4dc7c0eecc84c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">7d4f86c532b0633b2dd44f85ec0cec63</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">1e9ceafa247492321fc4dc7c0eecc84c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">543d4f525f4915735de34fb69ee483ae</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">7d4f86c532b0633b2dd44f85ec0cec63</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">2caae28bee9352f031215eef15e24c93</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">7d4f86c532b0633b2dd44f85ec0cec63</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">1a5d4f5e065f8077421bc306d6651f1a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">7d4f86c532b0633b2dd44f85ec0cec63</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">361d5514c089ee34da2c0a9ddf8b2aad</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">1e9ceafa247492321fc4dc7c0eecc84c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">0ac674fcc5ca199183633b456210e53e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8b7e1dfcc72e3f72b6c39b8ed0d7bc3e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">a574ab8c50e08d3c92029ad3ac0bec84</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">5519acaa0a4650c1752b12cbebeffb6a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ef408fd8ad00b505fe200f016b55ac6b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5519acaa0a4650c1752b12cbebeffb6a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e00578e837cb9810645abb3595b2b3a8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5519acaa0a4650c1752b12cbebeffb6a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e96db7668206329ddfadef3e0060ea41</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5519acaa0a4650c1752b12cbebeffb6a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">558e62b0c2fe28d175d1773c2025a96c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5519acaa0a4650c1752b12cbebeffb6a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">fac629b5babb1104d9b6fbc371ccf306</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">5c47c83377057c638f5006d23d2c3a1f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">5cbc84f3e238cb4de58e3aa892477559</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">88932a41f38a0d471201bc075c6410cc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">6063b111a7f81d2403614c20d9882495</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">46a3d07c3cd48f8c49d712c2307f9306</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">8d7172b4a7bca5bc3e1adf8b980470b0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">a0cd8dea6b0f97fd27bb2c6b9c145ec1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">973ca5943f09d400f2ac04d7189d72c4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>/</act:name>
+  <act:id type="guid">fbf1112f72ee95179865905b65515466</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>/</act:description>
+  <act:parent type="guid">973ca5943f09d400f2ac04d7189d72c4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">4cc6dc89ad5da1015d1d59de17b251df</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">973ca5943f09d400f2ac04d7189d72c4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">9e453fdd7ee8f32f47d7ba97d8230c25</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">973ca5943f09d400f2ac04d7189d72c4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">475b8f04ea904d406db79f25e28643cd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">f6721d2b17d2870258534cdd5c028b46</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">f35ae879dcd7b8311315ede0bcc78d64</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">d05591f4dd3d4113a8473be2c4a2642c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">ca23f941e581e17ad68d258d9af724f8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">d05591f4dd3d4113a8473be2c4a2642c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">465880e2b197d7a94bcbb900f012e082</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">d05591f4dd3d4113a8473be2c4a2642c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">16e4d3b8cb0615e4e32cf4d084e652c6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">d05591f4dd3d4113a8473be2c4a2642c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>/</act:name>
+  <act:id type="guid">8e9f8a578072d7d6aca42497305d4abe</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>/</act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">6c52b4ef007d3fd58ec579cd0c0456c3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">3a673400e749a36148d90201f9a4a5b3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">29e706b301ee3fe9c8fad4a9c76b42c5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ecd1ae263b7f1c7da31ffd7c6d05aca9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">3c9ea69742b949aaa7ba9f67979016f4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ee2b65d371cae83280d95c56a130b367</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">519cc4ffcf3162430d2402d240b33871</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">35bf2dfb9d76b1737d7586687324f185</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">211d9543f36015470fe67a3231044de8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">35bf2dfb9d76b1737d7586687324f185</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">ec228053abf3186f9061b231e33f5bdd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">35bf2dfb9d76b1737d7586687324f185</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">53378f543270e0cddd4a9f29bd083f40</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">35bf2dfb9d76b1737d7586687324f185</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">a79beb80a2c9355b925353145adac948</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">35bf2dfb9d76b1737d7586687324f185</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">276a9db2b696c57be314ce6f74ce3eff</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">35bf2dfb9d76b1737d7586687324f185</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">3a92740ee87a4bf171f16d11c308a911</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">0ac674fcc5ca199183633b456210e53e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">019b2b19656ad81c5a760ed7b0b8c0e7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">3a92740ee87a4bf171f16d11c308a911</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">aabcfac0afb0af95e7d053666dbd43a3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">3a92740ee87a4bf171f16d11c308a911</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">0e1b5e8a37dd721739870a15b54bb296</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3a92740ee87a4bf171f16d11c308a911</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e34b8903b345eda1f7090196c115324d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3a92740ee87a4bf171f16d11c308a911</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">5b79143c7875c1236aed255e21b75657</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8b7e1dfcc72e3f72b6c39b8ed0d7bc3e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">6ddfb57ca43354b383af33f71708885d</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5b79143c7875c1236aed255e21b75657</act:parent>
+</gnc:account>
+</gnc:book>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-en-rGB/default_accounts.gnucash b/app/res/raw-en-rGB/default_accounts.gnucash
new file mode 100644
index 00000000..3676f7b4
--- /dev/null
+++ b/app/res/raw-en-rGB/default_accounts.gnucash
@@ -0,0 +1,869 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>GBP</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">c4f2baf88f0c99d5d98e63cd10f7da76</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assets</act:name>
+  <act:id type="guid">507490640fc832779b3d69726f82c92a</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assets</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c4f2baf88f0c99d5d98e63cd10f7da76</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Current Assets</act:name>
+  <act:id type="guid">62496a54a1d0b2137fb95fd045c53060</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Current Assets</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">507490640fc832779b3d69726f82c92a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Checking Account</act:name>
+  <act:id type="guid">516e63d6f3ec57d3539ced2f1afdc4c8</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Checking Account</act:description>
+  <act:parent type="guid">62496a54a1d0b2137fb95fd045c53060</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Savings Account</act:name>
+  <act:id type="guid">be73daa5268d584374adc9cde4c4de6d</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Savings Account</act:description>
+  <act:parent type="guid">62496a54a1d0b2137fb95fd045c53060</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cash in Wallet</act:name>
+  <act:id type="guid">45b4d79097d8e75364e3583f7dc63991</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cash in Wallet</act:description>
+  <act:parent type="guid">62496a54a1d0b2137fb95fd045c53060</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Liabilities</act:name>
+  <act:id type="guid">396810bb5fe982014bdcc9a6950d0e55</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Liabilities</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c4f2baf88f0c99d5d98e63cd10f7da76</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Credit Card</act:name>
+  <act:id type="guid">06f071fcd253baa59b4a72f464b0342b</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Credit Card</act:description>
+  <act:parent type="guid">396810bb5fe982014bdcc9a6950d0e55</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Income</act:name>
+  <act:id type="guid">d55214c77b6e2b217e854868b0b469c8</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Income</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c4f2baf88f0c99d5d98e63cd10f7da76</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bonus</act:name>
+  <act:id type="guid">0c7daada50946b37aff82cb5f75eae47</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bonus</act:description>
+  <act:parent type="guid">d55214c77b6e2b217e854868b0b469c8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gifts Received</act:name>
+  <act:id type="guid">c75bfa3a8ce683da822e1f876272e328</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gifts Received</act:description>
+  <act:parent type="guid">d55214c77b6e2b217e854868b0b469c8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Interest Income</act:name>
+  <act:id type="guid">7325f0ce472545e5a94d1ea031685cf6</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Interest Income</act:description>
+  <act:parent type="guid">d55214c77b6e2b217e854868b0b469c8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Checking Interest</act:name>
+  <act:id type="guid">be9b06876081dbde943d8365f36b0d17</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Checking Interest</act:description>
+  <act:parent type="guid">7325f0ce472545e5a94d1ea031685cf6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Other Interest</act:name>
+  <act:id type="guid">17fc19c6e6035cebb679398dfc6d75ab</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Other Interest</act:description>
+  <act:parent type="guid">7325f0ce472545e5a94d1ea031685cf6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Savings Interest</act:name>
+  <act:id type="guid">3374369052f42a07f52f9692a9d52bbf</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Savings Interest</act:description>
+  <act:parent type="guid">7325f0ce472545e5a94d1ea031685cf6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Other Income</act:name>
+  <act:id type="guid">1573aceeca256e11895f61e82387dcc4</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Other Income</act:description>
+  <act:parent type="guid">d55214c77b6e2b217e854868b0b469c8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salary</act:name>
+  <act:id type="guid">864a17de82106dbbd330d79e008ee60d</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salary</act:description>
+  <act:parent type="guid">d55214c77b6e2b217e854868b0b469c8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Expenses</act:name>
+  <act:id type="guid">a465240b05dca11c8452a397465d84d6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Expenses</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c4f2baf88f0c99d5d98e63cd10f7da76</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Adjustment</act:name>
+  <act:id type="guid">7babb9cb8db14226746063816e720479</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Adjustment</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto</act:name>
+  <act:id type="guid">4e98af58dbc86854e91cbbff14c1e891</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auto</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fees</act:name>
+  <act:id type="guid">ce2c4a00aee7c4be6e3e97559f66c7c5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fees</act:description>
+  <act:parent type="guid">4e98af58dbc86854e91cbbff14c1e891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Petrol</act:name>
+  <act:id type="guid">e4e0ad28b200db89937649463bd6e1cc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Petrol</act:description>
+  <act:parent type="guid">4e98af58dbc86854e91cbbff14c1e891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Parking</act:name>
+  <act:id type="guid">554f8129a7a4dfc0886f607ee0ca8167</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Parking</act:description>
+  <act:parent type="guid">4e98af58dbc86854e91cbbff14c1e891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Repair and Maintenance</act:name>
+  <act:id type="guid">2c6ce4c416837346db002849c78090fd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Repair and Maintenance</act:description>
+  <act:parent type="guid">4e98af58dbc86854e91cbbff14c1e891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bank Service Charge</act:name>
+  <act:id type="guid">1f7e65d14ebf4eeb46e94a8742606d50</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bank Service Charge</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Books</act:name>
+  <act:id type="guid">934da22352865ca5bbe2b7bcfa6d6ecf</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Books</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cable</act:name>
+  <act:id type="guid">083a6d5a42bcceef3e90b4956140677d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cable</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Charity</act:name>
+  <act:id type="guid">9226a62c9f8651f372c92f293daf1e4d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Charity</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Clothes</act:name>
+  <act:id type="guid">7e33de35a6833750b937d8d4fbba5941</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Clothes</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">798cf1db40494574e62ab81ad2099d2a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dining</act:name>
+  <act:id type="guid">efe3e22bfaca6628f273fb6316b72e1c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dining</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Education</act:name>
+  <act:id type="guid">e1d3d0ab134d5bcb7f791d4517310c91</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Education</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Entertainment</act:name>
+  <act:id type="guid">3a19d6f20afb65d99528506d037f7fc6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Entertainment</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Music/Movies</act:name>
+  <act:id type="guid">48b0e460ce38d41d1d725181aa5c53f7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Music/Movies</act:description>
+  <act:parent type="guid">3a19d6f20afb65d99528506d037f7fc6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Recreation</act:name>
+  <act:id type="guid">c3022067b4343101af6801b2303f1598</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Recreation</act:description>
+  <act:parent type="guid">3a19d6f20afb65d99528506d037f7fc6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Travel</act:name>
+  <act:id type="guid">288410a80561ae6868d714bfcec20013</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Travel</act:description>
+  <act:parent type="guid">3a19d6f20afb65d99528506d037f7fc6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gifts</act:name>
+  <act:id type="guid">412e0ad71855581ea733f5dc9059cbe4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gifts</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Groceries</act:name>
+  <act:id type="guid">ea5cfe235d2a9139916e04b791519a50</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Groceries</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">8316869e29c917bd272cbf284f022faf</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Insurance</act:name>
+  <act:id type="guid">2b488a7421261052c8f9bf9413c41843</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Insurance</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto Insurance</act:name>
+  <act:id type="guid">214212603074b52ea5f179212d9d03b0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auto Insurance</act:description>
+  <act:parent type="guid">2b488a7421261052c8f9bf9413c41843</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Health Insurance</act:name>
+  <act:id type="guid">0806d4723a3b8cd40f62a6eb4d3d84c7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Health Insurance</act:description>
+  <act:parent type="guid">2b488a7421261052c8f9bf9413c41843</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Life Insurance</act:name>
+  <act:id type="guid">74d5d2e33d05febefd34ba3f75fbeafc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Life Insurance</act:description>
+  <act:parent type="guid">2b488a7421261052c8f9bf9413c41843</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Laundry/Dry Cleaning</act:name>
+  <act:id type="guid">c699c77d543252e8aeaf0e88e30dfee8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Laundry/Dry Cleaning</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medical Expenses</act:name>
+  <act:id type="guid">87da2b74819dfbbefdd2d7bf20614652</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medical Expenses</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Miscellaneous</act:name>
+  <act:id type="guid">8124c6fd06ff83488810d7da57b0aa5c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Miscellaneous</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online Services</act:name>
+  <act:id type="guid">4d82012da3dc9b6bd186a2850df72744</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online Services</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Phone</act:name>
+  <act:id type="guid">f8f5197190481fd645ebf5d3fbb36ed5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Phone</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Public Transportation</act:name>
+  <act:id type="guid">1f0719a8edc6217e63c114e2e2143db7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Public Transportation</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Subscriptions</act:name>
+  <act:id type="guid">8fb35809d95314289772660979a4aad5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Subscriptions</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Supplies</act:name>
+  <act:id type="guid">3d2cd5ad73570900f24ba731b546769d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Supplies</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Taxes</act:name>
+  <act:id type="guid">cab60731a7ed75d3d8e58eac88a6e93d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Taxes</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Federal</act:name>
+  <act:id type="guid">bb07163221de5c2e38792f82d144d17a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Federal</act:description>
+  <act:parent type="guid">cab60731a7ed75d3d8e58eac88a6e93d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medicare</act:name>
+  <act:id type="guid">ac53d47ef77fad46b0a6b9ccdb8cde70</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medicare</act:description>
+  <act:parent type="guid">cab60731a7ed75d3d8e58eac88a6e93d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Other Tax</act:name>
+  <act:id type="guid">75acf3e59691fdf2d813142cb5e99a95</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Other Tax</act:description>
+  <act:parent type="guid">cab60731a7ed75d3d8e58eac88a6e93d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Social Security</act:name>
+  <act:id type="guid">4c02efa1bbdf4b6c1d638b74c2a3f74d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Social Security</act:description>
+  <act:parent type="guid">cab60731a7ed75d3d8e58eac88a6e93d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>State/Province</act:name>
+  <act:id type="guid">8b76c5e75306e578d3ee1ae1430127fc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>State/Province</act:description>
+  <act:parent type="guid">cab60731a7ed75d3d8e58eac88a6e93d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Utilities</act:name>
+  <act:id type="guid">fc6b725aacd17eb5bb8d2b21fecbe7df</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Utilities</act:description>
+  <act:parent type="guid">a465240b05dca11c8452a397465d84d6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Electric</act:name>
+  <act:id type="guid">733089891c525a3564fb613be1a3079f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Electric</act:description>
+  <act:parent type="guid">fc6b725aacd17eb5bb8d2b21fecbe7df</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Garbage collection</act:name>
+  <act:id type="guid">a3e7b5b9d46fd74b89decde524b000fb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Garbage collection</act:description>
+  <act:parent type="guid">fc6b725aacd17eb5bb8d2b21fecbe7df</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">8463ddb48a6972a9bfd85c53dddec536</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">fc6b725aacd17eb5bb8d2b21fecbe7df</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Water</act:name>
+  <act:id type="guid">10237747a3c878286304a39016aabe77</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Water</act:description>
+  <act:parent type="guid">fc6b725aacd17eb5bb8d2b21fecbe7df</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Equity</act:name>
+  <act:id type="guid">4106a56bb0c16a443e77b0dcacc48192</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Equity</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c4f2baf88f0c99d5d98e63cd10f7da76</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Opening Balances</act:name>
+  <act:id type="guid">95027f8bcdd22828f3cbc65ea70272e4</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>GBP</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Opening Balances</act:description>
+  <act:parent type="guid">4106a56bb0c16a443e77b0dcacc48192</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-es-rES/default_accounts.gnucash b/app/res/raw-es-rES/default_accounts.gnucash
new file mode 100644
index 00000000..32ad467e
--- /dev/null
+++ b/app/res/raw-es-rES/default_accounts.gnucash
@@ -0,0 +1,875 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">65</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">8f1f5533c16edb96fef5a3267a8e20fe</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Activo</act:name>
+  <act:id type="guid">de183536e8eb3df50ba09275056e7687</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Activo</act:description>
+  <act:slots>
+      <slot>
+        <slot:key>placeholder</slot:key>
+        <slot:value type="string">true</slot:value>
+      </slot>
+      <slot>
+        <slot:key>color</slot:key>
+        <slot:value type="string">#1469EB</slot:value>
+      </slot>
+    </act:slots>
+  <act:parent type="guid">8f1f5533c16edb96fef5a3267a8e20fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Activo circulante</act:name>
+  <act:id type="guid">654f255f5857279794bc014c4cbcd8e0</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Activo circulante</act:description>
+  <act:parent type="guid">de183536e8eb3df50ba09275056e7687</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuenta corriente</act:name>
+  <act:id type="guid">51d75f97d8b26cd9920bbe859add74ec</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuenta corriente</act:description>
+  <act:parent type="guid">654f255f5857279794bc014c4cbcd8e0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuenta de ahorros</act:name>
+  <act:id type="guid">08b2c273aa3e96307fc6f4bbcc48563b</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuenta de ahorros</act:description>
+  <act:parent type="guid">654f255f5857279794bc014c4cbcd8e0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Metlico</act:name>
+  <act:id type="guid">6d3b0ca0b64031f4839cea47585cac5e</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Metlico</act:description>
+  <act:parent type="guid">654f255f5857279794bc014c4cbcd8e0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pasivo</act:name>
+  <act:id type="guid">0189aaf0a457353b60c4f5f3db3187b2</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pasivo</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8f1f5533c16edb96fef5a3267a8e20fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuentas por pagar</act:name>
+  <act:id type="guid">9c11461b08e2015d485dc17e2a127148</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuentas por pagar</act:description>
+  <act:parent type="guid">0189aaf0a457353b60c4f5f3db3187b2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tarjeta de crdito</act:name>
+  <act:id type="guid">b6e5835049459d2f0a6e281752658110</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tarjeta de crdito</act:description>
+  <act:parent type="guid">9c11461b08e2015d485dc17e2a127148</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ingresos</act:name>
+  <act:id type="guid">a0238f327ddc428ebb9a4e61986c169f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ingresos</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8f1f5533c16edb96fef5a3267a8e20fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pagas extra</act:name>
+  <act:id type="guid">7f0dbd8af81c4971c192bfad771ca73b</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pagas extra</act:description>
+  <act:parent type="guid">a0238f327ddc428ebb9a4e61986c169f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regalos recibidos</act:name>
+  <act:id type="guid">72889854e347a3ba9e06882d0c2e7fa9</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regalos recibidos</act:description>
+  <act:parent type="guid">a0238f327ddc428ebb9a4e61986c169f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ingresos por intereses</act:name>
+  <act:id type="guid">c2648c22e628b6962620ffa6471f83b4</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ingresos por intereses</act:description>
+  <act:parent type="guid">a0238f327ddc428ebb9a4e61986c169f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intereses de cuenta corriente</act:name>
+  <act:id type="guid">3a01a4b77ff9fbc4e2c3a7564e187bb7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intereses de cuenta corriente</act:description>
+  <act:parent type="guid">c2648c22e628b6962620ffa6471f83b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros intereses</act:name>
+  <act:id type="guid">8e951da6d54a2b1c3142beadd71d61f1</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros intereses</act:description>
+  <act:parent type="guid">c2648c22e628b6962620ffa6471f83b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intereses cuenta de ahorros</act:name>
+  <act:id type="guid">f1535484615e462669ff223f1e6b73a7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intereses cuenta de ahorros</act:description>
+  <act:parent type="guid">c2648c22e628b6962620ffa6471f83b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros ingresos</act:name>
+  <act:id type="guid">ebf3df6d6f33b0eaf34d8cd0be3e6716</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros ingresos</act:description>
+  <act:parent type="guid">a0238f327ddc428ebb9a4e61986c169f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sueldo</act:name>
+  <act:id type="guid">f3ddec87a2ac52ca112d4ecd3dea884f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sueldo</act:description>
+  <act:parent type="guid">a0238f327ddc428ebb9a4e61986c169f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gastos</act:name>
+  <act:id type="guid">6df1ed637347daee156997bebd11924a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gastos</act:description>
+  <act:slots>
+      <slot>
+        <slot:key>placeholder</slot:key>
+        <slot:value type="string">true</slot:value>
+      </slot>
+      <slot>
+        <slot:key>color</slot:key>
+        <slot:value type="string">#D13E29</slot:value>
+      </slot>
+    </act:slots>
+  <act:parent type="guid">8f1f5533c16edb96fef5a3267a8e20fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajustes</act:name>
+  <act:id type="guid">ad653905d4b1d3ce42a0f3c25fb1fad6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajustes</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Automvil</act:name>
+  <act:id type="guid">8e3756dfc0452dc0d5e5ecb3f1f1b103</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Automvil</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuotas</act:name>
+  <act:id type="guid">0bcd387f651384ac028a9fb01ccb5b3f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuotas</act:description>
+  <act:parent type="guid">8e3756dfc0452dc0d5e5ecb3f1f1b103</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">156aa78d236fa8ddfacd4bd6b289ff6f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">8e3756dfc0452dc0d5e5ecb3f1f1b103</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aparcamiento</act:name>
+  <act:id type="guid">008b9ae168def18a74f4327269b75287</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aparcamiento</act:description>
+  <act:parent type="guid">8e3756dfc0452dc0d5e5ecb3f1f1b103</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reparacin y mantenimiento</act:name>
+  <act:id type="guid">e8980b6eeac0ca6f88c5f39bf287bfb8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reparacin y mantenimiento</act:description>
+  <act:parent type="guid">8e3756dfc0452dc0d5e5ecb3f1f1b103</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cargo de servicio bancario</act:name>
+  <act:id type="guid">68adc5f44c8b505f56025176ab36418a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cargo de servicio bancario</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Libros</act:name>
+  <act:id type="guid">dd409f85b2a6f277145d1d6f1b66d609</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Libros</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>TV Cable</act:name>
+  <act:id type="guid">202e97e7c742a998a426932b59598956</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>TV Cable</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Obras benficas</act:name>
+  <act:id type="guid">9a9c0ba125c9d473a15390f64e2735eb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Obras benficas</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ropa</act:name>
+  <act:id type="guid">2cb1eb8ebe8fe82f74a33b6098beec3a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ropa</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Informtica</act:name>
+  <act:id type="guid">258b22aba86d3b0186ac519a230ea115</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Informtica</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Restaurantes</act:name>
+  <act:id type="guid">9d97ada8e1d999350039763237c14a5f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Restaurantes</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Educacin</act:name>
+  <act:id type="guid">43e4580cc0a627e804d07580d7c3ddbd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Educacin</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ocio</act:name>
+  <act:id type="guid">b3f522eb799390fd793570139474b086</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ocio</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Msica/Pelculas</act:name>
+  <act:id type="guid">4e7d752d1ff5ebdcdc9496891042b339</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Msica/Pelculas</act:description>
+  <act:parent type="guid">b3f522eb799390fd793570139474b086</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Recreacin</act:name>
+  <act:id type="guid">08c12915c2132da2a4c9a310725aca9c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Recreacin</act:description>
+  <act:parent type="guid">b3f522eb799390fd793570139474b086</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Viajes</act:name>
+  <act:id type="guid">cd5d7a7d0dd59db4988eea0ccca535d6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Viajes</act:description>
+  <act:parent type="guid">b3f522eb799390fd793570139474b086</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regalos</act:name>
+  <act:id type="guid">4d6b0388d89f14ee406bc75c40e70df2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regalos</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Comestibles</act:name>
+  <act:id type="guid">49bae70252835b7093322e3c8151ce2f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Comestibles</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">988cd63e87e61e33026de1484a639269</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguros</act:name>
+  <act:id type="guid">86d14c5d59a4dea6b4c39b032e046486</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguros</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro de automvil</act:name>
+  <act:id type="guid">0b738c33cb99e3145ca975b4fe3f576a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro de automvil</act:description>
+  <act:parent type="guid">86d14c5d59a4dea6b4c39b032e046486</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro sanitario</act:name>
+  <act:id type="guid">3dbec5b9927a9ea3470fb4a342af5df5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro sanitario</act:description>
+  <act:parent type="guid">86d14c5d59a4dea6b4c39b032e046486</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro de vida</act:name>
+  <act:id type="guid">b50b6509140340e029a3f35c3e1e1d34</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro de vida</act:description>
+  <act:parent type="guid">86d14c5d59a4dea6b4c39b032e046486</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lavandera</act:name>
+  <act:id type="guid">a173c5cd512796fe263cfff00902d903</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lavandera</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gastos mdicos</act:name>
+  <act:id type="guid">82cb6fce0552ab2eb5544e774660fc8b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gastos mdicos</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros gastos</act:name>
+  <act:id type="guid">6335bd85a82a86384077a9428c2d7bae</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros gastos</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servicios Internet</act:name>
+  <act:id type="guid">e1c555b3e97b63660f70a3e0d0877f9a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servicios Internet</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telfono</act:name>
+  <act:id type="guid">c69888bb1e53cf4670f3a5e2271237f0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telfono</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Transporte pblico</act:name>
+  <act:id type="guid">76353443cad83141de2c217e76720cbe</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Transporte pblico</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Suscripciones</act:name>
+  <act:id type="guid">6399212b7da1054ecacf1c2a73e69692</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Suscripciones</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Material de oficina</act:name>
+  <act:id type="guid">547cc94dfff82099d869f7c306defb42</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Material de oficina</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Impuestos</act:name>
+  <act:id type="guid">95f67b7a1db0985b96263f1eddcd107f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impuestos</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>IRPF</act:name>
+  <act:id type="guid">8744bd4139ef15152ea887d9d9775588</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>IRPF</act:description>
+  <act:parent type="guid">95f67b7a1db0985b96263f1eddcd107f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Retenciones</act:name>
+  <act:id type="guid">8f4245dd0c763d65d8edcdfdc1345ffe</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Retenciones</act:description>
+  <act:parent type="guid">95f67b7a1db0985b96263f1eddcd107f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros impuestos</act:name>
+  <act:id type="guid">b6f519e88ee9db6ecffe62704e762095</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros impuestos</act:description>
+  <act:parent type="guid">95f67b7a1db0985b96263f1eddcd107f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguridad Social</act:name>
+  <act:id type="guid">b903fba86b9683ff92cc97a3f3f39f94</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguridad Social</act:description>
+  <act:parent type="guid">95f67b7a1db0985b96263f1eddcd107f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Municipales</act:name>
+  <act:id type="guid">a9b10f655c2e51c875912b68e82521f0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Municipales</act:description>
+  <act:parent type="guid">95f67b7a1db0985b96263f1eddcd107f</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servicios</act:name>
+  <act:id type="guid">b7ff474460e6bc6522fdbf8d803ea6cb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servicios</act:description>
+  <act:parent type="guid">6df1ed637347daee156997bebd11924a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Electricidad</act:name>
+  <act:id type="guid">7481f3b29575bd04b8b04b0ba9529d2e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Electricidad</act:description>
+  <act:parent type="guid">b7ff474460e6bc6522fdbf8d803ea6cb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Recogida de basura</act:name>
+  <act:id type="guid">ff321742872164966db6e6b3320a8555</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Recogida de basura</act:description>
+  <act:parent type="guid">b7ff474460e6bc6522fdbf8d803ea6cb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">09c44d0ae8ccb8553e7988e08c2917ed</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">b7ff474460e6bc6522fdbf8d803ea6cb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Agua</act:name>
+  <act:id type="guid">815b6e37c9845d551ee3a07ff16ec61b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Agua</act:description>
+  <act:parent type="guid">b7ff474460e6bc6522fdbf8d803ea6cb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Resultado</act:name>
+  <act:id type="guid">d9ef93c54ed3f6ab955984975fa38806</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Resultado</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">8f1f5533c16edb96fef5a3267a8e20fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Balances de apertura</act:name>
+  <act:id type="guid">216755cb5f8d39a6d6d990bc2e3c1238</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Balances de apertura</act:description>
+  <act:parent type="guid">d9ef93c54ed3f6ab955984975fa38806</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-es-rMX/default_accounts.gnucash b/app/res/raw-es-rMX/default_accounts.gnucash
new file mode 100644
index 00000000..70e695f3
--- /dev/null
+++ b/app/res/raw-es-rMX/default_accounts.gnucash
@@ -0,0 +1,959 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">72</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>MXN</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">5c545bb61b33277e9439ce68b84c71b5</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Activo</act:name>
+  <act:id type="guid">77a6e6b671574124e3f7e933784dff59</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Activo</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">5c545bb61b33277e9439ce68b84c71b5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Activo circulante</act:name>
+  <act:id type="guid">8ddf2203b96ef1aa62b0de10b536922e</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Activo circulante</act:description>
+  <act:parent type="guid">77a6e6b671574124e3f7e933784dff59</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuenta de Cheques</act:name>
+  <act:id type="guid">b30f0474c98dd14cda2ac842443c8baf</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuenta de Cheques</act:description>
+  <act:parent type="guid">8ddf2203b96ef1aa62b0de10b536922e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuenta de ahorros</act:name>
+  <act:id type="guid">44022544158196e1ae35e74f2cd9889b</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuenta de ahorros</act:description>
+  <act:parent type="guid">8ddf2203b96ef1aa62b0de10b536922e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Efectivo</act:name>
+  <act:id type="guid">03c5068a252486cd01e0ab208bd4821c</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dinero en efectivo (cartera)</act:description>
+  <act:parent type="guid">8ddf2203b96ef1aa62b0de10b536922e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pasivo</act:name>
+  <act:id type="guid">63d635736b3f568b2ff8d747901306ff</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pasivo</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">5c545bb61b33277e9439ce68b84c71b5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cuentas por pagar</act:name>
+  <act:id type="guid">b9e3404c84481f4cae65b7def847d5f1</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cuentas por pagar</act:description>
+  <act:parent type="guid">63d635736b3f568b2ff8d747901306ff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tarjeta de crdito</act:name>
+  <act:id type="guid">40f4b1ba5777c3f6e064b40906b8a820</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tarjeta de crdito</act:description>
+  <act:parent type="guid">b9e3404c84481f4cae65b7def847d5f1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ingresos</act:name>
+  <act:id type="guid">d66eb3e6309cfa5058e8f90f2b432a96</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ingresos</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">5c545bb61b33277e9439ce68b84c71b5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pagos extra</act:name>
+  <act:id type="guid">f98a39b7b03840ccb9f546050b6eec56</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pagos extra</act:description>
+  <act:parent type="guid">d66eb3e6309cfa5058e8f90f2b432a96</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regalos recibidos</act:name>
+  <act:id type="guid">e7cc8f0f11c3f3fcf7352038e88ecea0</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regalos recibidos</act:description>
+  <act:parent type="guid">d66eb3e6309cfa5058e8f90f2b432a96</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ingresos por intereses</act:name>
+  <act:id type="guid">26bcc7c76be8153fd9074d25681ed9f5</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ingresos por intereses</act:description>
+  <act:parent type="guid">d66eb3e6309cfa5058e8f90f2b432a96</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intereses cuenta de cheques</act:name>
+  <act:id type="guid">519b7f5521613320237327f09d1a4063</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intereses de la cuenta de cheques</act:description>
+  <act:parent type="guid">26bcc7c76be8153fd9074d25681ed9f5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros intereses</act:name>
+  <act:id type="guid">4d90d80d8f05aa66cb83bd7b49dba86c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros ingresos por intereses</act:description>
+  <act:parent type="guid">26bcc7c76be8153fd9074d25681ed9f5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intereses cuenta de ahorros</act:name>
+  <act:id type="guid">490c75bf02248dce3d55b9d385f69cd3</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intereses de la cuenta de ahorros</act:description>
+  <act:parent type="guid">26bcc7c76be8153fd9074d25681ed9f5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros ingresos</act:name>
+  <act:id type="guid">bfc4d5cbce144f661bd51c667a2d4d3d</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros ingresos</act:description>
+  <act:parent type="guid">d66eb3e6309cfa5058e8f90f2b432a96</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sueldo</act:name>
+  <act:id type="guid">96fa3ab8033069058c84c646aa2fb919</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sueldo</act:description>
+  <act:parent type="guid">d66eb3e6309cfa5058e8f90f2b432a96</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gastos</act:name>
+  <act:id type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gastos</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">5c545bb61b33277e9439ce68b84c71b5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajustes</act:name>
+  <act:id type="guid">e3881cfbb9190e8ac8407446935c817c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajustes</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Automvil</act:name>
+  <act:id type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Automvil</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Verificacin</act:name>
+  <act:id type="guid">c3e5258a4ad4cdf080690f97545cc522</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gastos por Verificacin de emisin de contaminantes</act:description>
+  <act:parent type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Placas y Permisos</act:name>
+  <act:id type="guid">eb4e741bd577ec5e08f06a7ec3cb902b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Placas y Permisos</act:description>
+  <act:parent type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Estacionamiento</act:name>
+  <act:id type="guid">61c633cf6ab2a33413dc956703b9acc4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Estacionamiento</act:description>
+  <act:parent type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Casetas de Peaje</act:name>
+  <act:id type="guid">df9609f9d3ea1473255c286ac29caca5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Casetas de Peaje</act:description>
+  <act:parent type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gasolina</act:name>
+  <act:id type="guid">3a6e209fba25c7da080947150f8c7421</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gasolina</act:description>
+  <act:parent type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reparacin y mantenimiento</act:name>
+  <act:id type="guid">de1f644eec3caea8e271eb05c2807467</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reparacin y mantenimiento del automvil</act:description>
+  <act:parent type="guid">3f51f9010a8aa611e04582b7d3694c3a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cargo de servicio bancario</act:name>
+  <act:id type="guid">d48ae15875216f56be417aafa8cec672</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cargo de servicio bancario</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Libros</act:name>
+  <act:id type="guid">40babc2051b5f7532b7ea6bb2a356961</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Libros</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>TV Cable</act:name>
+  <act:id type="guid">fd2ca15d5141970d86327f7570867f04</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>TV por Cable</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Obras de caridad</act:name>
+  <act:id type="guid">6c77a084b249ffaa3252295b094bff95</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aportaciones a obras de caridad</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ropa</act:name>
+  <act:id type="guid">7a39fcb6b0983932f9dcce3d0a06da5b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ropa</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computadora</act:name>
+  <act:id type="guid">892fc3f5b751770beb7032807c85b12f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gastos relacionados con la computadora</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Restaurantes</act:name>
+  <act:id type="guid">c20cd262fc4b0f6f0aae78016d43fa5c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Restaurantes</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Educacin</act:name>
+  <act:id type="guid">0c2b4b47586699970e8be505f1b5953c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Educacin</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ocio</act:name>
+  <act:id type="guid">5908e90d9483d6aa8d3e5f9c92879471</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ocio</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Msica/Pelculas</act:name>
+  <act:id type="guid">b894641faf690a97622f2ca5ef3f428e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Msica/Pelculas</act:description>
+  <act:parent type="guid">5908e90d9483d6aa8d3e5f9c92879471</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Entretenimiento</act:name>
+  <act:id type="guid">fb95259eec041af856b65f4c19fce94e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Entretenimiento</act:description>
+  <act:parent type="guid">5908e90d9483d6aa8d3e5f9c92879471</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Viajes</act:name>
+  <act:id type="guid">9ee5cb6a30581d0b7cc5eeb1549c6283</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Viajes</act:description>
+  <act:parent type="guid">5908e90d9483d6aa8d3e5f9c92879471</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regalos</act:name>
+  <act:id type="guid">5b8224febef10efa4989f013875d9544</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regalos</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Despensa</act:name>
+  <act:id type="guid">978d7b31a7eba4b7b1c6bb2faf96ff59</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Despensa</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">2d880333fad22bac2d2a5b7add689bc1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguros</act:name>
+  <act:id type="guid">8ac8cf7aced0bf094a123472034259dd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguros</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro del automvil</act:name>
+  <act:id type="guid">1cfddec9185cdb08c7bcf20e9f18c3a3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro del automvil</act:description>
+  <act:parent type="guid">8ac8cf7aced0bf094a123472034259dd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro Social</act:name>
+  <act:id type="guid">26502299cf36d838a6a6e008fc337dff</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro Social</act:description>
+  <act:parent type="guid">8ac8cf7aced0bf094a123472034259dd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro de vida</act:name>
+  <act:id type="guid">28aa3ae42687619dedf9a2b2302ef1d5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro de vida</act:description>
+  <act:parent type="guid">8ac8cf7aced0bf094a123472034259dd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lavandera</act:name>
+  <act:id type="guid">b60ecac03b1d143c24bc81a9a2cf7bbd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lavandera</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gastos mdicos</act:name>
+  <act:id type="guid">b7a0880bedfbcec8d0516c3f7f5eb5dd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gastos mdicos</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros gastos</act:name>
+  <act:id type="guid">eedce12dceb71f90f1d68b32a7b8741b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros gastos</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servicios de Internet</act:name>
+  <act:id type="guid">23e71ed44c6c5a502a7201b870548c34</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servicios de Internet</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telfono</act:name>
+  <act:id type="guid">6e366e30c2d38f81b15cc5a892f97574</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telfono</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Transporte pblico</act:name>
+  <act:id type="guid">9e0068a039b08be0efbb65cb128f9540</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Transporte pblico</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Suscripciones</act:name>
+  <act:id type="guid">623b4a80f907058bae1d2faa1659fe29</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Suscripciones</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Material de oficina</act:name>
+  <act:id type="guid">aabfe9e61a041a8dc139369a64e6f3d0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Material de oficina</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Impuestos</act:name>
+  <act:id type="guid">c62276243dbc4021f9a36beee66caf82</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impuestos</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Federales</act:name>
+  <act:id type="guid">4616da66720d02098fc04264c6c67afa</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impuestos Federales</act:description>
+  <act:parent type="guid">c62276243dbc4021f9a36beee66caf82</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>ISR</act:name>
+  <act:id type="guid">f8c677de112187e97522cc6647f71676</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impuesto sobre la Renta</act:description>
+  <act:parent type="guid">4616da66720d02098fc04264c6c67afa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>IVA</act:name>
+  <act:id type="guid">36e66e7bef23f4fde299aa8e4a9afeb7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impuesto del Valor Agregado</act:description>
+  <act:parent type="guid">4616da66720d02098fc04264c6c67afa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>IETU</act:name>
+  <act:id type="guid">b46f815f6eb4ad7d98588f0f19de326b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impuesto Empresarial de Tasa nica</act:description>
+  <act:parent type="guid">4616da66720d02098fc04264c6c67afa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>PTU</act:name>
+  <act:id type="guid">4f0e894a93d93972cb6a87d6099dddd9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Participancin de los Trabajadores en las Utilidades</act:description>
+  <act:parent type="guid">4616da66720d02098fc04264c6c67afa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tenencia</act:name>
+  <act:id type="guid">5db0ed1e7f693e9c467c71d965bbac55</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tenencia</act:description>
+  <act:parent type="guid">4616da66720d02098fc04264c6c67afa</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>IMSS</act:name>
+  <act:id type="guid">e82b24cab38a64c788f5ccef7c7d9d8e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aportaciones al IMSS</act:description>
+  <act:parent type="guid">c62276243dbc4021f9a36beee66caf82</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Retenciones</act:name>
+  <act:id type="guid">c594db5d31746abd12f05ab7946c6cd0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Retenciones de impuestos por empresas o individuos</act:description>
+  <act:parent type="guid">c62276243dbc4021f9a36beee66caf82</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Otros impuestos</act:name>
+  <act:id type="guid">3be6a0cdfb3c9595558fd1d35bb424c0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Otros impuestos</act:description>
+  <act:parent type="guid">c62276243dbc4021f9a36beee66caf82</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Municipales</act:name>
+  <act:id type="guid">f19307fb1bb40af495f8a4fed15a95f9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Municipales</act:description>
+  <act:parent type="guid">c62276243dbc4021f9a36beee66caf82</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servicios</act:name>
+  <act:id type="guid">2152e42897f904ad054bf203a3e89450</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servicios</act:description>
+  <act:parent type="guid">a2c2917aeeb3daecf185dddff44f7b06</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Electricidad</act:name>
+  <act:id type="guid">6aff1756ae84f4f368b71bec5d18bd15</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Electricidad</act:description>
+  <act:parent type="guid">2152e42897f904ad054bf203a3e89450</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Recoleccin de basura</act:name>
+  <act:id type="guid">89e0df0f5219163bb0b4aa6c5f259807</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Recoleccin de basura</act:description>
+  <act:parent type="guid">2152e42897f904ad054bf203a3e89450</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">a23c279e2ad0eb484d255acf63766551</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">2152e42897f904ad054bf203a3e89450</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Agua</act:name>
+  <act:id type="guid">2f109e041804af52bf2d036ca5bbab4d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Agua</act:description>
+  <act:parent type="guid">2152e42897f904ad054bf203a3e89450</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Capital</act:name>
+  <act:id type="guid">6cd67cca741979feee1f3f0dd98c583b</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aportaciones de Capital y resultados acumulados</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">5c545bb61b33277e9439ce68b84c71b5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Balances de apertura</act:name>
+  <act:id type="guid">d081b621bc246103344e626cf2ac4536</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>MXN</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Balances de apertura</act:description>
+  <act:parent type="guid">6cd67cca741979feee1f3f0dd98c583b</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-fr-rCA/default_accounts.gnucash b/app/res/raw-fr-rCA/default_accounts.gnucash
new file mode 100644
index 00000000..2eb913fd
--- /dev/null
+++ b/app/res/raw-fr-rCA/default_accounts.gnucash
@@ -0,0 +1,803 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">56</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>CAD</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">3cd35f28160a1e49a1428440b954b514</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Actif</act:name>
+  <act:id type="guid">ba0312af9692206f228fb50d26a1f569</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Actif</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3cd35f28160a1e49a1428440b954b514</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Liquidits</act:name>
+  <act:id type="guid">f9356ba3cf686b03dd5122c1ed528547</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Liquidits ou actifs liquides</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">ba0312af9692206f228fb50d26a1f569</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Chques</act:name>
+  <act:id type="guid">1e30b3e7099875668af8275481fa128a</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Compte chques</act:description>
+  <act:parent type="guid">f9356ba3cf686b03dd5122c1ed528547</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>pargne</act:name>
+  <act:id type="guid">4b8a90b22c55f0f2e6442960a908ec73</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Compte d'pargne</act:description>
+  <act:parent type="guid">f9356ba3cf686b03dd5122c1ed528547</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Encaisse</act:name>
+  <act:id type="guid">77dc0564f7b7617f9c399622aae7a426</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Encaisse en poche</act:description>
+  <act:parent type="guid">f9356ba3cf686b03dd5122c1ed528547</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passif</act:name>
+  <act:id type="guid">fa8a09d104ba9124ad120e47f33ce72c</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passif</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3cd35f28160a1e49a1428440b954b514</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carte de crdit</act:name>
+  <act:id type="guid">0ede01db069d8194411e0b765687379c</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carte de crdit</act:description>
+  <act:parent type="guid">fa8a09d104ba9124ad120e47f33ce72c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Marge de crdit</act:name>
+  <act:id type="guid">562369725328f3c58a23007e1be6c10b</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Marge de crdit personnelle</act:description>
+  <act:parent type="guid">fa8a09d104ba9124ad120e47f33ce72c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Revenus</act:name>
+  <act:id type="guid">b8504f7775ba37870fab9b378fe5254d</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenus</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3cd35f28160a1e49a1428440b954b514</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cadeaux reus</act:name>
+  <act:id type="guid">c5d8c31c09865099a72fd1ca4ff3d843</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cadeaux reus</act:description>
+  <act:parent type="guid">b8504f7775ba37870fab9b378fe5254d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrts</act:name>
+  <act:id type="guid">34f4e37955c3d28cd804dee23f9a4ce7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenus d'intrets</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">b8504f7775ba37870fab9b378fe5254d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Chques</act:name>
+  <act:id type="guid">bce091000ceb30237487377060a2c1d1</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrts sur compte chques</act:description>
+  <act:parent type="guid">34f4e37955c3d28cd804dee23f9a4ce7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>pargne</act:name>
+  <act:id type="guid">29b6c885cf4e82e4699002761663e5c1</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrts sur compte pargne</act:description>
+  <act:parent type="guid">34f4e37955c3d28cd804dee23f9a4ce7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autres</act:name>
+  <act:id type="guid">7a3fcb292e868f8680d94a344178b6b5</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenus autres</act:description>
+  <act:parent type="guid">b8504f7775ba37870fab9b378fe5254d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dpenses</act:name>
+  <act:id type="guid">4423ba7953102c0c51510d3bd930499a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dpenses</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3cd35f28160a1e49a1428440b954b514</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajustements</act:name>
+  <act:id type="guid">ad909711473603103e16e92184db7ea3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajustement/redressement du solde</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Frais bancaires</act:name>
+  <act:id type="guid">04b4ac57c714082e4e14be915ab7d78b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais bancaires</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Livres</act:name>
+  <act:id type="guid">9b422ef76f5f83eb234c248ef437f7d1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Livres</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dons</act:name>
+  <act:id type="guid">60b8355a29500f484e023e01f315e4bc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dons de bienfaisance</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vtements</act:name>
+  <act:id type="guid">2d0317874a2f71a52a694cebe8dd29b8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vtements</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Informatique</act:name>
+  <act:id type="guid">6f23c14f7cfc745fdae69eb471fe5904</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais d'informatique</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Restaurant</act:name>
+  <act:id type="guid">1786e45a548698ad97a316010931a096</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Repas pris au restaurant </act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Formation</act:name>
+  <act:id type="guid">43f0e9955eeba58363095c680063e3b1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Formation</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divertissements</act:name>
+  <act:id type="guid">54edcb11a0bc4ad24b240f1ba48ffc97</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Divertissements</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musique/Films</act:name>
+  <act:id type="guid">3f9a2248699cd44c51cb07c9530a5c6f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musique/Films</act:description>
+  <act:parent type="guid">54edcb11a0bc4ad24b240f1ba48ffc97</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Loisirs</act:name>
+  <act:id type="guid">91f39afdf0345a5abb9193da0f895703</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Loisirs</act:description>
+  <act:parent type="guid">54edcb11a0bc4ad24b240f1ba48ffc97</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Voyages</act:name>
+  <act:id type="guid">4a79935607dc547658bf0c0d5f795ba2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Voyages</act:description>
+  <act:parent type="guid">54edcb11a0bc4ad24b240f1ba48ffc97</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passe-temps</act:name>
+  <act:id type="guid">c1b73b873ae329d26d5893cad0e62b2f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passe-temps</act:description>
+  <act:parent type="guid">54edcb11a0bc4ad24b240f1ba48ffc97</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cadeaux</act:name>
+  <act:id type="guid">001ab8bcaa4583e37896c0d3825025df</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cadeaux  des tiers</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Alimentation</act:name>
+  <act:id type="guid">3f00976c2e067ada65e9e0d288e4104a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Alimentation</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurances</act:name>
+  <act:id type="guid">d6074acd842cb47f5f3413c954bc9041</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurances</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sant</act:name>
+  <act:id type="guid">59bae86f81b647fc97ac63607b6dd8e0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance sant</act:description>
+  <act:parent type="guid">d6074acd842cb47f5f3413c954bc9041</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vie</act:name>
+  <act:id type="guid">8c3646eed6f34b59d4f242c3a6ff1ef2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance vie</act:description>
+  <act:parent type="guid">d6074acd842cb47f5f3413c954bc9041</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Buanderie</act:name>
+  <act:id type="guid">57721242669da03b54f8b210c4a3550b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Buanderie</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Frais mdicaux</act:name>
+  <act:id type="guid">84844755a33f03d9963f9602bb54fba1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais mdicaux</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divers</act:name>
+  <act:id type="guid">40c1235c11201a2ee6d92b4b56c298f6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais divers</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Transports publics</act:name>
+  <act:id type="guid">b18073ae6f4ff5924edbac184836839a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Transports publics</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnements</act:name>
+  <act:id type="guid">b1c1f6057247db320289562c3bc34e0a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnements</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fournitures</act:name>
+  <act:id type="guid">18064a4f7add1f4dda49c7cb5a63a629</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fournitures et produits mnagers</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Services</act:name>
+  <act:id type="guid">4a0e8b8416ceccc1b8d1211336192442</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Services publics</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>lectricit</act:name>
+  <act:id type="guid">0336416706cbe8d37efd9b2149ed9a6e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>lectricit</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ordures</act:name>
+  <act:id type="guid">496be0da569481c99b3eb5c6823ebfa2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Collecte d'ordures</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gaz</act:name>
+  <act:id type="guid">7e43157db05539d49aa6ebbc9f8c4afb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gaz/Mazout</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Eau</act:name>
+  <act:id type="guid">7a216b1d9753f4dfe98e29b06aea168a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Eau</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cble</act:name>
+  <act:id type="guid">35c3b06201fdbe420b2b10f2be5675de</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cble</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Internet</act:name>
+  <act:id type="guid">967f6d93138f60d1a1ee49cd87629850</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fournisseur d'accs Internet</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tlphone</act:name>
+  <act:id type="guid">42778c6609c1b783aacdd85bb6fa3c3a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tlphone</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cellulaire</act:name>
+  <act:id type="guid">c1775b724645c55f5bc7ffd53e9ff03a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tlphone cellulaire</act:description>
+  <act:parent type="guid">4a0e8b8416ceccc1b8d1211336192442</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cotisations</act:name>
+  <act:id type="guid">cc0adb3521225e2c72ccb654c8861a2c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cotisations professionnelles et syndicales</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrts</act:name>
+  <act:id type="guid">21a46c26af01e5c0d12e807fb9594297</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dpense d'intrts</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carte de crdit</act:name>
+  <act:id type="guid">b195e2505d6b1011a250d171cea850c1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrts sur carte de crdit</act:description>
+  <act:parent type="guid">21a46c26af01e5c0d12e807fb9594297</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Marge de crdit</act:name>
+  <act:id type="guid">330b461099246dae998ad5575d883353</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrts sur marge de crdit personnelle</act:description>
+  <act:parent type="guid">21a46c26af01e5c0d12e807fb9594297</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Garderie</act:name>
+  <act:id type="guid">786fdb1b3c83310d37cd33d918e0f658</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Garderie</act:description>
+  <act:parent type="guid">4423ba7953102c0c51510d3bd930499a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Capitaux propres</act:name>
+  <act:id type="guid">4e9ef4d8df45bd0ed652556266d64ed2</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Capitaux propres</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3cd35f28160a1e49a1428440b954b514</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ouverture</act:name>
+  <act:id type="guid">6833194578672a1e620c749616ace232</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CAD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Soldes d'ouverture des nouveaux comptes</act:description>
+  <act:parent type="guid">4e9ef4d8df45bd0ed652556266d64ed2</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-fr-rCH/default_accounts.gnucash b/app/res/raw-fr-rCH/default_accounts.gnucash
new file mode 100644
index 00000000..e1116116
--- /dev/null
+++ b/app/res/raw-fr-rCH/default_accounts.gnucash
@@ -0,0 +1,875 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">65</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>CHF</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">c304eac1288c93069d382650274aa891</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Actif</act:name>
+  <act:id type="guid">2a14b8d1eb36dd908994d25a55afee18</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Actif</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c304eac1288c93069d382650274aa891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Actifs actuels</act:name>
+  <act:id type="guid">de9d72219615354267d533ea7218464d</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Actifs actuels</act:description>
+  <act:parent type="guid">2a14b8d1eb36dd908994d25a55afee18</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Compte courant</act:name>
+  <act:id type="guid">f06037765678bb8f59abf38a1e509948</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Compte courant</act:description>
+  <act:parent type="guid">de9d72219615354267d533ea7218464d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Compte d'pargne</act:name>
+  <act:id type="guid">dea8fb76754e8968f4b24543ce90041e</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Compte d'pargne</act:description>
+  <act:parent type="guid">de9d72219615354267d533ea7218464d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Argent du porte-monnaie</act:name>
+  <act:id type="guid">d19c6c0fd858225297b06af531bcceae</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Argent du porte-monnaie</act:description>
+  <act:parent type="guid">de9d72219615354267d533ea7218464d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passif</act:name>
+  <act:id type="guid">a3373bebf0afb477b5b859533b6402ca</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passif</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c304eac1288c93069d382650274aa891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Comptes de dettes</act:name>
+  <act:id type="guid">daae83aea9826e9962e2b6c856a74a8d</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Comptes de dettes</act:description>
+  <act:parent type="guid">a3373bebf0afb477b5b859533b6402ca</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carte de crdit</act:name>
+  <act:id type="guid">4709e126de73b7fe881f342ea677eb36</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carte de crdit</act:description>
+  <act:parent type="guid">daae83aea9826e9962e2b6c856a74a8d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Revenus</act:name>
+  <act:id type="guid">ec0d7e17184b11281c3f1f48500671c7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenus</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c304eac1288c93069d382650274aa891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bonus</act:name>
+  <act:id type="guid">8791289f158766aa72f6f895eb3eb64e</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bonus</act:description>
+  <act:parent type="guid">ec0d7e17184b11281c3f1f48500671c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dons reus</act:name>
+  <act:id type="guid">2b2064fcbaf5f449b387177a0f6c3211</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dons reus</act:description>
+  <act:parent type="guid">ec0d7e17184b11281c3f1f48500671c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Revenu d'intrts</act:name>
+  <act:id type="guid">b3ca5c60949f33c96d16f9201ac0fb6b</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenu d'intrets</act:description>
+  <act:parent type="guid">ec0d7e17184b11281c3f1f48500671c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrets du compte courant</act:name>
+  <act:id type="guid">b03141d622580147f5f0aadac6b6abaa</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrets du compte courant</act:description>
+  <act:parent type="guid">b3ca5c60949f33c96d16f9201ac0fb6b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autres intrts</act:name>
+  <act:id type="guid">d668551ac6c66bcdd6eb1a0511cd2ecb</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autres intrts</act:description>
+  <act:parent type="guid">b3ca5c60949f33c96d16f9201ac0fb6b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrts d'pargne</act:name>
+  <act:id type="guid">5f0023c5f150b919fd1eb4863ce6f206</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrts d'pargne</act:description>
+  <act:parent type="guid">b3ca5c60949f33c96d16f9201ac0fb6b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autre revenu</act:name>
+  <act:id type="guid">1e74fa1746476fc9bf9a41e9f8fbe8ab</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autre revenu</act:description>
+  <act:parent type="guid">ec0d7e17184b11281c3f1f48500671c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salaire</act:name>
+  <act:id type="guid">fcf04d0c3b8e55b72ab8d2250187889c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salaire</act:description>
+  <act:parent type="guid">ec0d7e17184b11281c3f1f48500671c7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dpenses</act:name>
+  <act:id type="guid">676eb95d012404b4735657de6712bf8e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dpenses</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c304eac1288c93069d382650274aa891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajustement</act:name>
+  <act:id type="guid">9bdcad1b0e003b4f0bcc42b8349261ad</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajustement</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto</act:name>
+  <act:id type="guid">58c082a50192ac27ca26864429884897</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auto</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Frais</act:name>
+  <act:id type="guid">c89d1f2486bcb18bd0a921e9ce33e34e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais</act:description>
+  <act:parent type="guid">58c082a50192ac27ca26864429884897</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carburant</act:name>
+  <act:id type="guid">0eb208a0df4e563cecb7243e28472b9f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carburant</act:description>
+  <act:parent type="guid">58c082a50192ac27ca26864429884897</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Stationnement</act:name>
+  <act:id type="guid">3e8b12dbcba563d8d77f5edd21de5430</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Stationnement</act:description>
+  <act:parent type="guid">58c082a50192ac27ca26864429884897</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Maintenance et rparation</act:name>
+  <act:id type="guid">1aa04d0007456fd67b591638b16046d6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Maintenance et rparation</act:description>
+  <act:parent type="guid">58c082a50192ac27ca26864429884897</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Frais de service bancaire</act:name>
+  <act:id type="guid">21fa3702b4b9b2a95c423eeafda1080b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais de service bancaire</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Livres</act:name>
+  <act:id type="guid">d164aa4e4c21f7961494c10e1566c8d7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Livres</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tlvision</act:name>
+  <act:id type="guid">3e5aa0e309d60bfc95bfa003c50c4ca6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tlvision</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Charit</act:name>
+  <act:id type="guid">47b34d74b627df0ac159a340509c6c39</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Charit</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vtements</act:name>
+  <act:id type="guid">24e0860bb9c7b61526cd496e0c382091</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vtements</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Informatique</act:name>
+  <act:id type="guid">4960b8b49b7cb2718ce04d6c049da772</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Informatique</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Restaurant</act:name>
+  <act:id type="guid">050f21a4c121185bb60c8356f619f8f1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Restaurant</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Education</act:name>
+  <act:id type="guid">17ba9319370194aba445548f0499cf02</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Education</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Loisirs</act:name>
+  <act:id type="guid">e79483fb17514bb1ebfea273baac7af3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Loisirs</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musique/Films</act:name>
+  <act:id type="guid">94b4a2afaa7fcaf58a9feda9f9035a19</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musique/Films</act:description>
+  <act:parent type="guid">e79483fb17514bb1ebfea273baac7af3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divertissements</act:name>
+  <act:id type="guid">f1cb60f14182b8d307ffe5b63e467ff5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Divertissements</act:description>
+  <act:parent type="guid">e79483fb17514bb1ebfea273baac7af3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Voyage</act:name>
+  <act:id type="guid">136cf6bbfb3053bb69d755cc2e7cef55</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Voyage</act:description>
+  <act:parent type="guid">e79483fb17514bb1ebfea273baac7af3</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dons/Cadeaux</act:name>
+  <act:id type="guid">c6e6122719598a6d20ea9ab511dd368f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dons/Cadeaux</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Alimentaire</act:name>
+  <act:id type="guid">3d97ac175929ff404df170670539db4e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Alimentaire</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passe-temps</act:name>
+  <act:id type="guid">782001aa319f0d737ec61950f9551f16</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passe-temps</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurances</act:name>
+  <act:id type="guid">8c587dbb961ddefa40708551e4eb10ac</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurances</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance automobile</act:name>
+  <act:id type="guid">a79af0c1bcb8df9cc1e8a0fa745655ef</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance automobile</act:description>
+  <act:parent type="guid">8c587dbb961ddefa40708551e4eb10ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance sant</act:name>
+  <act:id type="guid">fc1627c7fb0656e65255545ddedaa7de</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance sant</act:description>
+  <act:parent type="guid">8c587dbb961ddefa40708551e4eb10ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance vie</act:name>
+  <act:id type="guid">719bad5d16aff882e18ef7407c73e313</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance vie</act:description>
+  <act:parent type="guid">8c587dbb961ddefa40708551e4eb10ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Laverie/Pressing</act:name>
+  <act:id type="guid">b3c602e619f501b8336281dff57480a5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Laverie/Pressing</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dpenses mdicales</act:name>
+  <act:id type="guid">660686845d8082e65315d45b0a9a7b4b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dpenses mdicales</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divers</act:name>
+  <act:id type="guid">c1df1b4aabecd944cc7fe346f347a77f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Divers</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Services en ligne</act:name>
+  <act:id type="guid">e3ea7035d86ba28e44633afff118402a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Services en ligne</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tlphone</act:name>
+  <act:id type="guid">cb7fda519e1e63213c7e127426a115ca</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tlphone</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Transports publics</act:name>
+  <act:id type="guid">872606a1af64c976a2bd3696947e3397</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Transports publics</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnements</act:name>
+  <act:id type="guid">221248647ad784a44f8f1d0367247612</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnements</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fournisseurs</act:name>
+  <act:id type="guid">022ec6829b74fb644fafcaf5f9872fbd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fournisseurs</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Taxes</act:name>
+  <act:id type="guid">9e0c994a17d65705ee88899316f8d42d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Taxes</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Impts</act:name>
+  <act:id type="guid">da0163432bd66aca77fd93ef3603d89a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impts</act:description>
+  <act:parent type="guid">9e0c994a17d65705ee88899316f8d42d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Complmentaire maladie</act:name>
+  <act:id type="guid">565fd57d9eb5aeba3ea539e860ac822f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Complmentaire maladie</act:description>
+  <act:parent type="guid">9e0c994a17d65705ee88899316f8d42d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autres taxes</act:name>
+  <act:id type="guid">6e67d9e7aafc2808611e2bb77332a326</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autres taxes</act:description>
+  <act:parent type="guid">9e0c994a17d65705ee88899316f8d42d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance de base</act:name>
+  <act:id type="guid">5adccdb665be3e3d235edfb5ed3f82d3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance maladie selon LAMAL</act:description>
+  <act:parent type="guid">9e0c994a17d65705ee88899316f8d42d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Etat/Province</act:name>
+  <act:id type="guid">21258bc1c6fbc5c9f502d9fb31633d91</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Etat/Province</act:description>
+  <act:parent type="guid">9e0c994a17d65705ee88899316f8d42d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Utilitaires</act:name>
+  <act:id type="guid">305d0864bc8d60ec412956e7324141ae</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Utilitaires</act:description>
+  <act:parent type="guid">676eb95d012404b4735657de6712bf8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Electricit</act:name>
+  <act:id type="guid">c808d832de8c20610a36246ec3f6edb7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Electricit</act:description>
+  <act:parent type="guid">305d0864bc8d60ec412956e7324141ae</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Collecte d'ordures</act:name>
+  <act:id type="guid">673967a18af5845fa4fab53f81dd52a3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Collecte d'ordures</act:description>
+  <act:parent type="guid">305d0864bc8d60ec412956e7324141ae</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gaz</act:name>
+  <act:id type="guid">6fd098672414700d9804efaadeecf90c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gaz</act:description>
+  <act:parent type="guid">305d0864bc8d60ec412956e7324141ae</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Eau</act:name>
+  <act:id type="guid">fbc1586cd6dc23be72d6ea1a7982af3f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Eau</act:description>
+  <act:parent type="guid">305d0864bc8d60ec412956e7324141ae</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Capitaux propres</act:name>
+  <act:id type="guid">a972d1411df57fd4a644ebe3e65f0c02</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Capitaux propres</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">c304eac1288c93069d382650274aa891</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Soldes initiaux</act:name>
+  <act:id type="guid">ef0b8e76d112b9a7bccc78ab00070d5a</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CHF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Soldes initiaux</act:description>
+  <act:parent type="guid">a972d1411df57fd4a644ebe3e65f0c02</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-fr-rFR/default_accounts.gnucash b/app/res/raw-fr-rFR/default_accounts.gnucash
new file mode 100644
index 00000000..8249feb6
--- /dev/null
+++ b/app/res/raw-fr-rFR/default_accounts.gnucash
@@ -0,0 +1,875 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">65</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">24f38b1cda364ad0f414e31c63c145b8</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Actif</act:name>
+  <act:id type="guid">d017b546ad04e34e52ab5a6d028a01fe</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Actif</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">24f38b1cda364ad0f414e31c63c145b8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Actifs actuels</act:name>
+  <act:id type="guid">c9110cd1782784add3d8eb74dfa10011</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Actifs actuels</act:description>
+  <act:parent type="guid">d017b546ad04e34e52ab5a6d028a01fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Compte chques</act:name>
+  <act:id type="guid">65a6a1c0abf6e679ffc1e2dcad5a159b</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Compte chques</act:description>
+  <act:parent type="guid">c9110cd1782784add3d8eb74dfa10011</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Compte d'pargne</act:name>
+  <act:id type="guid">7e78440a2b080aa413115acc2896c700</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Compte d'pargne</act:description>
+  <act:parent type="guid">c9110cd1782784add3d8eb74dfa10011</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Argent du porte-monnaie</act:name>
+  <act:id type="guid">7ef27373ad71ee9b89a22f6d9d0d00d9</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Argent du porte-monnaie</act:description>
+  <act:parent type="guid">c9110cd1782784add3d8eb74dfa10011</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passif</act:name>
+  <act:id type="guid">e9041e25dce447eca4da8a8d343e3913</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passif</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">24f38b1cda364ad0f414e31c63c145b8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Comptes de dettes</act:name>
+  <act:id type="guid">0700b2f64ae32af5c285ad2a66c741fe</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Comptes de dettes</act:description>
+  <act:parent type="guid">e9041e25dce447eca4da8a8d343e3913</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carte de crdit</act:name>
+  <act:id type="guid">d1affce6e206bbdcb858f93257a26caf</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carte de crdit</act:description>
+  <act:parent type="guid">0700b2f64ae32af5c285ad2a66c741fe</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Revenus</act:name>
+  <act:id type="guid">888d8e9b9d48d21d4a8d7b5f99b5e595</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenus</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">24f38b1cda364ad0f414e31c63c145b8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bonus</act:name>
+  <act:id type="guid">8e2b6f3c6c246af3b07cdd324e22e3db</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bonus</act:description>
+  <act:parent type="guid">888d8e9b9d48d21d4a8d7b5f99b5e595</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dons reus</act:name>
+  <act:id type="guid">56d278dc9c7eccef8f00014484fb575c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dons reus</act:description>
+  <act:parent type="guid">888d8e9b9d48d21d4a8d7b5f99b5e595</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Revenu d'intrts</act:name>
+  <act:id type="guid">f010ce72a833bd386d62889365836952</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Revenu d'intrets</act:description>
+  <act:parent type="guid">888d8e9b9d48d21d4a8d7b5f99b5e595</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrets du compte chque</act:name>
+  <act:id type="guid">6a5b2786ae411d26f069d4f9426b49b6</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrets du compte chque</act:description>
+  <act:parent type="guid">f010ce72a833bd386d62889365836952</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autres intrts</act:name>
+  <act:id type="guid">508491790466a973494fe52de9cce774</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autres intrts</act:description>
+  <act:parent type="guid">f010ce72a833bd386d62889365836952</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrts d'pargne</act:name>
+  <act:id type="guid">b78f537b4ead5be7480df4033a35bb3c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrts d'pargne</act:description>
+  <act:parent type="guid">f010ce72a833bd386d62889365836952</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autre revenu</act:name>
+  <act:id type="guid">65c143037a182ff3155b3068b56f54b9</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autre revenu</act:description>
+  <act:parent type="guid">888d8e9b9d48d21d4a8d7b5f99b5e595</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salaire</act:name>
+  <act:id type="guid">e679522bbfabc0beae28a7ea306a59c5</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salaire</act:description>
+  <act:parent type="guid">888d8e9b9d48d21d4a8d7b5f99b5e595</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dpenses</act:name>
+  <act:id type="guid">0c1994757dd543df377a83c3809c647e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dpenses</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">24f38b1cda364ad0f414e31c63c145b8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajustement</act:name>
+  <act:id type="guid">535ac4a0e504840512164b4754818422</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajustement</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto</act:name>
+  <act:id type="guid">777aa873b84e9d06ff908726d1192bff</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auto</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Frais</act:name>
+  <act:id type="guid">15ccb4709dbe399120bd6bbd0e0649e2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais</act:description>
+  <act:parent type="guid">777aa873b84e9d06ff908726d1192bff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carburant</act:name>
+  <act:id type="guid">202b4ec4b8f064a16688b941b1ef9b9b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carburant</act:description>
+  <act:parent type="guid">777aa873b84e9d06ff908726d1192bff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Stationnement</act:name>
+  <act:id type="guid">fc56923322c9b832d776b35d2c293816</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Stationnement</act:description>
+  <act:parent type="guid">777aa873b84e9d06ff908726d1192bff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Maintenance et rparation</act:name>
+  <act:id type="guid">71d138e34bd184707c56b99a5ca604d6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Maintenance et rparation</act:description>
+  <act:parent type="guid">777aa873b84e9d06ff908726d1192bff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Frais de service bancaire</act:name>
+  <act:id type="guid">7a6343de5e3a14fac7332232a065d06b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Frais de service bancaire</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Livres</act:name>
+  <act:id type="guid">1ca50547a0cdbb6c4ec4757af033b9f3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Livres</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cable</act:name>
+  <act:id type="guid">914be8ffabbc55d81cf6d074627e6cb5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cable</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Charit</act:name>
+  <act:id type="guid">c7943ea4cb3d130d48f291eae2ba436c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Charit</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vtements</act:name>
+  <act:id type="guid">02273d22702c230d98336efee01e005e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vtements</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Informatique</act:name>
+  <act:id type="guid">331eccca0be0b034bb9ff7cc4355cb27</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Informatique</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Restaurant</act:name>
+  <act:id type="guid">26430b65081d4098d5db478a17f3a1cf</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Restaurant</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Education</act:name>
+  <act:id type="guid">545db3a75df4f980791440564a7d1775</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Education</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Loisirs</act:name>
+  <act:id type="guid">0b32bfb67cba6c31b5f6f94150cf0104</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Loisirs</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musique/Films</act:name>
+  <act:id type="guid">c567a6f38ec1e6a1e74afd1623e1c6e6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musique/Films</act:description>
+  <act:parent type="guid">0b32bfb67cba6c31b5f6f94150cf0104</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divertissements</act:name>
+  <act:id type="guid">7fdfe31dfc39858ac3f1b9ae6aa15a93</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Divertissements</act:description>
+  <act:parent type="guid">0b32bfb67cba6c31b5f6f94150cf0104</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Voyage</act:name>
+  <act:id type="guid">3d246935a58aa1d4419a2434dd6b06c6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Voyage</act:description>
+  <act:parent type="guid">0b32bfb67cba6c31b5f6f94150cf0104</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dons/Cadeaux</act:name>
+  <act:id type="guid">9bc100a87fd7121667d6d28b9bd60045</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dons/Cadeaux</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Alimentaire</act:name>
+  <act:id type="guid">c60bd0dea85548132fc9c7611267d72d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Alimentaire</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passe-temps</act:name>
+  <act:id type="guid">4e7212da86bf61b34a4e41619e38a175</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passe-temps</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurances</act:name>
+  <act:id type="guid">f63c0a6a474ce39bb01c7ee450610135</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurances</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance automobile</act:name>
+  <act:id type="guid">333e31099bba8829c80f4a9b4cb6956a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance automobile</act:description>
+  <act:parent type="guid">f63c0a6a474ce39bb01c7ee450610135</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance sant</act:name>
+  <act:id type="guid">d6a199ef01a1eb4a41353989b2c7e053</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance sant</act:description>
+  <act:parent type="guid">f63c0a6a474ce39bb01c7ee450610135</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assurance vie</act:name>
+  <act:id type="guid">6c88dbbb1469348e5a62c0eb16f39711</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assurance vie</act:description>
+  <act:parent type="guid">f63c0a6a474ce39bb01c7ee450610135</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Laverie/Pressing</act:name>
+  <act:id type="guid">a40757fd00a5cdded9d35ff80716385e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Laverie/Pressing</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dpenses mdicales</act:name>
+  <act:id type="guid">5570c398841195f715d6b553635474c2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dpenses mdicales</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divers</act:name>
+  <act:id type="guid">952b168b870c3c3a664ea428515e485c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Divers</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Services en ligne</act:name>
+  <act:id type="guid">a0ad911d3ea099a843f41748e754239d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Services en ligne</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tlphone</act:name>
+  <act:id type="guid">648a858d5eab71b0e6784fbe648a5674</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tlphone</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Transports publics</act:name>
+  <act:id type="guid">655fefe1077a427b826bbb46b22c9156</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Transports publics</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnements</act:name>
+  <act:id type="guid">98b79c3a009e982646f1537213abc787</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnements</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fournisseurs</act:name>
+  <act:id type="guid">91dbef47178b6af1bf5f3ee2bed1c4e1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fournisseurs</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Taxes</act:name>
+  <act:id type="guid">142d8b65fe10608804737d6d52a5621b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Taxes</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Impts</act:name>
+  <act:id type="guid">610900ea1d8dadb5c09135428a74f18c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impts</act:description>
+  <act:parent type="guid">142d8b65fe10608804737d6d52a5621b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Complmentaire maladie</act:name>
+  <act:id type="guid">422cff27eb785a616268849d448d9bee</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Complmentaire maladie</act:description>
+  <act:parent type="guid">142d8b65fe10608804737d6d52a5621b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autres taxes</act:name>
+  <act:id type="guid">dc966002ad1a09f9b50808dc404d23e8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autres taxes</act:description>
+  <act:parent type="guid">142d8b65fe10608804737d6d52a5621b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Scurit sociale</act:name>
+  <act:id type="guid">dc619fee5955b9436bb72a96f265f78d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Scurit sociale</act:description>
+  <act:parent type="guid">142d8b65fe10608804737d6d52a5621b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Etat/Province</act:name>
+  <act:id type="guid">ef577a644b4e82d423b1b5d481526a50</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Etat/Province</act:description>
+  <act:parent type="guid">142d8b65fe10608804737d6d52a5621b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Utilitaires</act:name>
+  <act:id type="guid">c3b17f1329c846655fb0b0ed64420f84</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Utilitaires</act:description>
+  <act:parent type="guid">0c1994757dd543df377a83c3809c647e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Electricit</act:name>
+  <act:id type="guid">4345e1f9d1786d3bb31164d4446e29a1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Electricit</act:description>
+  <act:parent type="guid">c3b17f1329c846655fb0b0ed64420f84</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Collecte d'ordures</act:name>
+  <act:id type="guid">2c988fc177671d9ce418a1291322722a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Collecte d'ordures</act:description>
+  <act:parent type="guid">c3b17f1329c846655fb0b0ed64420f84</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gaz</act:name>
+  <act:id type="guid">52bb9aaa0851fd8029945ce9f25e6b79</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gaz</act:description>
+  <act:parent type="guid">c3b17f1329c846655fb0b0ed64420f84</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Eau</act:name>
+  <act:id type="guid">f524230abda86e064f42edc2a2a7eb99</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Eau</act:description>
+  <act:parent type="guid">c3b17f1329c846655fb0b0ed64420f84</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Capitaux propres</act:name>
+  <act:id type="guid">f90ca773a7a0ffe774c3e94d56cc58cd</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Capitaux propres</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">24f38b1cda364ad0f414e31c63c145b8</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Soldes initiaux</act:name>
+  <act:id type="guid">8b6657d1ae178aef554aa1db06da15df</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Soldes initiaux</act:description>
+  <act:parent type="guid">f90ca773a7a0ffe774c3e94d56cc58cd</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-hu-rHU/default_accounts.gnucash b/app/res/raw-hu-rHU/default_accounts.gnucash
new file mode 100644
index 00000000..05a985c3
--- /dev/null
+++ b/app/res/raw-hu-rHU/default_accounts.gnucash
@@ -0,0 +1,851 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">63</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>HUF</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">3e172cabddaa65ee96513db176da4fcb</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Eszkzk</act:name>
+  <act:id type="guid">405de964ca9bae5a0798354b84033fc5</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Eszkzk</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3e172cabddaa65ee96513db176da4fcb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Forgeszkzk</act:name>
+  <act:id type="guid">78ff1d21c0bacef6c6bc348cff577ddc</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Forgeszkzk</act:description>
+  <act:parent type="guid">405de964ca9bae5a0798354b84033fc5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Folyszmla</act:name>
+  <act:id type="guid">aeb03d9371dbc50cb5d3d7c61f071893</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Folyszmla</act:description>
+  <act:parent type="guid">78ff1d21c0bacef6c6bc348cff577ddc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bettszmla</act:name>
+  <act:id type="guid">137a1a809e033ed6bf3c2d7f21dba6ee</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bettszmla</act:description>
+  <act:parent type="guid">78ff1d21c0bacef6c6bc348cff577ddc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kszpnz</act:name>
+  <act:id type="guid">1fa2c0e07024011b092f0287579ed3ca</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kszpnz</act:description>
+  <act:parent type="guid">78ff1d21c0bacef6c6bc348cff577ddc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ktelezettsgek</act:name>
+  <act:id type="guid">54130687af5ee82f89004bf653864f0b</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ktelezettsgek</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3e172cabddaa65ee96513db176da4fcb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hitelkrtya</act:name>
+  <act:id type="guid">15c6c23227d9d2c7cfcf42b08008fea6</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hitelkrtya</act:description>
+  <act:parent type="guid">54130687af5ee82f89004bf653864f0b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bevtel</act:name>
+  <act:id type="guid">4dac98051b3e907a2940c75587b86ce0</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bevtel</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3e172cabddaa65ee96513db176da4fcb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Jutalom</act:name>
+  <act:id type="guid">de150a8055ad6a845347a6ddfedb6591</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Jutalom</act:description>
+  <act:parent type="guid">4dac98051b3e907a2940c75587b86ce0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kapott ajndk</act:name>
+  <act:id type="guid">83483c15ae53ed0ed6dbbe22d6867f47</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kapott ajndk</act:description>
+  <act:parent type="guid">4dac98051b3e907a2940c75587b86ce0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kamatbevtel</act:name>
+  <act:id type="guid">ad6dc10546e040c0334e12cc554cd17e</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kamatbevtel</act:description>
+  <act:parent type="guid">4dac98051b3e907a2940c75587b86ce0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Folyszmlakamat</act:name>
+  <act:id type="guid">ff2328193058632e7aeb52e445237213</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Folyszmlakamat</act:description>
+  <act:parent type="guid">ad6dc10546e040c0334e12cc554cd17e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ms kamat</act:name>
+  <act:id type="guid">bf8b14f58dcd991e9ff02890038ede60</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ms kamat</act:description>
+  <act:parent type="guid">ad6dc10546e040c0334e12cc554cd17e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bettkamat</act:name>
+  <act:id type="guid">0d34f0042643b101bf702d00e6800323</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bettkamat</act:description>
+  <act:parent type="guid">ad6dc10546e040c0334e12cc554cd17e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ms bevtel</act:name>
+  <act:id type="guid">c711b79688032cb77486d0b64beef841</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ms bevtel</act:description>
+  <act:parent type="guid">4dac98051b3e907a2940c75587b86ce0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fizets</act:name>
+  <act:id type="guid">c1a3de85285ee9cedfdf4d186eb6b96c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fizets</act:description>
+  <act:parent type="guid">4dac98051b3e907a2940c75587b86ce0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kltsgek</act:name>
+  <act:id type="guid">f780ef989f2574ff630306385124a23b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kltsgek</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3e172cabddaa65ee96513db176da4fcb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kiigazts</act:name>
+  <act:id type="guid">06a7417976158be62b764c96fc6e1238</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kiigazts</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aut</act:name>
+  <act:id type="guid">3cfc3d59caae1079cca0b01b0df1b9b0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aut</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Djak</act:name>
+  <act:id type="guid">ae0675bebdeb7988bce2785414b1d7aa</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Djak</act:description>
+  <act:parent type="guid">3cfc3d59caae1079cca0b01b0df1b9b0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>zemanyag</act:name>
+  <act:id type="guid">ad6e2c48789b273b21dc4f99e2b56cda</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>zemanyag</act:description>
+  <act:parent type="guid">3cfc3d59caae1079cca0b01b0df1b9b0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Parkols</act:name>
+  <act:id type="guid">040ef79dbe7f891e4967ca39e8d3e466</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Parkols</act:description>
+  <act:parent type="guid">3cfc3d59caae1079cca0b01b0df1b9b0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Javts s karbantarts</act:name>
+  <act:id type="guid">e6464df63d7f804239cd73d21ce56898</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Javts s karbantarts</act:description>
+  <act:parent type="guid">3cfc3d59caae1079cca0b01b0df1b9b0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bankkltsg</act:name>
+  <act:id type="guid">788e6308f282f4941a0e156d94e8444f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bankkltsg</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Knyvek</act:name>
+  <act:id type="guid">740c89a0f109945117c312519f163739</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Knyvek</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kbel TV</act:name>
+  <act:id type="guid">5c4bdff36bb9a1054a8d4d9c50eed264</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kbel TV</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Jtkonysg</act:name>
+  <act:id type="guid">616f2ad2fba23295ed17ad534e450b81</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Jtkonysg</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ruhk</act:name>
+  <act:id type="guid">70a2ca8c1a9891551fef8078fbdea4d5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ruhk</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Szmtgp</act:name>
+  <act:id type="guid">6ec3260fe93ee11936a6782f2a307dd9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Szmtgp</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>tkezs</act:name>
+  <act:id type="guid">d937ea0d14d969ba0c0b0396a0f04f47</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>tkezs</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kpzs</act:name>
+  <act:id type="guid">16809cdcd3dfabe85050254f58d62fd6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kpzs</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Szrakozs</act:name>
+  <act:id type="guid">93fd235ddf53f4d971790423cf8c7e62</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Szrakozs</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zene/filmek</act:name>
+  <act:id type="guid">7e4ce0fe880a2b10a8a7d3bddc2f1f3b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zene/filmek</act:description>
+  <act:parent type="guid">93fd235ddf53f4d971790423cf8c7e62</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pihens</act:name>
+  <act:id type="guid">4d740a0dcc65f0c69ce3851aef0b6563</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pihens</act:description>
+  <act:parent type="guid">93fd235ddf53f4d971790423cf8c7e62</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Utazs</act:name>
+  <act:id type="guid">c86651d6e6c72e18894878a0b3fdc54c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Utazs</act:description>
+  <act:parent type="guid">93fd235ddf53f4d971790423cf8c7e62</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajndkok</act:name>
+  <act:id type="guid">adb698a3de2478113b758bbbdf951e3d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajndkok</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hztartsi</act:name>
+  <act:id type="guid">ce838e3aa0aab1596362646ac65b280c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hztartsi</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kedvtels</act:name>
+  <act:id type="guid">d18dc6b18d61e8f6782a16c6a9c8a42f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kedvtels</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Biztosts</act:name>
+  <act:id type="guid">19e9d802522f50a87627226194863575</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Biztosts</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aut biztosts</act:name>
+  <act:id type="guid">6a8b198019511f6daa66e003b5e754d5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aut biztosts</act:description>
+  <act:parent type="guid">19e9d802522f50a87627226194863575</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Egszsgbiztosts</act:name>
+  <act:id type="guid">fdedd878073ff2a5a93a70955ad5e28f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Egszsgbiztosts</act:description>
+  <act:parent type="guid">19e9d802522f50a87627226194863575</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>letbiztosts</act:name>
+  <act:id type="guid">3063dc41dbda80fab575872d0f9c0dd6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>letbiztosts</act:description>
+  <act:parent type="guid">19e9d802522f50a87627226194863575</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Moss/tisztts</act:name>
+  <act:id type="guid">0b5da539d0f37b4500eb5dc9d18aa06d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Moss/tisztts</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gygykezels</act:name>
+  <act:id type="guid">553da2ec7b7b4260a3d2a02dc813d634</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gygykezels</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Klnfle</act:name>
+  <act:id type="guid">167e6225191651e40696bfffe8350466</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Klnfle</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online szolgltatsok</act:name>
+  <act:id type="guid">255cbb233aef083b7939e27e8c4102c0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online szolgltatsok</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefon</act:name>
+  <act:id type="guid">50cb2b2100d73cb726ec5504c11f232d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefon</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tmegkzlekeds</act:name>
+  <act:id type="guid">195813e3e0e047df2ba27cc78e72ebe6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tmegkzlekeds</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Elfizetsek</act:name>
+  <act:id type="guid">56a727cea35c8bfafcd989fcd613aa75</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Elfizetsek</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kellkek</act:name>
+  <act:id type="guid">1b889110959cab4769014f38919573d8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kellkek</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Adk</act:name>
+  <act:id type="guid">84e2aeaad61392c8863b25e2525ee6d5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Adk</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>SzJA</act:name>
+  <act:id type="guid">bfd76d47717f03bd8b3836278b26328d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Szemlyi jvedelemad</act:description>
+  <act:parent type="guid">84e2aeaad61392c8863b25e2525ee6d5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ms ad</act:name>
+  <act:id type="guid">ea1278fe1feca76b59f63e34cdfc213c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ms ad</act:description>
+  <act:parent type="guid">84e2aeaad61392c8863b25e2525ee6d5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>TBJ</act:name>
+  <act:id type="guid">911bd01b11726dedd829cbde8211a8de</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Trsadalombiztostsi jrulk</act:description>
+  <act:parent type="guid">84e2aeaad61392c8863b25e2525ee6d5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Munkavllali</act:name>
+  <act:id type="guid">190ebf9f837049d7080bed13bd6a824f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Munkavllali jrulk</act:description>
+  <act:parent type="guid">84e2aeaad61392c8863b25e2525ee6d5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rezsi</act:name>
+  <act:id type="guid">61b3747beaf75937efeb3837c3af9df5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rezsi</act:description>
+  <act:parent type="guid">f780ef989f2574ff630306385124a23b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Villany</act:name>
+  <act:id type="guid">1c2e7399cfbe49c69f5cdccd3962c05d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Villany</act:description>
+  <act:parent type="guid">61b3747beaf75937efeb3837c3af9df5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hulladkgyjts</act:name>
+  <act:id type="guid">cea553682f151bf22b2ea9b2dde09475</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hulladkgyjts</act:description>
+  <act:parent type="guid">61b3747beaf75937efeb3837c3af9df5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gz</act:name>
+  <act:id type="guid">e1a59447b5b3e72298902c8fc790b2aa</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gz</act:description>
+  <act:parent type="guid">61b3747beaf75937efeb3837c3af9df5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vz</act:name>
+  <act:id type="guid">7e42cb4628ffed683ed091553dafc4c6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vz</act:description>
+  <act:parent type="guid">61b3747beaf75937efeb3837c3af9df5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sajt tke</act:name>
+  <act:id type="guid">0055ea45a2283dc07be3974c641f91d7</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sajt tke</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3e172cabddaa65ee96513db176da4fcb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Nyitegyenlegek</act:name>
+  <act:id type="guid">4b276ff5a52c3045ffde946c26f511a8</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>HUF</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Nyitegyenlegek</act:description>
+  <act:parent type="guid">0055ea45a2283dc07be3974c641f91d7</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-it-rIT/default_accounts.gnucash b/app/res/raw-it-rIT/default_accounts.gnucash
new file mode 100644
index 00000000..6aec0a88
--- /dev/null
+++ b/app/res/raw-it-rIT/default_accounts.gnucash
@@ -0,0 +1,851 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">63</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">9d08f51c6526ce09e038c83363907cc4</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Attivit</act:name>
+  <act:id type="guid">b9c93ff34e69de3061f4b4591b9bb769</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Attivit</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">9d08f51c6526ce09e038c83363907cc4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Attivit correnti</act:name>
+  <act:id type="guid">fd934c4047e2329cb60eca6d97e41775</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Attivit correnti</act:description>
+  <act:parent type="guid">b9c93ff34e69de3061f4b4591b9bb769</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Conto corrente</act:name>
+  <act:id type="guid">b400da23e01bfd355b1b56d49a70f9f0</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Conto corrente</act:description>
+  <act:parent type="guid">fd934c4047e2329cb60eca6d97e41775</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Conto risparmio</act:name>
+  <act:id type="guid">2bb996f93749b039076a2e11ef89275f</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Conto di risparmio</act:description>
+  <act:parent type="guid">fd934c4047e2329cb60eca6d97e41775</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Liquidit</act:name>
+  <act:id type="guid">feed1df3223162ff9753cd8db15636e4</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Liquidit</act:description>
+  <act:parent type="guid">fd934c4047e2329cb60eca6d97e41775</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passivit</act:name>
+  <act:id type="guid">e8be32e2cda8a55ee86e8536402dd7f1</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passivit</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">9d08f51c6526ce09e038c83363907cc4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carta credito</act:name>
+  <act:id type="guid">d7aeeb9a208573ff6bf5c871f8ca2c0d</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carta di credito</act:description>
+  <act:parent type="guid">e8be32e2cda8a55ee86e8536402dd7f1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Entrate</act:name>
+  <act:id type="guid">37d86058888d4fd33831d2824a072090</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Entrate</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">9d08f51c6526ce09e038c83363907cc4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Entrate extra</act:name>
+  <act:id type="guid">64a0769197edb08436bc1afd10cb562f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Entrate extra</act:description>
+  <act:parent type="guid">37d86058888d4fd33831d2824a072090</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regali ricevuti</act:name>
+  <act:id type="guid">4a6b2c3aa83c590161d92bf393cce790</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regali ricevuti</act:description>
+  <act:parent type="guid">37d86058888d4fd33831d2824a072090</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Entrate interessi</act:name>
+  <act:id type="guid">602ad0abaaa680f180bb7331c75273cf</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Entrate per interessi</act:description>
+  <act:parent type="guid">37d86058888d4fd33831d2824a072090</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Interessi conto corrente</act:name>
+  <act:id type="guid">8023797b9c379ae3673c09870babe303</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Interessi conto corrente</act:description>
+  <act:parent type="guid">602ad0abaaa680f180bb7331c75273cf</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Altri interessi</act:name>
+  <act:id type="guid">b8be36dc2555b9e773ca7aae79ff6175</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Altri interessi</act:description>
+  <act:parent type="guid">602ad0abaaa680f180bb7331c75273cf</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Interessi conto risparmio</act:name>
+  <act:id type="guid">dac4ce7a25085f4395f38a7214e09a07</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Interessi conto risparmio</act:description>
+  <act:parent type="guid">602ad0abaaa680f180bb7331c75273cf</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Altre entrate</act:name>
+  <act:id type="guid">c00b70c142bb010d4c83b392e96646cc</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Altre entrate</act:description>
+  <act:parent type="guid">37d86058888d4fd33831d2824a072090</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Stipendio</act:name>
+  <act:id type="guid">7b3d7d5de2ba2e83a13ad645e2e1e8b7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Stipendio</act:description>
+  <act:parent type="guid">37d86058888d4fd33831d2824a072090</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Uscite</act:name>
+  <act:id type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Uscite</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">9d08f51c6526ce09e038c83363907cc4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Correzioni</act:name>
+  <act:id type="guid">e5a9cc54597d422935f54e3bb259498a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Correzioni</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto</act:name>
+  <act:id type="guid">1bad6d0bc2f4088aff04cfd2d5754a2e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Automobile</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Varie</act:name>
+  <act:id type="guid">4f045a2045d725329964345a7bfc3437</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Spese varie</act:description>
+  <act:parent type="guid">1bad6d0bc2f4088aff04cfd2d5754a2e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Benzina</act:name>
+  <act:id type="guid">f0fbb69e238a0ad23208ff1bda8bcf74</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Benzina</act:description>
+  <act:parent type="guid">1bad6d0bc2f4088aff04cfd2d5754a2e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Parcheggio</act:name>
+  <act:id type="guid">97c3a7b1e2db85b8f8c3c4f4a370d6d2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Parcheggio</act:description>
+  <act:parent type="guid">1bad6d0bc2f4088aff04cfd2d5754a2e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Riparazioni e manutenzione</act:name>
+  <act:id type="guid">826da7f6bcc92fc3978c73ceab0b891c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Riparazioni e manutenzione</act:description>
+  <act:parent type="guid">1bad6d0bc2f4088aff04cfd2d5754a2e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servizi bancari</act:name>
+  <act:id type="guid">21deeaa2b40c5c79cd52c44082487b13</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Costo servizi bancari</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Libri</act:name>
+  <act:id type="guid">ac0c988cf3b326ba1115579fd67ff77d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Libri</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>TV</act:name>
+  <act:id type="guid">58bf0550507aa72b82fbb2f9435e564d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Canone, Pay TV, etc.</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Donazioni</act:name>
+  <act:id type="guid">1489fdddd21d92cf8f023f2aabe3066f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Donazioni</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abbigliamento</act:name>
+  <act:id type="guid">c0f6504476741da220d640eeda9a11db</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abbigliamento</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">d3ada0fc74541608afbe744d10c5f615</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ristoranti</act:name>
+  <act:id type="guid">1f537298e00167b2ad8fafdffe34661d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ristoranti, cene, etc.</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Educazione</act:name>
+  <act:id type="guid">ff2ef62876a8f1027e1abf283f6216ad</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Educazione</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Intrattenimento</act:name>
+  <act:id type="guid">098f26cb2701d34906d2b4db6badea39</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Intrattenimento</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Musica/Film</act:name>
+  <act:id type="guid">310956de09b9245577ac0267b4a0040b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Musica e film</act:description>
+  <act:parent type="guid">098f26cb2701d34906d2b4db6badea39</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Divertimento</act:name>
+  <act:id type="guid">42515b5448c9a14ef004cf77e955ff65</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Divertimento</act:description>
+  <act:parent type="guid">098f26cb2701d34906d2b4db6badea39</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Viaggi</act:name>
+  <act:id type="guid">fd7a6fe3bf3f382394ade07ad241e402</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Viaggi</act:description>
+  <act:parent type="guid">098f26cb2701d34906d2b4db6badea39</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regali</act:name>
+  <act:id type="guid">fd6deb3f5a2641d677d8f98851dd66c8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regali</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Alimentari</act:name>
+  <act:id type="guid">8e4beb8bb04caea5b794d29d02e13e8d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Negozio generi alimentari</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobby</act:name>
+  <act:id type="guid">685f111d366a0f6b4cd6020813b37580</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobby</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assicurazione</act:name>
+  <act:id type="guid">1cc394d0fdab58cf6da5fb5e28418117</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assicurazione</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assicurazione auto</act:name>
+  <act:id type="guid">9e67a2fe5440ba4423d391e7c68deb99</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assicurazione automobile</act:description>
+  <act:parent type="guid">1cc394d0fdab58cf6da5fb5e28418117</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assicurazione medica</act:name>
+  <act:id type="guid">d61f62b784c0c166483f2eacfe634930</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assicurazione medica</act:description>
+  <act:parent type="guid">1cc394d0fdab58cf6da5fb5e28418117</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assicurazione vita</act:name>
+  <act:id type="guid">1aa14c54d7ca8d7bc47af90275a79a3e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assicurazione sulla vita</act:description>
+  <act:parent type="guid">1cc394d0fdab58cf6da5fb5e28418117</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lavanderia</act:name>
+  <act:id type="guid">67b385f27ac3943254bf3969a196bd4b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lavanderia</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Spese mediche</act:name>
+  <act:id type="guid">8f7a4341225c441f421bdb6547019c30</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Spese mediche</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servizi Internet</act:name>
+  <act:id type="guid">fe664cbc79500b0bcb4d0de0e522e789</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servizi Internet</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefono</act:name>
+  <act:id type="guid">706b81ad1562f2baee7e0bc2882b471c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefono</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Trasporti pubblici</act:name>
+  <act:id type="guid">65eb67fec7c0681b8fe51678b94df73f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Trasporti pubblici</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abbonamenti</act:name>
+  <act:id type="guid">36b7adc9cf9469c19dbebe9f2527d100</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abbonamenti</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Prima necessit</act:name>
+  <act:id type="guid">a5d68d8ac4be742a8b6ffbc308cce5eb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Generi di prima necessit (cibo, vestiti, etc.)</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Imposte</act:name>
+  <act:id type="guid">67708fb0f346b49d9f0fd1daa9f65db6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Imposte</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Statali</act:name>
+  <act:id type="guid">d7b4552937676207af6489de09fc1d5f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Statali (IRPEF, IRPEG, etc.)</act:description>
+  <act:parent type="guid">67708fb0f346b49d9f0fd1daa9f65db6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cure mediche</act:name>
+  <act:id type="guid">b369fb0432a65d0eae3df15f29551065</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cure mediche</act:description>
+  <act:parent type="guid">67708fb0f346b49d9f0fd1daa9f65db6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Altre imposte</act:name>
+  <act:id type="guid">a078c18ea5c4e0ad07f93eab52927f16</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Altre imposte</act:description>
+  <act:parent type="guid">67708fb0f346b49d9f0fd1daa9f65db6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pensione</act:name>
+  <act:id type="guid">0df5ca749f4bccb69476725de44f72ed</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pensione</act:description>
+  <act:parent type="guid">67708fb0f346b49d9f0fd1daa9f65db6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Regionali/provinciali</act:name>
+  <act:id type="guid">3442994f797813500be40c4a3a88c012</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Regionali/provinciali</act:description>
+  <act:parent type="guid">67708fb0f346b49d9f0fd1daa9f65db6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servizi</act:name>
+  <act:id type="guid">b41aa855b04e01fb5414442a8142e75d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servizi</act:description>
+  <act:parent type="guid">c82f50aa9fa8c8a16b897dda8fb8a521</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Elettricit</act:name>
+  <act:id type="guid">887bb8052277bdad808ead84ad749c09</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Elettricit</act:description>
+  <act:parent type="guid">b41aa855b04e01fb5414442a8142e75d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rifiuti</act:name>
+  <act:id type="guid">4fd51ec9a115aedca34484c8c2e9804d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Raccolta rifiuti</act:description>
+  <act:parent type="guid">b41aa855b04e01fb5414442a8142e75d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">c4c8029526d39389534c2688cde47a8b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">b41aa855b04e01fb5414442a8142e75d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Acqua</act:name>
+  <act:id type="guid">f31d959cf71c7b6448bdf63638af5a76</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Acqua</act:description>
+  <act:parent type="guid">b41aa855b04e01fb5414442a8142e75d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Capitali</act:name>
+  <act:id type="guid">f74a41e690d1bf3d54c11b9034446502</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Capitali</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">9d08f51c6526ce09e038c83363907cc4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bilanci d'apertura</act:name>
+  <act:id type="guid">6e371496c27004b2c7f510505495c98a</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bilanci d'apertura</act:description>
+  <act:parent type="guid">f74a41e690d1bf3d54c11b9034446502</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-nl-rNL/default_accounts.gnucash b/app/res/raw-nl-rNL/default_accounts.gnucash
new file mode 100644
index 00000000..75c0232a
--- /dev/null
+++ b/app/res/raw-nl-rNL/default_accounts.gnucash
@@ -0,0 +1,1525 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">115</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>EUR</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">3a8933ff732ff194559a0b3cdc8f2255</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Activa</act:name>
+  <act:id type="guid">01fa370f2ea75ff774a4638f9ab634ce</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Activa</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3a8933ff732ff194559a0b3cdc8f2255</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Huidige Activa</act:name>
+  <act:id type="guid">57d14632f15c417f5caa6f5b0f50be20</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Huidige Activa</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">01fa370f2ea75ff774a4638f9ab634ce</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Deposito</act:name>
+  <act:id type="guid">ae7a78a17dbad78ed10ada409dd62d74</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Deposito</act:description>
+  <act:parent type="guid">57d14632f15c417f5caa6f5b0f50be20</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lopende Rekening</act:name>
+  <act:id type="guid">3226ffa1904b619af5ed748124b843f2</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lopende Rekening</act:description>
+  <act:parent type="guid">57d14632f15c417f5caa6f5b0f50be20</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geldmarkt</act:name>
+  <act:id type="guid">671e6e022192172055f9d3890419c879</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Geldmarkt</act:description>
+  <act:parent type="guid">57d14632f15c417f5caa6f5b0f50be20</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Spaarrekening</act:name>
+  <act:id type="guid">140e0b341b80987bcc0e1be9b57ca853</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Spaarrekening</act:description>
+  <act:parent type="guid">57d14632f15c417f5caa6f5b0f50be20</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kas</act:name>
+  <act:id type="guid">48298c7e832b634ae60361356d0fbe5e</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kas</act:description>
+  <act:parent type="guid">57d14632f15c417f5caa6f5b0f50be20</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vaste Activa</act:name>
+  <act:id type="guid">dad8a80e3196f55a414593edbcd935bd</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vaste Activa</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">01fa370f2ea75ff774a4638f9ab634ce</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vaste Activa</act:name>
+  <act:id type="guid">a362040ddf9ec1a07e02773650d20ddd</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vaste Activa</act:description>
+  <act:parent type="guid">dad8a80e3196f55a414593edbcd935bd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overige Activa</act:name>
+  <act:id type="guid">641795804bd3a398e5e531c037720b35</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overige Activa</act:description>
+  <act:parent type="guid">dad8a80e3196f55a414593edbcd935bd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wagenpark</act:name>
+  <act:id type="guid">237e53e353a8f9f5f3dbf114078e5091</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wagenpark</act:description>
+  <act:parent type="guid">dad8a80e3196f55a414593edbcd935bd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Investeringen</act:name>
+  <act:id type="guid">fa107a007095da11ee833551863ee816</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Investeringen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">01fa370f2ea75ff774a4638f9ab634ce</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Beleggingsrekening</act:name>
+  <act:id type="guid">b638f206a94695ae8a50d71d10679b8e</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Beleggingsrekening</act:description>
+  <act:parent type="guid">fa107a007095da11ee833551863ee816</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Obligaties</act:name>
+  <act:id type="guid">e68f070b3c77858dd1071629ff299d78</act:id>
+  <act:type>STOCK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Obligaties</act:description>
+  <act:parent type="guid">b638f206a94695ae8a50d71d10679b8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aandelen</act:name>
+  <act:id type="guid">8e226ad4e26ae87c27fa331309a757d0</act:id>
+  <act:type>STOCK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aandelen</act:description>
+  <act:parent type="guid">b638f206a94695ae8a50d71d10679b8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Marktindex</act:name>
+  <act:id type="guid">a119277d264a7014281483c575772104</act:id>
+  <act:type>MUTUAL</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Marktindex</act:description>
+  <act:parent type="guid">b638f206a94695ae8a50d71d10679b8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fondsen</act:name>
+  <act:id type="guid">e014ac2fe6650df490214e975c3e7442</act:id>
+  <act:type>MUTUAL</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fondsen</act:description>
+  <act:parent type="guid">b638f206a94695ae8a50d71d10679b8e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pensioen</act:name>
+  <act:id type="guid">8ef1ab93abec5421db319d32537e0802</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pensioen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>notes</slot:key>
+      <slot:value type="string">IRA, 401(k), or other retirement</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fa107a007095da11ee833551863ee816</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Obligaties</act:name>
+  <act:id type="guid">5d2a5344c456a8992dfe3f61372708bd</act:id>
+  <act:type>STOCK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Obligaties</act:description>
+  <act:parent type="guid">8ef1ab93abec5421db319d32537e0802</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aandelen</act:name>
+  <act:id type="guid">19988b42ca26f65c351b68ca82326d91</act:id>
+  <act:type>STOCK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aandelen</act:description>
+  <act:parent type="guid">8ef1ab93abec5421db319d32537e0802</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Marktindex</act:name>
+  <act:id type="guid">059bd61b0f2b5b353e6b3dddb0a2288a</act:id>
+  <act:type>MUTUAL</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Marktindex</act:description>
+  <act:parent type="guid">8ef1ab93abec5421db319d32537e0802</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fondsen</act:name>
+  <act:id type="guid">dcec2b5ac4fb97b9feccafed28e979ea</act:id>
+  <act:type>MUTUAL</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fondsen</act:description>
+  <act:parent type="guid">8ef1ab93abec5421db319d32537e0802</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Pensioen Echtgenoot/Partner</act:name>
+  <act:id type="guid">5b3d90ee35fec671f2f9f836eaef1df2</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Pensioen Echtgenoot/Partner</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>notes</slot:key>
+      <slot:value type="string">IRA, 401(k), or other retirement</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">fa107a007095da11ee833551863ee816</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Obligaties</act:name>
+  <act:id type="guid">0fe693e496c1f277ff5692c250033cca</act:id>
+  <act:type>STOCK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Obligaties</act:description>
+  <act:parent type="guid">5b3d90ee35fec671f2f9f836eaef1df2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Aandelen</act:name>
+  <act:id type="guid">538b0a1343e4f81f2c0c32c844cf3463</act:id>
+  <act:type>STOCK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Aandelen</act:description>
+  <act:parent type="guid">5b3d90ee35fec671f2f9f836eaef1df2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Marktindex</act:name>
+  <act:id type="guid">82be445ff70b80f563f675fb7fa6e680</act:id>
+  <act:type>MUTUAL</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Marktindex</act:description>
+  <act:parent type="guid">5b3d90ee35fec671f2f9f836eaef1df2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fondsen</act:name>
+  <act:id type="guid">b1fbd0a021933d2f24f8702306eea2f4</act:id>
+  <act:type>MUTUAL</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fondsen</act:description>
+  <act:parent type="guid">5b3d90ee35fec671f2f9f836eaef1df2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Buitenlandse Geldmarkt</act:name>
+  <act:id type="guid">85844f95cc242e1581647afe1f0199f4</act:id>
+  <act:type>CURRENCY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Buitenlandse Geldmarkt</act:description>
+  <act:parent type="guid">fa107a007095da11ee833551863ee816</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passiva</act:name>
+  <act:id type="guid">7eb50c2de6a33743df37e8b1fa22e632</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passiva</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3a8933ff732ff194559a0b3cdc8f2255</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Creditkaart</act:name>
+  <act:id type="guid">f480076294e454f45b9f4a8f46f0d594</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Creditkaart</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">7eb50c2de6a33743df37e8b1fa22e632</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kredietlijn</act:name>
+  <act:id type="guid">f3c8374b5adec1d753bd565b1dcea797</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kredietlijn</act:description>
+  <act:parent type="guid">7eb50c2de6a33743df37e8b1fa22e632</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Leningen</act:name>
+  <act:id type="guid">b4ef751b98359e6ab66d6bc6ac8af273</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Leningen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">7eb50c2de6a33743df37e8b1fa22e632</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Studiefinanciering</act:name>
+  <act:id type="guid">ef2c05722f52749599a76ca6453ea376</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Studiefinanciering</act:description>
+  <act:parent type="guid">b4ef751b98359e6ab66d6bc6ac8af273</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hypotheek</act:name>
+  <act:id type="guid">e9ed180c4f4ce17f6782259710890b26</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hypotheek</act:description>
+  <act:parent type="guid">b4ef751b98359e6ab66d6bc6ac8af273</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overige Leningen</act:name>
+  <act:id type="guid">a6cf2cc6f92c58f53866cdf5dd594e48</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overige Leningen</act:description>
+  <act:parent type="guid">b4ef751b98359e6ab66d6bc6ac8af273</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Wagenparklening</act:name>
+  <act:id type="guid">df6f345c23058e30424742498bccc33e</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Wagenparklening</act:description>
+  <act:parent type="guid">b4ef751b98359e6ab66d6bc6ac8af273</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Inkomen</act:name>
+  <act:id type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Inkomen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3a8933ff732ff194559a0b3cdc8f2255</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bonus</act:name>
+  <act:id type="guid">8e6eb983e1e9262d2523df5cda1cce2c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bonus</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dividenduitkering</act:name>
+  <act:id type="guid">fb671b4270ca4d76a10c9fc4f53ba89f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dividenduitkering</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ontvangen Giften</act:name>
+  <act:id type="guid">6fadf9aa889f0eb728dcbaa1d072b9dc</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ontvangen Giften</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rente</act:name>
+  <act:id type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rente</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Obligatierente</act:name>
+  <act:id type="guid">caa1c609be131c33f98f9922dd08c4a3</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Obligatierente</act:description>
+  <act:parent type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Deposito Rente</act:name>
+  <act:id type="guid">1e260b6dc9384fa5b6cec4d4a6712460</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Deposito Rente</act:description>
+  <act:parent type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rente Lopende Rekening</act:name>
+  <act:id type="guid">187c7f7b60de03b44cb24182110cfc1b</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rente Lopende Rekening</act:description>
+  <act:parent type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geldmarktrente</act:name>
+  <act:id type="guid">fb042bf18db9a9b6fcc9e5cac5209fd0</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Geldmarktrente</act:description>
+  <act:parent type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overige Rente</act:name>
+  <act:id type="guid">933b88a9460555ce8dcc4576b0a3ed16</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overige Rente</act:description>
+  <act:parent type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Spaarrente</act:name>
+  <act:id type="guid">15ba40719510fccc5c5762043d651c7b</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Spaarrente</act:description>
+  <act:parent type="guid">38a8e3d3b3d9075c5de212b63b721f31</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overig Inkomsten</act:name>
+  <act:id type="guid">828f11c975179c8596880899bd47c03e</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overig Inkomsten</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salaris</act:name>
+  <act:id type="guid">6ad7e93f2caea30a37a62ff6f06cd506</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salaris</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salaris (Echtgenoot/Partner)</act:name>
+  <act:id type="guid">0b71d9046c04e9a52a2f06a07f7e20dd</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salaris (Echtgenoot/Partner)</act:description>
+  <act:parent type="guid">69b1f1e16f5bbe7a4c9d5b4aae2a3835</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Onkosten</act:name>
+  <act:id type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Onkosten</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3a8933ff732ff194559a0b3cdc8f2255</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Correcties</act:name>
+  <act:id type="guid">1c0ac88b00d09a7af5fc3b85bf28a472</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Correcties</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Afschrijving Wagenpark</act:name>
+  <act:id type="guid">5ea7428e0bd7f57258e0e2ae6083ffd5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Afschrijving Wagenpark</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Toeslagen</act:name>
+  <act:id type="guid">e20bed08b319201871406e9332ee5371</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Toeslagen</act:description>
+  <act:parent type="guid">5ea7428e0bd7f57258e0e2ae6083ffd5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Brandstof</act:name>
+  <act:id type="guid">29c17dff44ab429824f69a2030425c50</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Brandstof</act:description>
+  <act:parent type="guid">5ea7428e0bd7f57258e0e2ae6083ffd5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Parkeren</act:name>
+  <act:id type="guid">f9a206ebd65413f576d58d3100306ba8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Parkeren</act:description>
+  <act:parent type="guid">5ea7428e0bd7f57258e0e2ae6083ffd5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reparaties/Onderhoud</act:name>
+  <act:id type="guid">5627af9a214836617b79b0273adb1538</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reparaties/Onderhoud</act:description>
+  <act:parent type="guid">5ea7428e0bd7f57258e0e2ae6083ffd5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bankkosten</act:name>
+  <act:id type="guid">3da772b3473b667dc166f187c6396f78</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bankkosten</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Boeken</act:name>
+  <act:id type="guid">053f4ed48850682df50fcfd1aa509cd2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Boeken</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Centrale Antenne Inrichting</act:name>
+  <act:id type="guid">22c8406d610a3c18f37d31770bc00c55</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Centrale Antenne Inrichting</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Giften</act:name>
+  <act:id type="guid">9dff6261ae8162bd3d45e7cf379dbd26</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Giften</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kinderopvang</act:name>
+  <act:id type="guid">78f14844546d19bf6e25f3bc703a9d28</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kinderopvang</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Kleding</act:name>
+  <act:id type="guid">0618e8e9c4de04f28d349fd64a659e57</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Kleding</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Commissies</act:name>
+  <act:id type="guid">3d8200df52d5c87571ea6e06e85d3d7e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Commissies</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">7e47711765b2e943f8118c0be0fa0b0d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dineren</act:name>
+  <act:id type="guid">826273860dd5d17c54540a2cf42cc625</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dineren</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Opleidingen</act:name>
+  <act:id type="guid">1c3c8682e96f3dd3d4d4f42fb0a5c62f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Opleidingen</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Amusement</act:name>
+  <act:id type="guid">346b9ec519bc759edbb96dc065ff78cd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Amusement</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Muziek/Film</act:name>
+  <act:id type="guid">57c9cadcd90103e5959a97fdfc4bc35e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Muziek/Film</act:description>
+  <act:parent type="guid">346b9ec519bc759edbb96dc065ff78cd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Recreatie</act:name>
+  <act:id type="guid">972a9d236d38237ba0fd36b1cc53aad0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Recreatie</act:description>
+  <act:parent type="guid">346b9ec519bc759edbb96dc065ff78cd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reizen</act:name>
+  <act:id type="guid">6b246637397260a0ff0b726e01c8c882</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reizen</act:description>
+  <act:parent type="guid">346b9ec519bc759edbb96dc065ff78cd</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Geschenken</act:name>
+  <act:id type="guid">f3ddf3c4d024610b298f9e38611aa501</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Geschenken</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Boodschappen</act:name>
+  <act:id type="guid">44ce2989fdcdd4749a590e1518ed7a2c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Boodschappen</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobby's</act:name>
+  <act:id type="guid">6bc9b9dcaaca7f0d3becb94cff1dda4a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobby's</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Onderhoud Vaste Activa</act:name>
+  <act:id type="guid">42b9cbe6eb6377641857ba160feec134</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Onderhoud Vaste Activa</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Verzekeringen</act:name>
+  <act:id type="guid">26d1a3a439567bbb85e0a6963d8dd5bc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Verzekeringen</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autoverzekering</act:name>
+  <act:id type="guid">2b28259d66f7ff1ecb3bfb46d2489d33</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autoverzekering</act:description>
+  <act:parent type="guid">26d1a3a439567bbb85e0a6963d8dd5bc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gezondheidsverzekering</act:name>
+  <act:id type="guid">e2c964f25f4c59af085ecb47061aae4f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gezondheidsverzekering</act:description>
+  <act:parent type="guid">26d1a3a439567bbb85e0a6963d8dd5bc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Inboedelverzekering</act:name>
+  <act:id type="guid">b5c3018131b53691953ac801d058a492</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Inboedelverzekering</act:description>
+  <act:parent type="guid">26d1a3a439567bbb85e0a6963d8dd5bc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Levensverzekering</act:name>
+  <act:id type="guid">a4fd45a142eed914c8bfc1ea7a370da3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Levensverzekering</act:description>
+  <act:parent type="guid">26d1a3a439567bbb85e0a6963d8dd5bc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rente</act:name>
+  <act:id type="guid">d1b660ed317497f20844bb682c5943af</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rente</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Rente Studiefinanciering</act:name>
+  <act:id type="guid">09da77206403d0f672e4fb0189683804</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Rente Studiefinanciering</act:description>
+  <act:parent type="guid">d1b660ed317497f20844bb682c5943af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hypotheekrente</act:name>
+  <act:id type="guid">b760809ea05331fd8eadeead0f0203c4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hypotheekrente</act:description>
+  <act:parent type="guid">d1b660ed317497f20844bb682c5943af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overige Rente</act:name>
+  <act:id type="guid">a0861f0140511178174c1a938eb9386c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overige Rente</act:description>
+  <act:parent type="guid">d1b660ed317497f20844bb682c5943af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Autoleaserente</act:name>
+  <act:id type="guid">425de0414e41ff0157997d57c1f5941d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Autoleaserente</act:description>
+  <act:parent type="guid">d1b660ed317497f20844bb682c5943af</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Was/Stomerij</act:name>
+  <act:id type="guid">b5d2ffb309f87a04765393d3d2d70005</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Was/Stomerij</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zorgverzekeringskosten</act:name>
+  <act:id type="guid">81ba386f87ea50167f458acbec4e13b2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zorgverzekeringskosten</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Diversen</act:name>
+  <act:id type="guid">f4b33e08344129d7b8f5de37bce9484b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Diversen</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online-diensten</act:name>
+  <act:id type="guid">1d804cc6b78ce061e8817558d6c27b70</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online-diensten</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefoon</act:name>
+  <act:id type="guid">0960bec2aab430ccc45d3f312dfd1519</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefoon</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Openbaar Vervoer</act:name>
+  <act:id type="guid">d2306731bbd1ac692e47acaa5c8ef11f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Openbaar Vervoer</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Huur</act:name>
+  <act:id type="guid">99200f58b17344b1aba85f93ae896b13</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Huur</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Abonnementen</act:name>
+  <act:id type="guid">3ac0967799d56308645a8186ccf848ac</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Abonnementen</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Voorraad</act:name>
+  <act:id type="guid">9ae86d7e675b1fa90b4e0d9b45202277</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Voorraad</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Belastingen</act:name>
+  <act:id type="guid">ea14672a75c819ab123ad22c13bb7379</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Belastingen</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Federaal</act:name>
+  <act:id type="guid">5c747ad4aa170d21de237d23bef71d0d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Federaal</act:description>
+  <act:parent type="guid">ea14672a75c819ab123ad22c13bb7379</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zorgverzekeringen</act:name>
+  <act:id type="guid">ef87ee85198bd82243b1c4d4530405f0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zorgverzekeringen</act:description>
+  <act:parent type="guid">ea14672a75c819ab123ad22c13bb7379</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overige Belastingen</act:name>
+  <act:id type="guid">76ffa702bf5a2087dd1af4015ac55a15</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overige Belastingen</act:description>
+  <act:parent type="guid">ea14672a75c819ab123ad22c13bb7379</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Onroerendgoedbelasting</act:name>
+  <act:id type="guid">c839f991783de8ce498b96b9876320e5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Onroerendgoedbelasting</act:description>
+  <act:parent type="guid">ea14672a75c819ab123ad22c13bb7379</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sociale Zekerheid</act:name>
+  <act:id type="guid">e3617e9e41b7a83791481e8a3f39a50b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sociale Zekerheid</act:description>
+  <act:parent type="guid">ea14672a75c819ab123ad22c13bb7379</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Provincie</act:name>
+  <act:id type="guid">505ed28c8455388dcfddb0cad421c78e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Provincie</act:description>
+  <act:parent type="guid">ea14672a75c819ab123ad22c13bb7379</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Belasting (Echtgenoot/Partner)</act:name>
+  <act:id type="guid">ea25aae4cba969c1b3af5f1992d9633b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Belasting (Echtgenoot/Partner)</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Federaal</act:name>
+  <act:id type="guid">0ce1628da4ca46bd61797070afc61fa3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Federaal</act:description>
+  <act:parent type="guid">ea25aae4cba969c1b3af5f1992d9633b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Zorgverzekeringen</act:name>
+  <act:id type="guid">96771bb1b9f042c9d4ff82fd2df6fe37</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Zorgverzekeringen</act:description>
+  <act:parent type="guid">ea25aae4cba969c1b3af5f1992d9633b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Overige Belastingen</act:name>
+  <act:id type="guid">65530805688c80757317b5720b2051e5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Overige Belastingen</act:description>
+  <act:parent type="guid">ea25aae4cba969c1b3af5f1992d9633b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Sociale Zekerheid</act:name>
+  <act:id type="guid">6a6e55c9a6c7891415dbf07b7b919417</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Sociale Zekerheid</act:description>
+  <act:parent type="guid">ea25aae4cba969c1b3af5f1992d9633b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Provincie</act:name>
+  <act:id type="guid">6bd87ae3717774aa390268f1f2987cb3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Provincie</act:description>
+  <act:parent type="guid">ea25aae4cba969c1b3af5f1992d9633b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Nutsbedrijven</act:name>
+  <act:id type="guid">ecac5de793a8c5d0bd71531cfd35b6a5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Nutsbedrijven</act:description>
+  <act:parent type="guid">9c263e5cd18e3af81f524ced29b8e84e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Elektriciteit</act:name>
+  <act:id type="guid">ff627a993a0dfe292fea4883df046ec5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Elektriciteit</act:description>
+  <act:parent type="guid">ecac5de793a8c5d0bd71531cfd35b6a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gemeentereiniging</act:name>
+  <act:id type="guid">5f6198703dee5325222bf55b6f698f8c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gemeentereiniging</act:description>
+  <act:parent type="guid">ecac5de793a8c5d0bd71531cfd35b6a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Stookkosten</act:name>
+  <act:id type="guid">00f90a5fa06ed6ef9f30efb9919e52b2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Stookkosten</act:description>
+  <act:parent type="guid">ecac5de793a8c5d0bd71531cfd35b6a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Water</act:name>
+  <act:id type="guid">2f635c327c844504b15598b69838bc57</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Water</act:description>
+  <act:parent type="guid">ecac5de793a8c5d0bd71531cfd35b6a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Eigen Vermogen</act:name>
+  <act:id type="guid">cd4e1b153606334ac958e1cfccd049ab</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Eigen Vermogen</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">3a8933ff732ff194559a0b3cdc8f2255</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Openingsbalans</act:name>
+  <act:id type="guid">ca47fde6552eded0f25d853c68e97604</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>EUR</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Openingsbalans</act:description>
+  <act:parent type="guid">cd4e1b153606334ac958e1cfccd049ab</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-pt-rBR/default_accounts.gnucash b/app/res/raw-pt-rBR/default_accounts.gnucash
new file mode 100644
index 00000000..16be22c9
--- /dev/null
+++ b/app/res/raw-pt-rBR/default_accounts.gnucash
@@ -0,0 +1,839 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">62</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>BRL</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">952a25db819d0987b080a73807fa49ef</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ativos</act:name>
+  <act:id type="guid">2ca8165b9bf259a5338b560bcb00917b</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ativos</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">952a25db819d0987b080a73807fa49ef</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ativos Atuais</act:name>
+  <act:id type="guid">9c0853e895fe1d4990debd0127ce5e3b</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ativos Atuais</act:description>
+  <act:parent type="guid">2ca8165b9bf259a5338b560bcb00917b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Conta Corrente</act:name>
+  <act:id type="guid">4d849998e7fee25043cbc86af06e7fc0</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Conta Corrente</act:description>
+  <act:parent type="guid">9c0853e895fe1d4990debd0127ce5e3b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Conta Poupana</act:name>
+  <act:id type="guid">9a81748289eafdcc5f2c5f583af2790f</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Conta Poupana</act:description>
+  <act:parent type="guid">9c0853e895fe1d4990debd0127ce5e3b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dinheiro na Carteira</act:name>
+  <act:id type="guid">1423ea7c1319b7e1a507d2cef8c6e610</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dinheiro na Carteira</act:description>
+  <act:parent type="guid">9c0853e895fe1d4990debd0127ce5e3b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passivo</act:name>
+  <act:id type="guid">f519bd242dee11fdf00b22f9c0d7f184</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passivo</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">952a25db819d0987b080a73807fa49ef</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Contas a Pagar</act:name>
+  <act:id type="guid">7edb20707c791c3ca19267506fd8c8ff</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Contas a Pagar</act:description>
+  <act:parent type="guid">f519bd242dee11fdf00b22f9c0d7f184</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Carto de Crdito</act:name>
+  <act:id type="guid">e9472a3ad501e82750423eff1cecdae8</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Carto de Crdito</act:description>
+  <act:parent type="guid">7edb20707c791c3ca19267506fd8c8ff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Receitas</act:name>
+  <act:id type="guid">cd991e82a7010d7a5a6a372488cd28ac</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Receitas</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">952a25db819d0987b080a73807fa49ef</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bnus</act:name>
+  <act:id type="guid">5423b9bcd6c37f18c066d9f95b228065</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bnus</act:description>
+  <act:parent type="guid">cd991e82a7010d7a5a6a372488cd28ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Presentes Recebidos</act:name>
+  <act:id type="guid">f522959a85b82818dd87acbbf5f1a1fd</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Presentes Recebidos</act:description>
+  <act:parent type="guid">cd991e82a7010d7a5a6a372488cd28ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Juros Recebidos</act:name>
+  <act:id type="guid">abb14d23450baa9b350f68af916a45d7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Juros Recebidos</act:description>
+  <act:parent type="guid">cd991e82a7010d7a5a6a372488cd28ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Juros Conta Corrente</act:name>
+  <act:id type="guid">16205f4eb218c90532dcbc8699fbea8b</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Juros Conta Corrente</act:description>
+  <act:parent type="guid">abb14d23450baa9b350f68af916a45d7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Outros Juros</act:name>
+  <act:id type="guid">7ad757be43dba4e5574ef137be355cee</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Outros Juros</act:description>
+  <act:parent type="guid">abb14d23450baa9b350f68af916a45d7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Juros Conta Poupana</act:name>
+  <act:id type="guid">5fc46cd847b81b70ffccc7b9ac255c6a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Juros Conta Poupana</act:description>
+  <act:parent type="guid">abb14d23450baa9b350f68af916a45d7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Outras Receitas</act:name>
+  <act:id type="guid">ba0811f3443b07b5be7709dfdd7e7900</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Outras Receitas</act:description>
+  <act:parent type="guid">cd991e82a7010d7a5a6a372488cd28ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salrio</act:name>
+  <act:id type="guid">341f2d0617897e03a791e7269a91abdd</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salrio</act:description>
+  <act:parent type="guid">cd991e82a7010d7a5a6a372488cd28ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Despesas</act:name>
+  <act:id type="guid">af01f680c19671e931dcbc717c1670c1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Despesas</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">952a25db819d0987b080a73807fa49ef</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Ajustes</act:name>
+  <act:id type="guid">b86045be792b11d225aae6401f00c11d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Ajustes</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Automvel</act:name>
+  <act:id type="guid">16d60ae856f830823cbe134a931b607a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Automvel</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Impostos</act:name>
+  <act:id type="guid">522b04e086860e4cb2f291e910632191</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Impostos</act:description>
+  <act:parent type="guid">16d60ae856f830823cbe134a931b607a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>IRF</act:name>
+  <act:id type="guid">51f11cd9ff63e40df33c4f9bb85ffae5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>IRF</act:description>
+  <act:parent type="guid">522b04e086860e4cb2f291e910632191</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>INSS</act:name>
+  <act:id type="guid">dc03d2ac1746c7443090b936c45d6e47</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>INSS</act:description>
+  <act:parent type="guid">522b04e086860e4cb2f291e910632191</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Outros Impostos</act:name>
+  <act:id type="guid">1b1a394355720050623bbf8efd5db96f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Outros Impostos</act:description>
+  <act:parent type="guid">522b04e086860e4cb2f291e910632191</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>CPMF</act:name>
+  <act:id type="guid">5e35e034e1f35cb764039b2e3138ea2e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>CPMF</act:description>
+  <act:parent type="guid">522b04e086860e4cb2f291e910632191</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Combustvel</act:name>
+  <act:id type="guid">5095ea251343d06066825c1648377f72</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Combustvel</act:description>
+  <act:parent type="guid">16d60ae856f830823cbe134a931b607a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Estacionamento</act:name>
+  <act:id type="guid">f029089f5a0e6cbbc30294731268040c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Estacionamento</act:description>
+  <act:parent type="guid">16d60ae856f830823cbe134a931b607a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Reparos e Manuteno</act:name>
+  <act:id type="guid">b11c94186e2d3748616cd28daa1971ab</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Reparos e Manuteno</act:description>
+  <act:parent type="guid">16d60ae856f830823cbe134a931b607a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Taxas Bancrias</act:name>
+  <act:id type="guid">58f90bef2f673a626de4f01ffbd70c0a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Taxas Bancrias</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Livros</act:name>
+  <act:id type="guid">b4007b0565efa36b19e7521def252391</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Livros</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Tv por assinatura</act:name>
+  <act:id type="guid">5786c8e897b615b0f0119ab45d791b43</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Tv por assinatura</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Doaes</act:name>
+  <act:id type="guid">688471254b035f00debc808c6a0b5c00</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Doaes</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Vesturio</act:name>
+  <act:id type="guid">d8b8ce667284fcec70aef00b5f4a0354</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Vesturio</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computador</act:name>
+  <act:id type="guid">2c00a7fc74b0ac781492c60b5e87cfd2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computador</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Refeies Fora</act:name>
+  <act:id type="guid">cb130366ceb6fd786552eabf63e7645b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Refeies Fora</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Educao</act:name>
+  <act:id type="guid">816e0e35d103868c1c9928d23bf27cae</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Educao</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Diverso</act:name>
+  <act:id type="guid">91176512e4c80e0504ed3092f7a6e002</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Diverso</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Msica/Cinema</act:name>
+  <act:id type="guid">c0d44d5ce0bec5f6f740e66b01f844db</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Msica/Cinema</act:description>
+  <act:parent type="guid">91176512e4c80e0504ed3092f7a6e002</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passeios</act:name>
+  <act:id type="guid">e8d1adb3429f88cedc58ad798f241a6b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passeios</act:description>
+  <act:parent type="guid">91176512e4c80e0504ed3092f7a6e002</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Viagens</act:name>
+  <act:id type="guid">48b3bdf8019d15166dbb419436d67131</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Viagens</act:description>
+  <act:parent type="guid">91176512e4c80e0504ed3092f7a6e002</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Presentes</act:name>
+  <act:id type="guid">8f06a81652b7413269ec3f54f76c4e54</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Presentes</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Mercearia</act:name>
+  <act:id type="guid">7df0116685a1cb8e262018e2bb05a0cb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Mercearia</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Passatempos</act:name>
+  <act:id type="guid">32b7f3200c39e04083a786b8a67f6fa4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Passatempos</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro</act:name>
+  <act:id type="guid">21772b4c902c42f2f99aae496ace34a5</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro Automvel</act:name>
+  <act:id type="guid">d254b6c761f104288d1a33d17359ef32</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro Automvel</act:description>
+  <act:parent type="guid">21772b4c902c42f2f99aae496ace34a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro Sade</act:name>
+  <act:id type="guid">7bf48e3734165cdac9c075991ac365b1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro Sade</act:description>
+  <act:parent type="guid">21772b4c902c42f2f99aae496ace34a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Seguro de Vida</act:name>
+  <act:id type="guid">7e240151044548c4ec54c0cfd478b852</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Seguro de Vida</act:description>
+  <act:parent type="guid">21772b4c902c42f2f99aae496ace34a5</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lavandaria</act:name>
+  <act:id type="guid">02e7db3b7f6535bf5477f6912a4b9811</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lavandaria</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Despesas com Sade</act:name>
+  <act:id type="guid">bdb225e5284388f41520d8babf88b569</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Despesas com Sade</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Outras</act:name>
+  <act:id type="guid">5ace6b588047a5442795abe8e95bcd87</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Outras</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Internet</act:name>
+  <act:id type="guid">8e4a5f429df5477ef384c68804033912</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Internet</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Telefone</act:name>
+  <act:id type="guid">1bba532c883f2db5975918714edd358a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Telefone</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Transportes Pblicos</act:name>
+  <act:id type="guid">eb0c6015eed4fbb0993ed35c6f1d1565</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Transportes Pblicos</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assinaturas</act:name>
+  <act:id type="guid">96a9ba0dfb3e81d3d326e0a43be4b0c9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assinaturas de jornais, revistas...</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Material de Escritrio</act:name>
+  <act:id type="guid">abe8c26bfbce7bf7c146fe079237b7d8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Material de Escritrio</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Servios</act:name>
+  <act:id type="guid">6f7d22171348352d7c38fa7f9f8a65d9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Servios</act:description>
+  <act:parent type="guid">af01f680c19671e931dcbc717c1670c1</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Eletricidade</act:name>
+  <act:id type="guid">ce02a74d7605d5913a2868c9abb429aa</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Eletricidade</act:description>
+  <act:parent type="guid">6f7d22171348352d7c38fa7f9f8a65d9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gs</act:name>
+  <act:id type="guid">083481a43e952b8b797fb1cfba9f2740</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gs</act:description>
+  <act:parent type="guid">6f7d22171348352d7c38fa7f9f8a65d9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>gua</act:name>
+  <act:id type="guid">1939e56e10b4fb0ee262043976482e90</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>gua</act:description>
+  <act:parent type="guid">6f7d22171348352d7c38fa7f9f8a65d9</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Lquido</act:name>
+  <act:id type="guid">7b9c1b1d9fc25d42ecfad36fe59da0af</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Lquido</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">952a25db819d0987b080a73807fa49ef</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Saldos Iniciais</act:name>
+  <act:id type="guid">a93bfef1115ba7862fae8cbb24d24c06</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>BRL</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Saldos Iniciais</act:description>
+  <act:parent type="guid">7b9c1b1d9fc25d42ecfad36fe59da0af</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-ru-rRU/default_accounts.gnucash b/app/res/raw-ru-rRU/default_accounts.gnucash
new file mode 100644
index 00000000..88cbdd9c
--- /dev/null
+++ b/app/res/raw-ru-rRU/default_accounts.gnucash
@@ -0,0 +1,857 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">63</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>RUB</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">95130ae4c49276a751adbb535e596958</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">9771250b33c1d2bc4ef9b3c9a8417d67</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">95130ae4c49276a751adbb535e596958</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">e265527fa15504ea5439b596ab5c85ff</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">9771250b33c1d2bc4ef9b3c9a8417d67</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">18194eedc13803909a9906df62f0a609</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">e265527fa15504ea5439b596ab5c85ff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">cdbbf4e1dad136d2db97cecbaa155c60</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">e265527fa15504ea5439b596ab5c85ff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e55bfb7a0b4cab9e00eb0d3f8f8905fe</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">e265527fa15504ea5439b596ab5c85ff</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">cecbee342b45a9dfa25eaff757b794ac</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">95130ae4c49276a751adbb535e596958</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">10223989ddcabf496a16f5b4c390b4e1</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">cecbee342b45a9dfa25eaff757b794ac</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">4db88e3e0189a26169a0e2646f69666e</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">95130ae4c49276a751adbb535e596958</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">0cc48bcc349ec1a8263dd37a64f2d8b3</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">4db88e3e0189a26169a0e2646f69666e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">9e48b0147e7656e0d6a26dd95151c40f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">4db88e3e0189a26169a0e2646f69666e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">9d8744b2767c59308ac19f44b5a2720a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">4db88e3e0189a26169a0e2646f69666e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">27c1298091642fca26bcd867323eb1e7</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">9d8744b2767c59308ac19f44b5a2720a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">18c760f38712481f2d6e1f915918c1b4</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>   </act:description>
+  <act:parent type="guid">9d8744b2767c59308ac19f44b5a2720a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">76896c551424f5cd1893fe0d04d04b1c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">9d8744b2767c59308ac19f44b5a2720a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">ff59b009dd32c02fe9549157af2a84d0</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">4db88e3e0189a26169a0e2646f69666e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">2367e3fe45d187019de81d7b187ee81f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">4db88e3e0189a26169a0e2646f69666e</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">95130ae4c49276a751adbb535e596958</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">79feef516658e483d61fe06f3500e805</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">6ad70cdcd9d19d5166724ab56c9137eb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">8ebc18d0e9b3c3d5c5f9f0a90bdcc541</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">6ad70cdcd9d19d5166724ab56c9137eb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">2b531e75a208e36763dbccda662c9d25</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">6ad70cdcd9d19d5166724ab56c9137eb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ec951f93c7589b1837cd20649a80ad27</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">6ad70cdcd9d19d5166724ab56c9137eb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">f669c6c59bcbb902054349785acbd510</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">6ad70cdcd9d19d5166724ab56c9137eb</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">98d583e8c5b5f89f52dd76028511952f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">c3ff638ff19f2def45bf8d0f17f6e118</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">86b294b4c118eb605be1bbd566b2f705</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">2aa636bcefc450d5906e0fd924e6da82</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">211f84da1b9ef9911eb7446b62284e3a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">acd47986b3453c1b969b3ca50787d993</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">d6875b9743cf687fde46241412448a73</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">29e6abeaa686f8ecb6d848e472e98d8f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">fdb4f85650c5ffb44a100e5b27201c8c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>  </act:name>
+  <act:id type="guid">90ab0ba048f336999096475c35b9c827</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>  </act:description>
+  <act:parent type="guid">fdb4f85650c5ffb44a100e5b27201c8c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">cf6924c1e7b24ceb9de0330827d5c2e7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">fdb4f85650c5ffb44a100e5b27201c8c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">15f995e72c57c506334b3c3f9ee2d4bf</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">fdb4f85650c5ffb44a100e5b27201c8c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">da57838f8102a222114ef35dd3fe0ea7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">97ebeec0def12319c8f5f363b5ef7be6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">172590e22f38b03ced8fc0a1c5092947</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">593c069dc6837aaa5b98304d84e118f0</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">2e209fa0e9c30b7413305e4f019c9622</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">593c069dc6837aaa5b98304d84e118f0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">1d236f02771b97e541fab5771ac1fcfc</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">593c069dc6837aaa5b98304d84e118f0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">1ef1146fe13295da087a67c441963a31</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">593c069dc6837aaa5b98304d84e118f0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>/</act:name>
+  <act:id type="guid">c27fa32b4477e8cc34a3ab85f1c9da28</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>/</act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">b429db66a50e6726f89ffa9d879f3ca3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e97700bfe8bb429904744c81f2278e88</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">16ea2c70343facb8443e1c1c4bf8ee7d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">c376a652e4359fd498c1f1937bacfff3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">241aa8ad55420286eda902826cc15256</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">7dbb90f608edacbc2b26af82daaef77d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">9075621040257db772ab18790dbeaa55</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">4fd8821e2cd6356cc1f28b49d30e849b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">7401fecef3fb3212470788fa5a4ebe55</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">4fd8821e2cd6356cc1f28b49d30e849b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">7ff01d3e4e74863f294a9e0037d1fb33</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">4fd8821e2cd6356cc1f28b49d30e849b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">885358ab1eed962c21e2ad287bf72132</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">4fd8821e2cd6356cc1f28b49d30e849b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">a3a8bb37289ba0a9797e54c3f66c1ca1</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">4fd8821e2cd6356cc1f28b49d30e849b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">7fca75ae83b6794752286b2f0160e84a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">5dc1e4b935b2be5dc27cf0ec5ca19386</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">440b94330312524214ee67ef9bcae504</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">7fca75ae83b6794752286b2f0160e84a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">6774eb2faabc64883b7dd16bea21c8f8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:parent type="guid">7fca75ae83b6794752286b2f0160e84a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">8b4765c68d97d5209c2c6c7f211ec948</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">7fca75ae83b6794752286b2f0160e84a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">2ae2963b304d8eb7aeba3b1ee02fcc2f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">7fca75ae83b6794752286b2f0160e84a</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">1da1a7dc9dd3a94723e08b9ec2f6a43d</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description> </act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">95130ae4c49276a751adbb535e596958</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name> </act:name>
+  <act:id type="guid">015d745c513531b7ab7e2f71cf52d4d7</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>RUB</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>    </act:description>
+  <act:parent type="guid">1da1a7dc9dd3a94723e08b9ec2f6a43d</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw-zh-rCN/default_accounts.gnucash b/app/res/raw-zh-rCN/default_accounts.gnucash
new file mode 100644
index 00000000..28b01266
--- /dev/null
+++ b/app/res/raw-zh-rCN/default_accounts.gnucash
@@ -0,0 +1,869 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>CNY</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">dfa64483c9ab2f017a4e9d4dae2f29e7</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">be88c71a4d74256c871326403d0b1d11</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">dfa64483c9ab2f017a4e9d4dae2f29e7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e9b22f5db03bbebb4b06fd5c8ba145f6</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">be88c71a4d74256c871326403d0b1d11</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">d12e7a9a69180f84872d5de6afcdbad9</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">e9b22f5db03bbebb4b06fd5c8ba145f6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">394942be59634793d49399b86c9171eb</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">e9b22f5db03bbebb4b06fd5c8ba145f6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">4def05ba8a2c070f5403449b5ae51cb6</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">e9b22f5db03bbebb4b06fd5c8ba145f6</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">c9d210efd927002e983a9e6c42386465</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">dfa64483c9ab2f017a4e9d4dae2f29e7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">6b3b289583c5d9e2ff4b03fc7e2fef48</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">c9d210efd927002e983a9e6c42386465</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">b8f9649f4c6c6beeb1904420cb602e10</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">dfa64483c9ab2f017a4e9d4dae2f29e7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">9f9cf4ddf6611379e785d0e352ba4868</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b8f9649f4c6c6beeb1904420cb602e10</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">98988bf0de639be281eb6693d0354207</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b8f9649f4c6c6beeb1904420cb602e10</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">45a03b281251bc5b2a8539e84003e365</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b8f9649f4c6c6beeb1904420cb602e10</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">473c77f6e68f9ee0111acebb40690bbb</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">45a03b281251bc5b2a8539e84003e365</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">c9b12d93b3e6f2cef246eb94a6bf55e9</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">45a03b281251bc5b2a8539e84003e365</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">9a6ba5dccc3af657608dd989a90b2627</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">45a03b281251bc5b2a8539e84003e365</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ed5ee4ba3ae8b45f2b2c677c58c3d21c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b8f9649f4c6c6beeb1904420cb602e10</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">628865ca95265bbcda3707115178cf0e</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b8f9649f4c6c6beeb1904420cb602e10</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">dfa64483c9ab2f017a4e9d4dae2f29e7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e49a81b98502a44d2782f5d13af42ced</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">33b62f14889cae00d71f408e547b5570</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">6dd09e81a86ebaaabe87b1e60877838d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">33b62f14889cae00d71f408e547b5570</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">1f2650006be222f81092b45425878910</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">33b62f14889cae00d71f408e547b5570</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">1319e49fe5597ab4bedb60265576e7f7</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">33b62f14889cae00d71f408e547b5570</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">359a6ef5ef98507eea89c2add8407223</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">33b62f14889cae00d71f408e547b5570</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ef7cba7e068a70a16e527e6d0a6b85ea</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">c6af9c5a11254a0356dfb5c135184edb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">44703e987a1b4141d90b463b473c8a2c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">6c62cbc8b335414b087241f20c53dd0a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">cbec566ecce449bef971a0e39964518c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">0d15d79073f36e5909e666993cfb5594</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">f5a80cf4cee013ee7707acfd450eea59</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">11473257d888cf4e137a45558d63be41</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">d290f7baf07c87079234c45cd374b246</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>/</act:name>
+  <act:id type="guid">486f1b494b3af87651d94af37bc6fb6d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>/</act:description>
+  <act:parent type="guid">d290f7baf07c87079234c45cd374b246</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">4259f8b2021de5dc10927a9ae8b6cadd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">d290f7baf07c87079234c45cd374b246</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">2eac80f8228e4a339dd817faa4bd9c2b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">d290f7baf07c87079234c45cd374b246</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">dd5323f7618d51edeb1035b7e35485ee</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">3e5851ba65953c7e8ef2155e64f3f48c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">346cf1cc33ee050fe4a9557a7603f0ab</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">b141702c4f0996b82d0058d20c040717</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">722fdc4be1515f2841cb32100992631a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b141702c4f0996b82d0058d20c040717</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">51488692648f933f542298ddf26861ad</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b141702c4f0996b82d0058d20c040717</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">3615f3c8833da387dfc9dae88a447b94</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">b141702c4f0996b82d0058d20c040717</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>/</act:name>
+  <act:id type="guid">f83782eb8df279feeed5cc2895559bce</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>/</act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">ddbcbabb316f1e9deccccfbe1db07fed</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">738cfe8afaee004fd7088d861b6278ca</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">7f787f9c16d1651c53360877a13d14fb</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">63417642c957b67128c9f305baf06e43</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">48cefe5661a5bb859253939ee49029c8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">76acc705f602e7bd97d266543fb03b50</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">85597923f1d0111d77225c9986494c6f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">3b35b432b39450f98de5f02ecad3a7b4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">058fcf2914602ce3d5236f1e6524379b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3b35b432b39450f98de5f02ecad3a7b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">8699f26b4de9ab87dfaa94825c0a3060</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3b35b432b39450f98de5f02ecad3a7b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">3088e7d5bab1b8e7927fd60223d08749</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3b35b432b39450f98de5f02ecad3a7b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">47282d883d68301265d6dee6a691db70</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3b35b432b39450f98de5f02ecad3a7b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">aea38d0b387b896054c45d3d3c311486</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3b35b432b39450f98de5f02ecad3a7b4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">c869c31b1d6d483fee000825a8e5e915</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">3f3ebd3d9c6441f8d9a0e88ef2bc9d80</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">cebca0dcf2973c480ee7d37b6b9c7462</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">c869c31b1d6d483fee000825a8e5e915</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">bcd29018444b8f2089e2457fb1507eae</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">c869c31b1d6d483fee000825a8e5e915</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">1ed337e755da7cc77a37e59b89cc9a9f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">c869c31b1d6d483fee000825a8e5e915</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e45d8666aa35453d6a30000390e07f9a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">c869c31b1d6d483fee000825a8e5e915</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">03c81fe2f5877e219b37f20ece87f793</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">dfa64483c9ab2f017a4e9d4dae2f29e7</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name></act:name>
+  <act:id type="guid">e3bebd5f4b817924c5f0822f28bf88a3</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>CNY</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description></act:description>
+  <act:parent type="guid">03c81fe2f5877e219b37f20ece87f793</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->
diff --git a/app/res/raw/default_accounts.gnucash b/app/res/raw/default_accounts.gnucash
new file mode 100644
index 00000000..c475437a
--- /dev/null
+++ b/app/res/raw/default_accounts.gnucash
@@ -0,0 +1,869 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<gnc-v2
+     xmlns:gnc="http://www.gnucash.org/XML/gnc"
+     xmlns:act="http://www.gnucash.org/XML/act"
+     xmlns:book="http://www.gnucash.org/XML/book"
+     xmlns:cd="http://www.gnucash.org/XML/cd"
+     xmlns:cmdty="http://www.gnucash.org/XML/cmdty"
+     xmlns:price="http://www.gnucash.org/XML/price"
+     xmlns:slot="http://www.gnucash.org/XML/slot"
+     xmlns:split="http://www.gnucash.org/XML/split"
+     xmlns:sx="http://www.gnucash.org/XML/sx"
+     xmlns:trn="http://www.gnucash.org/XML/trn"
+     xmlns:ts="http://www.gnucash.org/XML/ts"
+     xmlns:fs="http://www.gnucash.org/XML/fs"
+     xmlns:bgt="http://www.gnucash.org/XML/bgt"
+     xmlns:recurrence="http://www.gnucash.org/XML/recurrence"
+     xmlns:lot="http://www.gnucash.org/XML/lot"
+     xmlns:addr="http://www.gnucash.org/XML/addr"
+     xmlns:owner="http://www.gnucash.org/XML/owner"
+     xmlns:billterm="http://www.gnucash.org/XML/billterm"
+     xmlns:bt-days="http://www.gnucash.org/XML/bt-days"
+     xmlns:bt-prox="http://www.gnucash.org/XML/bt-prox"
+     xmlns:cust="http://www.gnucash.org/XML/cust"
+     xmlns:employee="http://www.gnucash.org/XML/employee"
+     xmlns:entry="http://www.gnucash.org/XML/entry"
+     xmlns:invoice="http://www.gnucash.org/XML/invoice"
+     xmlns:job="http://www.gnucash.org/XML/job"
+     xmlns:order="http://www.gnucash.org/XML/order"
+     xmlns:taxtable="http://www.gnucash.org/XML/taxtable"
+     xmlns:tte="http://www.gnucash.org/XML/tte"
+     xmlns:vendor="http://www.gnucash.org/XML/vendor">
+<gnc:count-data cd:type="commodity">1</gnc:count-data>
+<gnc:count-data cd:type="account">64</gnc:count-data>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>ISO4217</cmdty:space>
+  <cmdty:id>USD</cmdty:id>
+  <cmdty:get_quotes/>
+  <cmdty:quote_source>currency</cmdty:quote_source>
+  <cmdty:quote_tz/>
+</gnc:commodity>
+<gnc:commodity version="2.0.0">
+  <cmdty:space>template</cmdty:space>
+  <cmdty:id>template</cmdty:id>
+  <cmdty:name>template</cmdty:name>
+  <cmdty:xcode>template</cmdty:xcode>
+  <cmdty:fraction>1</cmdty:fraction>
+</gnc:commodity>
+<gnc:account version="2.0.0">
+  <act:name>Root Account</act:name>
+  <act:id type="guid">a6cb26f377e4ecbd6d5122484a4e283b</act:id>
+  <act:type>ROOT</act:type>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Assets</act:name>
+  <act:id type="guid">11fa67ab80d2e7862fecf31fc390c5c2</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Assets</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#1469EB</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">a6cb26f377e4ecbd6d5122484a4e283b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Current Assets</act:name>
+  <act:id type="guid">9c0d217ae0521c97afb5322e67b149e4</act:id>
+  <act:type>ASSET</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Current Assets</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">11fa67ab80d2e7862fecf31fc390c5c2</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Checking Account</act:name>
+  <act:id type="guid">8a9d4c51aabbc3343887dec7f8843ecd</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Checking Account</act:description>
+  <act:parent type="guid">9c0d217ae0521c97afb5322e67b149e4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Savings Account</act:name>
+  <act:id type="guid">dd963d88aba67edaa4d9c9c7e87c4ddc</act:id>
+  <act:type>BANK</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Savings Account</act:description>
+  <act:parent type="guid">9c0d217ae0521c97afb5322e67b149e4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cash in Wallet</act:name>
+  <act:id type="guid">b687a487849470c25e0ff5aaad6a522b</act:id>
+  <act:type>CASH</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cash in Wallet</act:description>
+  <act:parent type="guid">9c0d217ae0521c97afb5322e67b149e4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Liabilities</act:name>
+  <act:id type="guid">9a7baa807f6c637dc6fff42874ca5fe0</act:id>
+  <act:type>LIABILITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Liabilities</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#B304AD</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">a6cb26f377e4ecbd6d5122484a4e283b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Credit Card</act:name>
+  <act:id type="guid">62c191c4e7e2e8a7ddf6c77de0d0c6d0</act:id>
+  <act:type>CREDIT</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Credit Card</act:description>
+  <act:parent type="guid">9a7baa807f6c637dc6fff42874ca5fe0</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Income</act:name>
+  <act:id type="guid">fbc7d605a440c1a08ed00e7b4bdf2bfc</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Income</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#319D67</slot:value>
+    </slot>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">a6cb26f377e4ecbd6d5122484a4e283b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bonus</act:name>
+  <act:id type="guid">cf9de4a88e96293c3a7aec5d0562b220</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bonus</act:description>
+  <act:parent type="guid">fbc7d605a440c1a08ed00e7b4bdf2bfc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gifts Received</act:name>
+  <act:id type="guid">b01950c0df0890b6543209d51c8e0b0f</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gifts Received</act:description>
+  <act:parent type="guid">fbc7d605a440c1a08ed00e7b4bdf2bfc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Interest Income</act:name>
+  <act:id type="guid">fe793c17402174c2ea1f84b31576b13c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Interest Income</act:description>
+  <act:parent type="guid">fbc7d605a440c1a08ed00e7b4bdf2bfc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Checking Interest</act:name>
+  <act:id type="guid">f509ec28fdcfd1739a1be660c6769072</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Checking Interest</act:description>
+  <act:parent type="guid">fe793c17402174c2ea1f84b31576b13c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Other Interest</act:name>
+  <act:id type="guid">56463d4b4284fe99581a18e7e6f1344b</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Other Interest</act:description>
+  <act:parent type="guid">fe793c17402174c2ea1f84b31576b13c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Savings Interest</act:name>
+  <act:id type="guid">62fce772a569ac3bdad7b1bddda5d22e</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Savings Interest</act:description>
+  <act:parent type="guid">fe793c17402174c2ea1f84b31576b13c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Other Income</act:name>
+  <act:id type="guid">f99fc101a17d1a0cffdcf57e9bb7e89c</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Other Income</act:description>
+  <act:parent type="guid">fbc7d605a440c1a08ed00e7b4bdf2bfc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Salary</act:name>
+  <act:id type="guid">a55afc14aff166a9b85bc994b465da0a</act:id>
+  <act:type>INCOME</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Salary</act:description>
+  <act:parent type="guid">fbc7d605a440c1a08ed00e7b4bdf2bfc</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Expenses</act:name>
+  <act:id type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Expenses</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#D13E29</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">a6cb26f377e4ecbd6d5122484a4e283b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Adjustment</act:name>
+  <act:id type="guid">532ee7592d4efae7fe2418891d598e59</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Adjustment</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto</act:name>
+  <act:id type="guid">49900760a4b786567f48301a4cfa1c30</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auto</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Fees</act:name>
+  <act:id type="guid">39318c7db2ec046e8f38072890d97828</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Fees</act:description>
+  <act:parent type="guid">49900760a4b786567f48301a4cfa1c30</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">aafefd171e9b1d9e37e266f563a2fec6</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">49900760a4b786567f48301a4cfa1c30</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Parking</act:name>
+  <act:id type="guid">c01a40bc72a9852473ec9f5df59e5556</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Parking</act:description>
+  <act:parent type="guid">49900760a4b786567f48301a4cfa1c30</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Repair and Maintenance</act:name>
+  <act:id type="guid">7607d476d90a972e3e66c6a3a95f538a</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Repair and Maintenance</act:description>
+  <act:parent type="guid">49900760a4b786567f48301a4cfa1c30</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Bank Service Charge</act:name>
+  <act:id type="guid">7d56b09600b6b050b77d3c04449ae104</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Bank Service Charge</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Books</act:name>
+  <act:id type="guid">a8b342435aceac7c3cac214f9385dd72</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Books</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Cable</act:name>
+  <act:id type="guid">dc74d6d541681eae5f730dade7794a90</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Cable</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Charity</act:name>
+  <act:id type="guid">d216ab1115d2af64eb71da699a10e76b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Charity</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Clothes</act:name>
+  <act:id type="guid">84be9464b390735432c3bd473a71c23e</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Clothes</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Computer</act:name>
+  <act:id type="guid">101fca3c410abc2338eb9060b3bdb449</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Computer</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Dining</act:name>
+  <act:id type="guid">62922c5ccb31d6198259739d27d858fe</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Dining</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Education</act:name>
+  <act:id type="guid">bb7fb81b75cbbe9838a549f170d03279</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Education</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Entertainment</act:name>
+  <act:id type="guid">1c1d2cb54a5da4b41a2b4cea5d5287f4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Entertainment</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Music/Movies</act:name>
+  <act:id type="guid">f59aa127e7c218892ecf625e2af30bd3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Music/Movies</act:description>
+  <act:parent type="guid">1c1d2cb54a5da4b41a2b4cea5d5287f4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Recreation</act:name>
+  <act:id type="guid">5d0e0e1dc946e315757acb934b3f27ca</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Recreation</act:description>
+  <act:parent type="guid">1c1d2cb54a5da4b41a2b4cea5d5287f4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Travel</act:name>
+  <act:id type="guid">b141c17615aab801a941c9ef27fb9380</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Travel</act:description>
+  <act:parent type="guid">1c1d2cb54a5da4b41a2b4cea5d5287f4</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gifts</act:name>
+  <act:id type="guid">e0dd43f5dbff5af15175bc3fb449f541</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gifts</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Groceries</act:name>
+  <act:id type="guid">0534baaed99504f7bfbea21157cbee09</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Groceries</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Hobbies</act:name>
+  <act:id type="guid">06afd2a6a763fef18c22514322f88c97</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Hobbies</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Insurance</act:name>
+  <act:id type="guid">00f1d1b4d7846ed3638b18a34c559947</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Insurance</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Auto Insurance</act:name>
+  <act:id type="guid">21283de36ba7c082cfb819099d8144c8</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Auto Insurance</act:description>
+  <act:parent type="guid">00f1d1b4d7846ed3638b18a34c559947</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Health Insurance</act:name>
+  <act:id type="guid">c9cee67b37323c1e1b415e1ecff13019</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Health Insurance</act:description>
+  <act:parent type="guid">00f1d1b4d7846ed3638b18a34c559947</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Life Insurance</act:name>
+  <act:id type="guid">c156b2874329ab099adfe6c8fafa45aa</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Life Insurance</act:description>
+  <act:parent type="guid">00f1d1b4d7846ed3638b18a34c559947</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Laundry/Dry Cleaning</act:name>
+  <act:id type="guid">5c96c378a82eaff86b8e2e899f39cf51</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Laundry/Dry Cleaning</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medical Expenses</act:name>
+  <act:id type="guid">c22e5b35f5d4af1a2813aa5480a522c9</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medical Expenses</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Miscellaneous</act:name>
+  <act:id type="guid">d1fa16e570edfd54a0abf34914e9cf09</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Miscellaneous</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Online Services</act:name>
+  <act:id type="guid">9d0fff9b9c84e363d1a6cd896712e8a4</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Online Services</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Phone</act:name>
+  <act:id type="guid">1d7d18941822328be729fe45215cc665</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Phone</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Public Transportation</act:name>
+  <act:id type="guid">025822f20e5c485b282d9971b6394716</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Public Transportation</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Subscriptions</act:name>
+  <act:id type="guid">f84f9f54747fc2b827fe3704e2b3a0c3</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Subscriptions</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Supplies</act:name>
+  <act:id type="guid">9a36cc4b1764ea2c33fa2726fd45d676</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Supplies</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Taxes</act:name>
+  <act:id type="guid">8358c4553b2d0d3fb6f4883cfc036f4c</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Taxes</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Federal</act:name>
+  <act:id type="guid">2c8a63eabb2cfa3a45ad1057c52fdc0b</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Federal</act:description>
+  <act:parent type="guid">8358c4553b2d0d3fb6f4883cfc036f4c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Medicare</act:name>
+  <act:id type="guid">c1b00656fa7f211a834c4292ce7a4359</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Medicare</act:description>
+  <act:parent type="guid">8358c4553b2d0d3fb6f4883cfc036f4c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Other Tax</act:name>
+  <act:id type="guid">c3888aa8e881814b94c8612183125b4f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Other Tax</act:description>
+  <act:parent type="guid">8358c4553b2d0d3fb6f4883cfc036f4c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Social Security</act:name>
+  <act:id type="guid">7384455e943b8e3523a2807d0b3d9608</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Social Security</act:description>
+  <act:parent type="guid">8358c4553b2d0d3fb6f4883cfc036f4c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>State/Province</act:name>
+  <act:id type="guid">6a971fc698ef7f5b89da22f4e51577de</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>State/Province</act:description>
+  <act:parent type="guid">8358c4553b2d0d3fb6f4883cfc036f4c</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Utilities</act:name>
+  <act:id type="guid">7fceca3ecbe8e6cd713b0e555e14001d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Utilities</act:description>
+  <act:parent type="guid">89fe1fc8a0276c3ba0cdcb83c75f6d43</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Electric</act:name>
+  <act:id type="guid">9db7cf0a28241491a3205615b04d20f2</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Electric</act:description>
+  <act:parent type="guid">7fceca3ecbe8e6cd713b0e555e14001d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Garbage collection</act:name>
+  <act:id type="guid">d7c7bf631292de49fa063c118a9a0f5d</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Garbage collection</act:description>
+  <act:parent type="guid">7fceca3ecbe8e6cd713b0e555e14001d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Gas</act:name>
+  <act:id type="guid">a0eeb7634d833649ef66f6a8179e4b3f</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Gas</act:description>
+  <act:parent type="guid">7fceca3ecbe8e6cd713b0e555e14001d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Water</act:name>
+  <act:id type="guid">406ad9c1bdf5c1e41d47d99ccfc721fd</act:id>
+  <act:type>EXPENSE</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Water</act:description>
+  <act:parent type="guid">7fceca3ecbe8e6cd713b0e555e14001d</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Equity</act:name>
+  <act:id type="guid">058c9653fce69df1ebe994f3aa77266f</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Equity</act:description>
+  <act:slots>
+    <slot>
+      <slot:key>placeholder</slot:key>
+      <slot:value type="string">true</slot:value>
+    </slot>
+    <slot>
+      <slot:key>color</slot:key>
+      <slot:value type="string">#EE8600</slot:value>
+    </slot>
+  </act:slots>
+  <act:parent type="guid">a6cb26f377e4ecbd6d5122484a4e283b</act:parent>
+</gnc:account>
+<gnc:account version="2.0.0">
+  <act:name>Opening Balances</act:name>
+  <act:id type="guid">5d7398633947af8ba50018145eb824e0</act:id>
+  <act:type>EQUITY</act:type>
+  <act:commodity>
+    <cmdty:space>ISO4217</cmdty:space>
+    <cmdty:id>USD</cmdty:id>
+  </act:commodity>
+  <act:commodity-scu>100</act:commodity-scu>
+  <act:description>Opening Balances</act:description>
+  <act:parent type="guid">058c9653fce69df1ebe994f3aa77266f</act:parent>
+</gnc:account>
+</gnc-v2>
+
+<!-- Local variables: -->
+<!-- mode: xml        -->
+<!-- End:             -->

From 9d4e5804b54e0bcfd889a695777dc850d05d073c Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 3 Feb 2014 14:21:34 +0100
Subject: [PATCH 37/43] Modified first run dialog to create default GnuCash
 account structure rather than just flat hierarchy

---
 app/res/values-de/strings.xml                      |  6 +-
 app/res/values-el/strings.xml                      |  6 +-
 app/res/values-es-rMX/strings.xml                  |  6 +-
 app/res/values-es/strings.xml                      |  6 +-
 app/res/values-fr/strings.xml                      |  6 +-
 app/res/values-hu/strings.xml                      |  6 +-
 app/res/values-it/strings.xml                      |  6 +-
 app/res/values-nb/strings.xml                      |  6 +-
 app/res/values-nl/strings.xml                      |  6 +-
 app/res/values-pt-rBR/strings.xml                  |  6 +-
 app/res/values-ru/strings.xml                      |  6 +-
 app/res/values-zh/strings.xml                      |  6 +-
 app/res/values/strings.xml                         |  6 +-
 .../android/ui/accounts/AccountsActivity.java      | 97 ++++------------------
 .../ui/settings/AccountPreferencesFragment.java    |  3 +-
 15 files changed, 80 insertions(+), 98 deletions(-)

diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index b12a249a..c4b87fb1 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -381,8 +381,12 @@
     <string name="title_all_accounts">Alle</string>
     <string name="summary_create_default_accounts">Erstellt die hufig verwendete standard GnuCash Konten</string>
     <string name="title_create_default_accounts">Standard Konten erstellen</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Wiederkehrende Buchungen</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 00ac5a36..36508793 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -397,8 +397,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index 5fffe80f..f28f06ab 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -381,8 +381,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index b9e022aa..2d48ed28 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -381,8 +381,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index fd6fffd9..c1c4994b 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -379,8 +379,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index 74110e4d..d91d4728 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -382,8 +382,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
\ No newline at end of file
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index ebb2f657..a79ca66d 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -382,8 +382,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index c7bcb29d..7afe4794 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -384,8 +384,12 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 9c1eec8c..880dd477 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -383,8 +383,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index 3230b66d..d72f4c5e 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -381,8 +381,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index d85fccda..0e0de000 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -379,8 +379,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index aae41e9d..3eb95406 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -379,8 +379,12 @@
     <string name="title_all_accounts">All</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index c889147d..63948515 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -617,8 +617,12 @@
     <string name="key_create_default_accounts">create_default_accounts</string>
     <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
     <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_create_default_accounts_confirmation">New accounts will be created in addition to the existing
+    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
         account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
     </string>
     <string name="menu_item_recurring_transactions">Recurring Transactions</string>
+    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
+        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
+        available in app Settings so you can decide later.
+    </string>
 </resources>
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index 6c089bdc..b72ca236 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -26,7 +26,6 @@
 import android.content.pm.PackageInfo;
 import android.content.pm.PackageManager.NameNotFoundException;
 import android.content.res.Resources;
-import android.net.Uri;
 import android.os.AsyncTask;
 import android.os.Bundle;
 import android.preference.PreferenceManager;
@@ -47,10 +46,7 @@
 import com.actionbarsherlock.view.MenuItem;
 import com.viewpagerindicator.TitlePageIndicator;
 import org.gnucash.android.R;
-import org.gnucash.android.data.Account;
-import org.gnucash.android.data.Account.AccountType;
 import org.gnucash.android.data.Money;
-import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.ui.Refreshable;
 import org.gnucash.android.ui.transactions.RecurringTransactionsListFragment;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
@@ -60,7 +56,8 @@
 
 import java.io.FileNotFoundException;
 import java.io.InputStream;
-import java.util.*;
+import java.util.Currency;
+import java.util.Locale;
 
 /**
  * Manages actions related to accounts, displaying, exporting and creating new accounts
@@ -74,8 +71,8 @@
 	 * Tag used for identifying the account list fragment when it is added to this activity
 	 */
 	public static final String FRAGMENT_ACCOUNTS_LIST 	= "accounts_list";
-		
-	/**
+
+    /**
 	 * Tag used for identifying the account export fragment
 	 */
 	protected static final String FRAGMENT_EXPORT_OFX  = "export_ofx";
@@ -120,12 +117,6 @@
      */
     private SparseArray<Refreshable> mFragmentPageReferenceMap = new SparseArray<Refreshable>();
 
-    /**
-	 * Stores the indices of accounts which have been selected by the user for creation from the dialog.
-	 * The account names are stored as string resources and the selected indices are then used to choose which accounts to create
-	 * The dialog for creating default accounts is only shown when the app is started for the first time.
-	 */
-	private ArrayList<Integer> mSelectedDefaultAccounts = new ArrayList<Integer>();
 	
 	/**
 	 * Dialog which is shown to the user on first start prompting the user to create some accounts
@@ -240,7 +231,7 @@ private void init() {
         if (locale.getCountry().equals("UK")) {
             locale = new Locale(locale.getLanguage(), "GB");
         }
-        String currencyCode = null;
+        String currencyCode;
         try { //there are some strange locales out there
             currencyCode = prefs.getString(getString(R.string.key_default_currency),
                     Currency.getInstance(locale).getCurrencyCode());
@@ -300,13 +291,13 @@ private boolean hasNewFeatures(){
 	public static void showWhatsNewDialog(Context context){
         Resources resources = context.getResources();
         StringBuilder releaseTitle = new StringBuilder(resources.getString(R.string.title_whats_new));
-        PackageInfo packageInfo = null;
+        PackageInfo packageInfo;
         try {
             packageInfo = context.getPackageManager().getPackageInfo(context.getPackageName(), 0);
+            releaseTitle.append(" - v").append(packageInfo.versionName);
         } catch (NameNotFoundException e) {
             e.printStackTrace();
         }
-        releaseTitle.append(" - v").append(packageInfo.versionName);
 
         new AlertDialog.Builder(context)
 		.setTitle(releaseTitle.toString())
@@ -421,80 +412,20 @@ public void onNewAccountClick(View v) {
 	}
 
 	/**
-	 * Creates the default accounts which have the selected by the user.
-	 * The indices of the default accounts is stored in {@link #mSelectedDefaultAccounts}
+	 * Shows the user dialog to create default account structure or import existing account structure
 	 */
 	private void createDefaultAccounts(){
 		AlertDialog.Builder builder = new AlertDialog.Builder(this);
-		boolean[] checkedDefaults = new boolean[]{true, true, false, false, false};
-		//add the checked defaults, the rest will be added by user action
-		mSelectedDefaultAccounts.add(0);
-		mSelectedDefaultAccounts.add(1);
-		builder.setTitle(R.string.title_default_accounts);		
-		builder.setMultiChoiceItems(R.array.default_accounts, checkedDefaults, new DialogInterface.OnMultiChoiceClickListener() {
-			
-			@Override
-			public void onClick(DialogInterface dialog, int which, boolean isChecked) {
-				if (isChecked){
-					mSelectedDefaultAccounts.add(which);
-				} else {
-					mSelectedDefaultAccounts.remove(Integer.valueOf(which));
-				}
-			}
-		});
+		builder.setTitle(R.string.title_default_accounts);
+        builder.setMessage(R.string.message_confirm_create_default_accounts_first_run);
+
 		builder.setPositiveButton(R.string.btn_create_accounts, new DialogInterface.OnClickListener() {
 			
 			@Override
 			public void onClick(DialogInterface dialog, int which) {
-				AccountsDbAdapter dbAdapter = new AccountsDbAdapter(getApplicationContext());
-				String[] defaultAccounts = getResources().getStringArray(R.array.default_accounts);
-				for (int index : mSelectedDefaultAccounts) {
-					String name = defaultAccounts[index];
-					Account account = new Account(name);
-					
-					//these indices are bound to the order in which the accounts occur in strings.xml
-					switch (index) {
-					case 0:
-						account.setAccountType(AccountType.EXPENSE);
-                        account.setColorCode(getString(R.color.account_red));
-						break;
-						
-					case 1:
-						account.setAccountType(AccountType.INCOME);
-                        account.setColorCode(getString(R.color.account_green));
-						break;
-						
-					case 2:
-						account.setAccountType(AccountType.ASSET);
-                        account.setColorCode(getString(R.color.account_gold));
-						break;
-					case 3:
-						account.setAccountType(AccountType.EQUITY);
-                        account.setColorCode(getString(R.color.account_blue));
-						break;
-					case 4:
-						account.setAccountType(AccountType.LIABILITY);
-                        account.setColorCode(getString(R.color.account_purple));
-						break;
-						
-					default:
-						account.setAccountType(AccountType.CASH);
-                        account.setColorCode(getString(R.color.account_green));
-						break;
-					}
-					dbAdapter.addAccount(account);
-				}
-				
-				dbAdapter.close();
-				removeFirstRunFlag();
-				Fragment fragment = getSupportFragmentManager().findFragmentByTag(FRAGMENT_ACCOUNTS_LIST);
-				if (fragment != null){
-					try{
-						((AccountsListFragment) fragment).refresh();
-					} catch (ClassCastException e) {
-						Log.e(TAG, e.getMessage());
-					}
-				}
+                InputStream accountFileInputStream = getResources().openRawResource(R.raw.default_accounts);
+                new AccountsActivity.AccountImporterTask(AccountsActivity.this).execute(accountFileInputStream);
+                removeFirstRunFlag();
 			}
 		});
 		
diff --git a/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java b/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
index 44d318b8..e081cf0d 100644
--- a/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
+++ b/app/src/org/gnucash/android/ui/settings/AccountPreferencesFragment.java
@@ -23,7 +23,6 @@
 import android.preference.Preference;
 import android.preference.PreferenceFragment;
 import android.preference.PreferenceManager;
-import android.view.ContextThemeWrapper;
 import com.actionbarsherlock.app.ActionBar;
 import com.actionbarsherlock.app.SherlockPreferenceActivity;
 import org.gnucash.android.R;
@@ -76,7 +75,7 @@ public boolean onPreferenceClick(Preference preference) {
             public boolean onPreferenceClick(Preference preference) {
                 new AlertDialog.Builder(getActivity())
                         .setTitle(R.string.title_create_default_accounts)
-                        .setMessage(R.string.message_create_default_accounts_confirmation)
+                        .setMessage(R.string.message_confirm_create_default_accounts_setting)
                         .setIcon(android.R.drawable.ic_dialog_alert)
                         .setPositiveButton(R.string.btn_create_accounts, new DialogInterface.OnClickListener() {
                             @Override

From b2bf25d31484aa257cf71f4b2f2bd15bed878c08 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Mon, 3 Feb 2014 15:05:57 +0100
Subject: [PATCH 38/43] Prepare for v1.3.0.beta1 release Updated version
 numbers and copyright notices (where necessary)

---
 CHANGELOG.md                                | 19 +++++++++++++++++++
 app/AndroidManifest.xml                     |  6 +++---
 app/pom.xml                                 |  2 +-
 app/res/raw-de-rAT/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-de-rCH/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-de-rDE/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-el-rGR/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-en-rGB/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-es-rES/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-es-rMX/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-fr-rCA/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-fr-rCH/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-fr-rFR/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-hu-rHU/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-it-rIT/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-nl-rNL/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-pt-rBR/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-ru-rRU/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw-zh-rCN/default_accounts.gnucash | 15 +++++++++++++++
 app/res/raw/default_accounts.gnucash        | 15 +++++++++++++++
 app/res/values-de/strings.xml               | 18 ++++++++++--------
 app/res/values-el/strings.xml               | 18 ++++++++++--------
 app/res/values-es-rMX/strings.xml           | 18 ++++++++++--------
 app/res/values-es/strings.xml               | 18 ++++++++++--------
 app/res/values-fr/strings.xml               | 18 ++++++++++--------
 app/res/values-hu/strings.xml               |  2 +-
 app/res/values-it/strings.xml               | 18 ++++++++++--------
 app/res/values-nb/strings.xml               | 20 +++++++++++---------
 app/res/values-nl/strings.xml               | 18 ++++++++++--------
 app/res/values-pt-rBR/strings.xml           | 18 ++++++++++--------
 app/res/values-ru/strings.xml               | 18 ++++++++++--------
 app/res/values-zh/strings.xml               | 16 +++++++++-------
 app/res/values/strings.xml                  | 16 +++++++++-------
 app/res/xml/preference_headers.xml          |  2 +-
 integration-tests/pom.xml                   |  2 +-
 pom.xml                                     |  2 +-
 36 files changed, 401 insertions(+), 103 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 5e169cf6..839de7df 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,5 +1,24 @@
 Change Log
 ===============================================================================
+Version 1.3.0 *(2014-02-07)*
+----------------------------
+* Fixed: Some file managers do not display all files available for import
+* Fixed: Crash when deleting account from accounts list
+* Fixed: CASH accounts should have normal DEBIT balance
+* Fixed: Crash when quickly opening and navigating from transactions list
+* Feature: Mark favorite accounts and quickly access them
+* Feature: Display different tabs for recent, favorite and all accounts
+* Feature: Add, view and delete recurring transactions (daily, weekly, monthly)
+* Feature: Mark accounts as placeholder accounts (cannot contain transactions)
+* Feature: Set a default transfer account for each account
+* Feature: Color code accounts & themed account views
+* Feature: Create default GnuCash account structure from within app
+* Improved: Enabled one-button click for rating app and sending feedback
+* Improved: Clicking on version information now shows changelog
+* Improved: Delete account and all its sub-accounts
+* Improved: Sub-accounts default to same account type as parent account
+* Improved: Use tab views for sub-accounts and transactions inside accounts
+
 Version 1.2.7 *(2013-12-18)*
 ----------------------------
 * Fixed: Export format always defaults to QIF, ignoring user preference
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index 5faf9d13..dcfbd466 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="22"
-    android:versionName="1.2.7" >
+    android:versionCode="23"
+    android:versionName="1.3.0.beta1" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
@@ -55,7 +55,7 @@
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
-        <activity android:name=".ui.settings.SettingsActivity"></activity>
+        <activity android:name=".ui.settings.SettingsActivity"/>
         <activity android:name=".ui.transactions.TransactionsActivity" 
             android:configChanges="orientation|screenSize">
         </activity>
diff --git a/app/pom.xml b/app/pom.xml
index b6e8e43c..d52dd205 100644
--- a/app/pom.xml
+++ b/app/pom.xml
@@ -22,7 +22,7 @@
     <description>Gnucash Android companion application</description>
 
     <parent>
-        <version>1.2.7-SNAPSHOT</version>
+        <version>1.3.0-SNAPSHOT</version>
         <groupId>org.gnucash.android</groupId>
         <artifactId>gnucash-android-parent</artifactId>
     </parent>
diff --git a/app/res/raw-de-rAT/default_accounts.gnucash b/app/res/raw-de-rAT/default_accounts.gnucash
index eb2ff7c1..9ba38618 100644
--- a/app/res/raw-de-rAT/default_accounts.gnucash
+++ b/app/res/raw-de-rAT/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-de-rCH/default_accounts.gnucash b/app/res/raw-de-rCH/default_accounts.gnucash
index 53ff96f3..1a25a62c 100644
--- a/app/res/raw-de-rCH/default_accounts.gnucash
+++ b/app/res/raw-de-rCH/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-de-rDE/default_accounts.gnucash b/app/res/raw-de-rDE/default_accounts.gnucash
index eb2ff7c1..9ba38618 100644
--- a/app/res/raw-de-rDE/default_accounts.gnucash
+++ b/app/res/raw-de-rDE/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-el-rGR/default_accounts.gnucash b/app/res/raw-el-rGR/default_accounts.gnucash
index b80552e3..2f5ec4cc 100644
--- a/app/res/raw-el-rGR/default_accounts.gnucash
+++ b/app/res/raw-el-rGR/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-en-rGB/default_accounts.gnucash b/app/res/raw-en-rGB/default_accounts.gnucash
index 3676f7b4..d91bd5b1 100644
--- a/app/res/raw-en-rGB/default_accounts.gnucash
+++ b/app/res/raw-en-rGB/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-es-rES/default_accounts.gnucash b/app/res/raw-es-rES/default_accounts.gnucash
index 32ad467e..7855b6ee 100644
--- a/app/res/raw-es-rES/default_accounts.gnucash
+++ b/app/res/raw-es-rES/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-es-rMX/default_accounts.gnucash b/app/res/raw-es-rMX/default_accounts.gnucash
index 70e695f3..0cedf1e8 100644
--- a/app/res/raw-es-rMX/default_accounts.gnucash
+++ b/app/res/raw-es-rMX/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-fr-rCA/default_accounts.gnucash b/app/res/raw-fr-rCA/default_accounts.gnucash
index 2eb913fd..690bd0f1 100644
--- a/app/res/raw-fr-rCA/default_accounts.gnucash
+++ b/app/res/raw-fr-rCA/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-fr-rCH/default_accounts.gnucash b/app/res/raw-fr-rCH/default_accounts.gnucash
index e1116116..38d2f28d 100644
--- a/app/res/raw-fr-rCH/default_accounts.gnucash
+++ b/app/res/raw-fr-rCH/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-fr-rFR/default_accounts.gnucash b/app/res/raw-fr-rFR/default_accounts.gnucash
index 8249feb6..4b81b40a 100644
--- a/app/res/raw-fr-rFR/default_accounts.gnucash
+++ b/app/res/raw-fr-rFR/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-hu-rHU/default_accounts.gnucash b/app/res/raw-hu-rHU/default_accounts.gnucash
index 05a985c3..77c2e7cd 100644
--- a/app/res/raw-hu-rHU/default_accounts.gnucash
+++ b/app/res/raw-hu-rHU/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-it-rIT/default_accounts.gnucash b/app/res/raw-it-rIT/default_accounts.gnucash
index 6aec0a88..f4dde713 100644
--- a/app/res/raw-it-rIT/default_accounts.gnucash
+++ b/app/res/raw-it-rIT/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-nl-rNL/default_accounts.gnucash b/app/res/raw-nl-rNL/default_accounts.gnucash
index 75c0232a..7b34fc32 100644
--- a/app/res/raw-nl-rNL/default_accounts.gnucash
+++ b/app/res/raw-nl-rNL/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-pt-rBR/default_accounts.gnucash b/app/res/raw-pt-rBR/default_accounts.gnucash
index 16be22c9..f2f8ee86 100644
--- a/app/res/raw-pt-rBR/default_accounts.gnucash
+++ b/app/res/raw-pt-rBR/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-ru-rRU/default_accounts.gnucash b/app/res/raw-ru-rRU/default_accounts.gnucash
index 88cbdd9c..eb67ce43 100644
--- a/app/res/raw-ru-rRU/default_accounts.gnucash
+++ b/app/res/raw-ru-rRU/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw-zh-rCN/default_accounts.gnucash b/app/res/raw-zh-rCN/default_accounts.gnucash
index 28b01266..499b6def 100644
--- a/app/res/raw-zh-rCN/default_accounts.gnucash
+++ b/app/res/raw-zh-rCN/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/raw/default_accounts.gnucash b/app/res/raw/default_accounts.gnucash
index c475437a..c056a391 100644
--- a/app/res/raw/default_accounts.gnucash
+++ b/app/res/raw/default_accounts.gnucash
@@ -1,4 +1,19 @@
 <?xml version="1.0" encoding="utf-8" ?>
+<!--
+ Copyright (c) 2014 Ngewi Fet <ngewif@gmail.com>
+
+ Licensed under the Apache License, Version 2.0 (the "License");
+ you may not use this file except in compliance with the License.
+ You may obtain a copy of the License at
+
+    http://www.apache.org/licenses/LICENSE-2.0
+
+ Unless required by applicable law or agreed to in writing, software
+ distributed under the License is distributed on an "AS IS" BASIS,
+ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ See the License for the specific language governing permissions and
+ limitations under the License.
+-->
 <gnc-v2
      xmlns:gnc="http://www.gnucash.org/XML/gnc"
      xmlns:act="http://www.gnucash.org/XML/act"
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index c4b87fb1..e4763748 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Christian Stimming <christian@stimming.de>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Christian Stimming <christian@stimming.de>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">Dieses Option aktivieren wenn Sie die OFX Dateien fr ein anderes Programm als GnuCash auf dem Desktop exportieren</string>
 	<string name="title_whats_new">Neuigkeiten in dieser Version</string>
 	<string name="whats_new">
-        - Import GnuCash desktop account structure\n
-        - Nested display of account hierarchy\n
-        - Options for deleting all accounts/transactions\n
-        - Preliminary support for account types\n
-        - Account balance now takes sub-accounts into consideration\n
-        - Numerous bug fixes\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
     </string>
 	<string name="label_dismiss">Schlieen</string>
     <string name="toast_transanction_amount_required">Geben Sie einen Betrag ein um die Buchung speichern zu knnen</string>
diff --git a/app/res/values-el/strings.xml b/app/res/values-el/strings.xml
index 36508793..459e1aac 100644
--- a/app/res/values-el/strings.xml
+++ b/app/res/values-el/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Menelaos Maglis <mmaglis@metacom.gr> 
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Menelaos Maglis <mmaglis@metacom.gr>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -314,12 +314,14 @@
 	<string name="summary_xml_ofx_header">        ,   GnuCash   .</string>
 	<string name="title_whats_new">  </string>
 	<string name="whats_new">
-        - Import GnuCash desktop account structure\n
-        - Nested display of account hierarchy\n
-        - Options for deleting all accounts/transactions\n
-        - Preliminary support for account types\n
-        - Account balance now takes sub-accounts into consideration\n
-        - Numerous bug fixes\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss"></string>
     <string name="toast_transanction_amount_required">  
diff --git a/app/res/values-es-rMX/strings.xml b/app/res/values-es-rMX/strings.xml
index f28f06ab..1b117671 100644
--- a/app/res/values-es-rMX/strings.xml
+++ b/app/res/values-es-rMX/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Israel Buitron <israel.buitron@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Israel Buitron <israel.buitron@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">Active esta opci&#243;n para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
 	<string name="title_whats_new">&#191;Qu&#233; hay nuevo?</string>
 	<string name="whats_new">
-        - Importaci&#243;n de estructura de cuentas de GnuCash para escritorio\n
-        - Visualizaci\'on de cuentas jer&#225;rquicas\n
-        - Opciones para eliminaci&#243;n de todas las cuentas/transacciones\n
-        - Soporte preeliminar para tipos de cuentas\n
-        - Saldo de cuenta considera saldos de subcuentas\n
-        - Varios errores solucionados\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Cerrar</string>
     <string name="toast_transanction_amount_required">Ingrese el saldo para guardar la transacci&#243;n</string>
diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 2d48ed28..092d2001 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 - 2013 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 - 2013 Jorge Martnez Lpez <jorgeml@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Jorge Martnez Lpez <jorgeml@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">Active esta opci&#243;n para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
 	<string name="title_whats_new">Novedades</string>
 	<string name="whats_new">
-        - Importa estructuras de cuentas de GnuCash para escritorio\n
-        - Muestra jerarqu&#237;a de cuentas anidada\n
-        - Opciones para eliminar todas las cuentas y transacciones\n
-        - Soporte preliminar de tipo de cuentas\n
-        - El balance de la cuenta tiene en consideraci&#243;n las sub-cuentas\n
-        - Varios bugs solucionados\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Cerrar</string>
     <string name="toast_transanction_amount_required">Introduzca un importe para guardar la transacci&#243;n</string>
diff --git a/app/res/values-fr/strings.xml b/app/res/values-fr/strings.xml
index c1c4994b..66e77c3a 100644
--- a/app/res/values-fr/strings.xml
+++ b/app/res/values-fr/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Nicolas Barranger <wicowyn@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Nicolas Barranger <wicowyn@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">Activez cette option lors d\'un export vers une application tierce autre que GnuCash pour PC</string>
 	<string name="title_whats_new">Quoi de nouveau</string>
 	<string name="whats_new">
-        - Import de l\'organisation des comptes GnuCash pour PC\n
-        - Affichage imbriqu&#233; de la hi&#233;rarchie de compte\n
-        - Options permettant d\'effacer tous les comptes/transactions\n
-        - Le support des types de comptes\n
-        - La solde du compte prend maintenant les sous-comptes en consid&#233;ration\n
-        - Nombreuses corrections de bugs\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Passer</string>
     <string name="toast_transanction_amount_required">Entrez un montant pour sauvgarder la transaction</string>
diff --git a/app/res/values-hu/strings.xml b/app/res/values-hu/strings.xml
index d91d4728..0a099542 100644
--- a/app/res/values-hu/strings.xml
+++ b/app/res/values-hu/strings.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index a79ca66d..8fcd274d 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Cristian Marchi <cri.penta@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Cristian Marchi <cri.penta@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">Abilitare questa opzione quando si esporta verso un\'applicazione diversa da GnuCash versione desktop</string>
 	<string name="title_whats_new">Novit</string>
 	<string name="whats_new">
-        - Importazione struttura dei conti da GnuCash desktop\n
-        - Visualizzazione ad albero della struttura dei conti\n
-        - Opzione per eliminare tutti i conti e le transazioni\n
-        - Supporto preliminare per i tipi di conti\n
-        - Il saldo del conto considera ora anche i sotto-conti\n
-        - Molte correzioni di bug\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Chiudi</string>
     <string name="toast_transanction_amount_required">Inserire un importo per salvare la transazione</string>
diff --git a/app/res/values-nb/strings.xml b/app/res/values-nb/strings.xml
index 7afe4794..ee1beea1 100644
--- a/app/res/values-nb/strings.xml
+++ b/app/res/values-nb/strings.xml
@@ -1,8 +1,8 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Kjell Thomas Pedersen <kjelltp@gmail.com>
- Copyright (c) 2012 Sigurd Gartmann <sigurdga-github@sigurdga.no>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Kjell Thomas Pedersen <kjelltp@gmail.com>
+ Copyright (c) 2012 - 2014 Sigurd Gartmann <sigurdga-github@sigurdga.no>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -310,12 +310,14 @@ format og importeres i regnskapsprogrammet GnuCash for PC.</string>
 	<string name="summary_xml_ofx_header">Velg denne hvis du skal eksportere til annen programvare enn GnuCash for PC.</string>
 	<string name="title_whats_new">Hva er nytt</string>
 	<string name="whats_new">
-        - Importering av GnuCash (PC) konto struktur\n
-        - Nestet visning av konto hierarki\n
-        - Valg for sletting av alle transaksjoner/kontoer\n
-        - Forelpig sttte for kontotyper\n
-        - Konto balanse inkluderer n underkontoer\n
-        - Mange feilrettinger\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Ferdig</string>
     <string name="toast_transanction_amount_required">Oppgi et belp for  lagre transaksjonen</string>
diff --git a/app/res/values-nl/strings.xml b/app/res/values-nl/strings.xml
index 880dd477..2101a9ec 100644
--- a/app/res/values-nl/strings.xml
+++ b/app/res/values-nl/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Geert Janssens <janssens-geert@telenet.be>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Geert Janssens <janssens-geert@telenet.be>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">Schakel deze optie in als u naar een applicatie anders dan GnuCash wil exporteren</string>
 	<string name="title_whats_new">Nieuw sinds de vorige versie</string>
 	<string name="whats_new">
-        - Import GnuCash desktop account structure\n
-        - Nested display of account hierarchy\n
-        - Options for deleting all accounts/transactions\n
-        - Preliminary support for account types\n
-        - Account balance now takes sub-accounts into consideration\n
-        - Numerous bug fixes\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Wijs af</string>
     <string name="toast_transanction_amount_required">Vul een bedrag in om de transactie op te slaan.</string>
diff --git a/app/res/values-pt-rBR/strings.xml b/app/res/values-pt-rBR/strings.xml
index d72f4c5e..72ad95ba 100644
--- a/app/res/values-pt-rBR/strings.xml
+++ b/app/res/values-pt-rBR/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 Pedro Abel <pedroabel@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Pedro Abel <pedroabel@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -306,12 +306,14 @@
 	  <string name="summary_xml_ofx_header">Habilitar essa opo quando estiver exportando para um software terceiro, diferente do GnuCash para desktop</string>
 	  <string name="title_whats_new">O que h de novo</string>
 	  <string name="whats_new">
-          - Importao da estrutura de contas do GnuCash para desktop\n
-          - Apresentao de contas alinhadas hierarquicamente\n
-          - Opes para deletar todas as contas/transaes\n
-          - Suporte preliminar para tipos de contas\n
-          - Saldos das sub-contas agora so considerados ao apresentar o saldo da conta principal\n
-          - Diversas correes de bugs\n
+          - Mark favorite accounts and quickly access them\n
+          - Display different tabs for recent, favorite and all accounts\n
+          - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+          - Mark accounts as placeholder accounts (cannot contain transactions)\n
+          - Set a default transfer account for each account\n
+          - Color code accounts and themed account views\n
+          - Create default GnuCash account structure from within app\n
+          - Numerous bug fixes and improvements\n
 	  </string>
 	  <string name="label_dismiss">Descartar</string>
     <string name="toast_transanction_amount_required">Adicione um valor para salvar a transao</string>
diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 0e0de000..33aabfe5 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012-13 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012-13 Alexander Galanin <al@galanin.nnov.ru>
+ Copyright (c) 2012-14 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012-14 Alexander Galanin <al@galanin.nnov.ru>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -307,12 +307,14 @@
 	<string name="summary_xml_ofx_header">  ,       GnuCash  </string>
 	<string name="title_whats_new"></string>
 	<string name="whats_new">
-        -     GnuCash  \n
-        -  \n
-        -    /\n
-        -     \n
-        -      \n
-        -   \n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss"></string>
     <string name="toast_transanction_amount_required"> ,   </string>
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 3eb95406..0e75dafd 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8" standalone="no"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -305,12 +305,14 @@
     <string name="summary_xml_ofx_header">GnuCash</string>
     <string name="title_whats_new"></string>
     <string name="whats_new">
-        - GnuCash\n
-        - \n
-        - \n
-        - \n
-        - \n
-        - BUG\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
     <string name="label_dismiss"></string>
     <string name="toast_transanction_amount_required"></string>
diff --git a/app/res/values/strings.xml b/app/res/values/strings.xml
index 63948515..184aad25 100644
--- a/app/res/values/strings.xml
+++ b/app/res/values/strings.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
@@ -500,12 +500,14 @@
 	<string name="key_previous_minor_version">previous_minor_version</string>
 	<string name="title_whats_new">What\'s New</string>
 	<string name="whats_new">
-        - Import GnuCash desktop account structure\n
-        - Nested display of account hierarchy\n
-        - Options for deleting all accounts/transactions\n
-        - Preliminary support for account types\n
-        - Account balance now takes sub-accounts into consideration\n
-        - Numerous bug fixes\n
+        - Mark favorite accounts and quickly access them\n
+        - Display different tabs for recent, favorite and all accounts\n
+        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
+        - Mark accounts as placeholder accounts (cannot contain transactions)\n
+        - Set a default transfer account for each account\n
+        - Color code accounts and themed account views\n
+        - Create default GnuCash account structure from within app\n
+        - Numerous bug fixes and improvements\n
 	</string>
 	<string name="label_dismiss">Dismiss</string>
     <string name="toast_transanction_amount_required">Enter an amount to save the transaction</string>
diff --git a/app/res/xml/preference_headers.xml b/app/res/xml/preference_headers.xml
index 1f39430a..6f9ffbae 100644
--- a/app/res/xml/preference_headers.xml
+++ b/app/res/xml/preference_headers.xml
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
- Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
diff --git a/integration-tests/pom.xml b/integration-tests/pom.xml
index 11012683..274c36a7 100644
--- a/integration-tests/pom.xml
+++ b/integration-tests/pom.xml
@@ -17,7 +17,7 @@
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
     <parent>
-		<version>1.2.7-SNAPSHOT</version>
+		<version>1.3.0-SNAPSHOT</version>
 		<groupId>org.gnucash.android</groupId>
 		<artifactId>gnucash-android-parent</artifactId>
 	</parent>
diff --git a/pom.xml b/pom.xml
index 552484c9..3752af57 100644
--- a/pom.xml
+++ b/pom.xml
@@ -17,7 +17,7 @@
 
 <project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
     <modelVersion>4.0.0</modelVersion>
-	<version>1.2.7-SNAPSHOT</version>
+	<version>1.3.0-SNAPSHOT</version>
     <groupId>org.gnucash.android</groupId>
     <artifactId>gnucash-android-parent</artifactId>
     <name>GnuCash Android parent</name>

From 874ec30494d6dc989ef92a38725d77a7603906dc Mon Sep 17 00:00:00 2001
From: Cristian Marchi <cri79@libero.it>
Date: Wed, 5 Feb 2014 21:16:06 +0100
Subject: [PATCH 39/43] Update Italian translation

---
 app/res/values-it/strings.xml | 86 +++++++++++++++++++++----------------------
 1 file changed, 43 insertions(+), 43 deletions(-)

diff --git a/app/res/values-it/strings.xml b/app/res/values-it/strings.xml
index 8fcd274d..5e993f1c 100644
--- a/app/res/values-it/strings.xml
+++ b/app/res/values-it/strings.xml
@@ -50,7 +50,7 @@
     <string name="title_selected">%1$d selezionate</string>
     <string name="label_transactions_total">Somma totale:</string>
     <string name="label_export_destination">Destinazione di esportazione</string>
-    <string name="title_export_dialog">Export Transactions</string>
+    <string name="title_export_dialog">Esporta transazioni</string>
     <string name="option_export_all_transactions">Esporta tutte le transazioni</string>
     <string name="hint_export_choice">Di default, verranno esportate solo le transazioni dall\'ultima esportazione. Selezionare questa opzione per esportare tutte le transazioni</string>
     <string name="error_exporting">Errore nell\'esportazione dei dati OFX</string>    
@@ -73,10 +73,10 @@
     <string name="title_choose_currency">Selezione della valuta predefinita</string>
     <string name="title_default_currency">Valuta predefinita</string>
     <string name="summary_default_currency">Valuta predefinita da assegnare ai nuovi conti</string>
-    <string name="label_permission_record_transactions">Abilita la registrazione delle transazioni in Gnucash per Android</string>
-    <string name="label_permission_create_accounts">Abilita la creazione dei conti in Gnucash per Android</string>
-    <string name="label_permission_group">I propri dati di Gnucash</string>
-    <string name="description_permission_group">Legge e modifica i dati di Gnucash</string>
+    <string name="label_permission_record_transactions">Abilita la registrazione delle transazioni in GnuCash per Android</string>
+    <string name="label_permission_create_accounts">Abilita la creazione dei conti in GnuCash per Android</string>
+    <string name="label_permission_group">I propri dati di GnuCash</string>
+    <string name="description_permission_group">Legge e modifica i dati di GnuCash</string>
     <string name="label_permission_record_transaction">registra transazione</string>
     <string name="label_permission_create_account">crea conti</string>
     <string name="label_display_account">Visualizza conto</string>
@@ -273,7 +273,7 @@
 	<string name="title_general_prefs">Generale</string>
 	<string name="label_widget_configuration">Seleziona conto</string>
 	<string name="toast_no_transactions_to_export">Non sono disponibili transazioni da esportare</string>
-	<string name="title_about_gnucash">Informazioni su GnuCcash</string>
+	<string name="title_about_gnucash">Informazioni su GnuCash</string>
 	<string name="summary_about_gnucash">GnuCashMobile &#232; un\'applicazione Android per tenere traccia delle proprie spese.\nPermette di registrare le proprie uscite al volo, di esportarle in formato OFX (Open Financial eXchange) e di importarle nella versione desktop di GnuCash.</string>
 	<string name="title_about">Informazioni</string>
 	<string name="toast_error_exporting">Impossibile scrivere il file OFX in:\n</string>
@@ -307,14 +307,14 @@
 	<string name="summary_xml_ofx_header">Abilitare questa opzione quando si esporta verso un\'applicazione diversa da GnuCash versione desktop</string>
 	<string name="title_whats_new">Novit</string>
 	<string name="whats_new">
-        - Mark favorite accounts and quickly access them\n
-        - Display different tabs for recent, favorite and all accounts\n
-        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
-        - Mark accounts as placeholder accounts (cannot contain transactions)\n
-        - Set a default transfer account for each account\n
-        - Color code accounts and themed account views\n
-        - Create default GnuCash account structure from within app\n
-        - Numerous bug fixes and improvements\n
+        - Possibilit di marcare i conti come preferiti per acecdervi pi velocemente\n
+        - Visualizzazione di diverse schede per i conti recenti, favoriti e per tutti i conti\n
+        - Aggiunta, visualizzazione ed eliminazione delle transazioni pianificate (quotidiane, settimanali, mensili)\n
+        - Possibilit di identificare i conti come segnalibro (non possono contenere transazioni)\n
+        - Possibilit di impostare un conto di trasferimento predefinito per ogni conto\n
+        - Introdotti i colori per i conti e le viste a tema\n
+        - Introdotta la possibilit di creare una struttura dei conti all\'interno dell\'app\n
+        - Sono state introdotte varie migliorie e molti problemi sono stati corretti\n
 	</string>
 	<string name="label_dismiss">Chiudi</string>
     <string name="toast_transanction_amount_required">Inserire un importo per salvare la transazione</string>
@@ -336,23 +336,23 @@
     <string name="summary_delete_all_transactions">Verranno eliminate tutte le transazioni in tutti i conti</string>
     <string name="title_delete_all_transactions">Elimina tutte le transazioni</string>
     <string name="toast_all_transactions_deleted">Tutte le transazioni sono state eliminate!</string>
-    <string name="title_progress_importing_accounts">Importing accounts</string>
-    <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
-    <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_subaccounts">Sub-Accounts</string>
-    <string name="menu_search_accounts">Search</string>
-    <string name="title_default_export_format">Default Export Format</string>
-    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions</string>
-    <string name="label_recurring_transaction">Recurrence</string>
+    <string name="title_progress_importing_accounts">Importazione dei conti</string>
+    <string name="toast_tap_again_to_confirm_delete">Premere di nuovo per confermare. Tutti gli elementi verranno rimossi!!</string>
+    <string name="section_header_transactions">Transazioni</string>
+    <string name="section_header_subaccounts">Sotto-conti</string>
+    <string name="menu_search_accounts">Cerca</string>
+    <string name="title_default_export_format">Formato predefinito di esportazione</string>
+    <string name="summary_default_export_format">Formato di file predefinito da utilizzare per l\'esportazione delle transazioni</string>
+    <string name="menu_export_transactions">Esporta transazioni</string>
+    <string name="label_recurring_transaction">Ricorrenza</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
-    <string name="imbalance_account_name">Imbalance</string>
-    <string name="title_progress_exporting_transactions">Exporting transactions</string>
-    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
-    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
-    <string name="label_placeholder_account">Placeholder account</string>
-    <string name="label_default_transfer_account">Default Transfer Account</string>
-    <string name="label_account_color_and_type">Account Color &amp; Type</string>
+    <string name="imbalance_account_name">Sbilancio</string>
+    <string name="title_progress_exporting_transactions">Esportazione transazioni</string>
+    <string name="label_no_recurring_transactions">Nessuna transazione pianificata da visualizzare.</string>
+    <string name="toast_recurring_transaction_deleted">Transazione pianificata eliminata</string>
+    <string name="label_placeholder_account">Conto segnalibro</string>
+    <string name="label_default_transfer_account">DConto predefinito di trasferimento</string>
+    <string name="label_account_color_and_type">Tipo e colore del conto</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sotto-conto</item>
         <item quantity="other">%d sotto-conti</item>
@@ -377,19 +377,19 @@
         <item>OFX</item>
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
-    <string name="color_picker_default_title">Select a Color</string>
-    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
-    <string name="title_recent_accounts">Recent</string>
-    <string name="title_favorite_accounts">Favorites</string>
-    <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
-    <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
-        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    <string name="color_picker_default_title">Selezione del colore</string>
+    <string name="label_delete_sub_accounts">Elimina i sottoconti</string>
+    <string name="title_recent_accounts">Recenti</string>
+    <string name="title_favorite_accounts">Favoriti</string>
+    <string name="title_all_accounts">Tutti</string>
+    <string name="summary_create_default_accounts">Crea la struttura predefinita dei conti comuni di GnuCash</string>
+    <string name="title_create_default_accounts">Crea conti predefiniti</string>
+    <string name="message_confirm_create_default_accounts_setting">I nuovi conti saranno aggiunti alla struttura esistente.\n\n
+        Per sostituire i conti esistenti, occorre eliminarli prima di proseguire!
     </string>
-    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
-    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
-        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
-        available in app Settings so you can decide later.
+    <string name="menu_item_recurring_transactions">Transazioni pianificate</string>
+    <string name="message_confirm_create_default_accounts_first_run">Benvenuti in GnuCash per Android! \n possibile
+        creare una struttura dei conti pi comunemente utilizzati o importare la propria struttura da GnuCash. \n\nEntrambe le
+        Opzioni sono disponibili nelle impostazioni dell\'applicazione ed  quindi possibile decidere in seguito.
     </string>
 </resources>

From 8e7b97418322f644b29feb189e62f8d22602a006 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 6 Feb 2014 15:58:52 +0100
Subject: [PATCH 40/43] Fixed: transaction is inverted when open for editing
 Fixed: Home button in recurring transactions view does not work Fixed:
 Settings menu now visible in recurring transactions view Fixed: crash when
 opening Settings on Android versions < HONEYCOMB Updated copyright notices
 Prepare strings for v1.3.0.beta2 release

---
 CHANGELOG.md                                       |  2 +-
 CONTRIBUTORS                                       |  2 +-
 app/AndroidManifest.xml                            |  4 +--
 app/res/values-de/strings.xml                      |  2 +-
 app/res/values-zh/strings.xml                      |  1 +
 .../gnucash/android/app/GnuCashApplication.java    | 15 +++++++++++
 app/src/org/gnucash/android/data/Money.java        |  2 +-
 app/src/org/gnucash/android/data/Transaction.java  |  2 +-
 .../org/gnucash/android/db/AccountsDbAdapter.java  |  2 +-
 .../org/gnucash/android/db/DatabaseAdapter.java    |  2 +-
 .../gnucash/android/db/DatabaseCursorLoader.java   |  2 +-
 app/src/org/gnucash/android/db/DatabaseHelper.java |  2 +-
 .../gnucash/android/db/TransactionsDbAdapter.java  |  2 +-
 .../gnucash/android/export/ofx/OfxExporter.java    |  2 +-
 .../gnucash/android/export/qif/QifExporter.java    | 15 +++++++++++
 .../org/gnucash/android/export/qif/QifHelper.java  | 16 +++++++++++
 .../android/ui/accounts/AccountsActivity.java      | 22 +++++++--------
 .../android/ui/accounts/AccountsListFragment.java  |  4 ---
 .../android/ui/accounts/AddAccountFragment.java    |  2 +-
 .../android/ui/settings/SettingsActivity.java      |  6 +++--
 .../ui/transactions/NewTransactionFragment.java    | 13 +++------
 .../RecurringTransactionsListFragment.java         | 31 +++++++++++++++-------
 .../TransactionsDeleteConfirmationDialog.java      | 15 +++++++++++
 .../ui/transactions/TransactionsListFragment.java  |  2 +-
 .../android/util/CheckableLinearLayout.java        |  2 +-
 .../android/util/GnucashAccountXmlHandler.java     |  2 +-
 .../util/QualifiedAccountNameCursorAdapter.java    |  2 +-
 27 files changed, 120 insertions(+), 54 deletions(-)

diff --git a/CHANGELOG.md b/CHANGELOG.md
index 839de7df..71396043 100644
--- a/CHANGELOG.md
+++ b/CHANGELOG.md
@@ -1,6 +1,6 @@
 Change Log
 ===============================================================================
-Version 1.3.0 *(2014-02-07)*
+Version 1.3.0 *(2014-02-10)*
 ----------------------------
 * Fixed: Some file managers do not display all files available for import
 * Fixed: Crash when deleting account from accounts list
diff --git a/CONTRIBUTORS b/CONTRIBUTORS
index 2f0bf20f..a33fd3cc 100644
--- a/CONTRIBUTORS
+++ b/CONTRIBUTORS
@@ -16,4 +16,4 @@ Nicolas Barranger <wicowyn@gmail.com>
 Sigurd Gartmann <sigurdga-github@sigurdga.no>
 Pedro Abel <pedroabel@gmail.com>
 windwarrior <lennartbuit@gmail.com>
-lxbzmy <lxbzmy@gmail.com>
\ No newline at end of file
+Lei Xiao Bao <lxbzmy@gmail.com>
\ No newline at end of file
diff --git a/app/AndroidManifest.xml b/app/AndroidManifest.xml
index dcfbd466..d33c1f01 100644
--- a/app/AndroidManifest.xml
+++ b/app/AndroidManifest.xml
@@ -17,8 +17,8 @@
 
 <manifest xmlns:android="http://schemas.android.com/apk/res/android"
     package="org.gnucash.android"
-    android:versionCode="23"
-    android:versionName="1.3.0.beta1" >
+    android:versionCode="24"
+    android:versionName="1.3.0.beta2" >
 
     <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="15"/>
     
diff --git a/app/res/values-de/strings.xml b/app/res/values-de/strings.xml
index e4763748..1180e77c 100644
--- a/app/res/values-de/strings.xml
+++ b/app/res/values-de/strings.xml
@@ -1,7 +1,7 @@
 <?xml version="1.0" encoding="utf-8"?>
 <!--
  Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
- Copyright (c) 2012 - 2014 Christian Stimming <christian@stimming.de>
+ Copyright (c) 2012 - 2013 Christian Stimming <christian@stimming.de>
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
diff --git a/app/res/values-zh/strings.xml b/app/res/values-zh/strings.xml
index 0e75dafd..a3d33326 100644
--- a/app/res/values-zh/strings.xml
+++ b/app/res/values-zh/strings.xml
@@ -1,6 +1,7 @@
 <?xml version="1.0" encoding="utf-8" standalone="no"?>
 <!--
  Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
+ Copyright (c) 2013 - 2014 Lei Xiao Bao <lxbzmy@gmail.com>
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/app/GnuCashApplication.java b/app/src/org/gnucash/android/app/GnuCashApplication.java
index 38c6113d..b18d4e1b 100644
--- a/app/src/org/gnucash/android/app/GnuCashApplication.java
+++ b/app/src/org/gnucash/android/app/GnuCashApplication.java
@@ -1,3 +1,18 @@
+/*
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 package org.gnucash.android.app;
 
 import android.app.Application;
diff --git a/app/src/org/gnucash/android/data/Money.java b/app/src/org/gnucash/android/data/Money.java
index 825fd326..dca7499f 100644
--- a/app/src/org/gnucash/android/data/Money.java
+++ b/app/src/org/gnucash/android/data/Money.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/data/Transaction.java b/app/src/org/gnucash/android/data/Transaction.java
index 991ccb46..b48441f3 100644
--- a/app/src/org/gnucash/android/data/Transaction.java
+++ b/app/src/org/gnucash/android/data/Transaction.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/db/AccountsDbAdapter.java b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
index a928f431..f67ee259 100644
--- a/app/src/org/gnucash/android/db/AccountsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/AccountsDbAdapter.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/db/DatabaseAdapter.java b/app/src/org/gnucash/android/db/DatabaseAdapter.java
index 620c8b93..84a71b3d 100644
--- a/app/src/org/gnucash/android/db/DatabaseAdapter.java
+++ b/app/src/org/gnucash/android/db/DatabaseAdapter.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/db/DatabaseCursorLoader.java b/app/src/org/gnucash/android/db/DatabaseCursorLoader.java
index 88dc7c73..b8bd5de7 100644
--- a/app/src/org/gnucash/android/db/DatabaseCursorLoader.java
+++ b/app/src/org/gnucash/android/db/DatabaseCursorLoader.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/db/DatabaseHelper.java b/app/src/org/gnucash/android/db/DatabaseHelper.java
index f27a7527..49bc5fe0 100644
--- a/app/src/org/gnucash/android/db/DatabaseHelper.java
+++ b/app/src/org/gnucash/android/db/DatabaseHelper.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
index ed9c1fd5..ad97dca5 100644
--- a/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
+++ b/app/src/org/gnucash/android/db/TransactionsDbAdapter.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/export/ofx/OfxExporter.java b/app/src/org/gnucash/android/export/ofx/OfxExporter.java
index 5578670e..439a4f59 100644
--- a/app/src/org/gnucash/android/export/ofx/OfxExporter.java
+++ b/app/src/org/gnucash/android/export/ofx/OfxExporter.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/export/qif/QifExporter.java b/app/src/org/gnucash/android/export/qif/QifExporter.java
index 35f8c557..71dbb23c 100644
--- a/app/src/org/gnucash/android/export/qif/QifExporter.java
+++ b/app/src/org/gnucash/android/export/qif/QifExporter.java
@@ -1,3 +1,18 @@
+/*
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 package org.gnucash.android.export.qif;
 
 import android.content.Context;
diff --git a/app/src/org/gnucash/android/export/qif/QifHelper.java b/app/src/org/gnucash/android/export/qif/QifHelper.java
index 64ef915a..1ca72be6 100644
--- a/app/src/org/gnucash/android/export/qif/QifHelper.java
+++ b/app/src/org/gnucash/android/export/qif/QifHelper.java
@@ -1,3 +1,19 @@
+/*
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
 package org.gnucash.android.export.qif;
 
 import org.gnucash.android.R;
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
index b72ca236..4cfc6558 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsActivity.java
@@ -48,6 +48,7 @@
 import org.gnucash.android.R;
 import org.gnucash.android.data.Money;
 import org.gnucash.android.ui.Refreshable;
+import org.gnucash.android.ui.settings.SettingsActivity;
 import org.gnucash.android.ui.transactions.RecurringTransactionsListFragment;
 import org.gnucash.android.ui.transactions.TransactionsActivity;
 import org.gnucash.android.ui.transactions.TransactionsListFragment;
@@ -242,14 +243,15 @@ private void init() {
 
         Money.DEFAULT_CURRENCY_CODE = currencyCode;
 
-        if (hasNewFeatures()){
-            showWhatsNewDialog(this);
-        }
-
         boolean firstRun = prefs.getBoolean(getString(R.string.key_first_run), true);
         if (firstRun){
             createDefaultAccounts();
         }
+
+        if (hasNewFeatures()){
+            showWhatsNewDialog(this);
+        }
+
     }
 
     @Override
@@ -321,18 +323,16 @@ public boolean onCreateOptionsMenu(Menu menu) {
 	@Override
 	public boolean onOptionsItemSelected(MenuItem item) {
 		switch (item.getItemId()) {
-		case android.R.id.home:
-	        FragmentManager fm = getSupportFragmentManager();
-	        if (fm.getBackStackEntryCount() > 0) {
-	            fm.popBackStack();
-	        }
-	        return true;
-
             case R.id.menu_recurring_transactions:
                 Intent intent = new Intent(this, AccountsActivity.class);
                 intent.setAction(ACTION_VIEW_RECURRING);
                 startActivity(intent);
                 return true;
+
+            case R.id.menu_settings:
+                startActivity(new Intent(this, SettingsActivity.class));
+                return true;
+
 		default:
 			return false;
 		}
diff --git a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
index 2a27be03..cf8e1cf0 100644
--- a/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AccountsListFragment.java
@@ -400,10 +400,6 @@ public boolean onOptionsItemSelected(MenuItem item) {
                 showExportDialog();
                 return true;
 
-            case R.id.menu_settings:
-                startActivity(new Intent(getActivity(), SettingsActivity.class));
-                return true;
-
             default:
                 return false;
         }
diff --git a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
index 974660a7..a1ed79b2 100644
--- a/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
+++ b/app/src/org/gnucash/android/ui/accounts/AddAccountFragment.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/ui/settings/SettingsActivity.java b/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
index 49d7f497..813c6f0c 100644
--- a/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
+++ b/app/src/org/gnucash/android/ui/settings/SettingsActivity.java
@@ -121,8 +121,10 @@ protected void onCreate(Bundle savedInstanceState) {
             pref = findPreference(getString(R.string.key_build_version));
             pref.setOnPreferenceClickListener(this);
 
-            pref = findPreference(getString(R.string.key_create_default_accounts));
-            pref.setOnPreferenceClickListener(this);
+            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB){
+                pref = findPreference(getString(R.string.key_create_default_accounts));
+                pref.setOnPreferenceClickListener(this);
+            }
 		}
 	}
 
diff --git a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
index f6b9ef05..cfca06fc 100644
--- a/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/NewTransactionFragment.java
@@ -319,16 +319,11 @@ public void onItemClick(AdapterView<?> adapterView, View view, int position, lon
 	private void initializeViewsWithTransaction(){
 		mNameEditText.setText(mTransaction.getName());
 
-        //FIXME: Better handle the different kinds of accounts and how transfers between the different types affect balance
+        //FIXME: You need to revisit me when splits are introduced
         //checking the type button means the amount will be shown as negative (in red) to user
-//        if (mAccountType.hasDebitNormalBalance()){
-//            mTransactionTypeButton.setChecked();
-//            mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.CREDIT);
-//        }
-//        else {
-//            mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
-//        }
-        mTransactionTypeButton.setChecked(mTransaction.getTransactionType() == TransactionType.DEBIT);
+
+        mTransactionTypeButton.setChecked(mTransaction.getAmount().isNegative());
+
 		if (!mAmountManuallyEdited){
             //when autocompleting, only change the amount if the user has not manually changed it already
             mAmountEditText.setText(mTransaction.getAmount().toPlainString());
diff --git a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
index a09e3afe..4563d0b1 100644
--- a/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/RecurringTransactionsListFragment.java
@@ -57,7 +57,7 @@
     /**
      * Logging tag
      */
-    protected static final String TAG = "TransactionsListFragment";
+    protected static final String TAG = "RecurringTransactionsFragment";
 
     private TransactionsDbAdapter mTransactionsDbAdapter;
     private SimpleCursorAdapter mCursorAdapter;
@@ -112,7 +112,7 @@ public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
                         alarmManager.cancel(recurringPendingIntent);
                         if (mTransactionsDbAdapter.deleteRecord(id)){
                             Toast.makeText(getActivity(), R.string.toast_recurring_transaction_deleted, Toast.LENGTH_SHORT).show();
-                        };
+                        }
                     }
                     refreshList();
                     mode.finish();
@@ -148,10 +148,11 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,
     public void onActivityCreated(Bundle savedInstanceState) {
         super.onActivityCreated(savedInstanceState);
 
-        ActionBar aBar = getSherlockActivity().getSupportActionBar();
-        aBar.setDisplayShowTitleEnabled(true);
-        aBar.setDisplayHomeAsUpEnabled(true);
-        aBar.setTitle("Recurring Transactions");
+        ActionBar actionBar = getSherlockActivity().getSupportActionBar();
+        actionBar.setDisplayShowTitleEnabled(true);
+        actionBar.setDisplayHomeAsUpEnabled(true);
+        actionBar.setHomeButtonEnabled(true);
+        actionBar.setTitle("Recurring Transactions");
 
         setHasOptionsMenu(true);
         getListView().setChoiceMode(ListView.CHOICE_MODE_MULTIPLE);
@@ -209,7 +210,18 @@ public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {
 //        inflater.inflate(R.menu.transactions_list_actions, menu);
         //remove menu items from the AccountsActivity
         menu.removeItem(R.id.menu_search);
-        menu.removeItem(R.id.menu_settings);
+//        menu.removeItem(R.id.menu_settings);
+    }
+
+    @Override
+    public boolean onOptionsItemSelected(MenuItem item) {
+        switch (item.getItemId()){
+            case android.R.id.home:
+                getActivity().finish();
+                return true;
+            default:
+                return false;
+        }
     }
 
     @Override
@@ -284,10 +296,9 @@ private void startActionMode(){
      */
     private void stopActionMode(){
         int checkedCount = getListView().getCheckedItemIds().length;
-        if (checkedCount > 0 || mActionMode == null)
-            return;
-        else
+        if (checkedCount <= 0 && mActionMode != null) {
             mActionMode.finish();
+        }
     }
 
 
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
index 38f57029..cb134172 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsDeleteConfirmationDialog.java
@@ -1,3 +1,18 @@
+/*
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
 package org.gnucash.android.ui.transactions;
 
 import org.gnucash.android.R;
diff --git a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
index 570a2e97..d1395397 100644
--- a/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
+++ b/app/src/org/gnucash/android/ui/transactions/TransactionsListFragment.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2012 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2012 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/util/CheckableLinearLayout.java b/app/src/org/gnucash/android/util/CheckableLinearLayout.java
index 5dc111d6..4c8e2d03 100644
--- a/app/src/org/gnucash/android/util/CheckableLinearLayout.java
+++ b/app/src/org/gnucash/android/util/CheckableLinearLayout.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
index 9f292139..d3f62f79 100644
--- a/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
+++ b/app/src/org/gnucash/android/util/GnucashAccountXmlHandler.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
diff --git a/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java b/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
index 2390f76d..2d1b6c64 100644
--- a/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
+++ b/app/src/org/gnucash/android/util/QualifiedAccountNameCursorAdapter.java
@@ -1,5 +1,5 @@
 /*
- * Copyright (c) 2013 Ngewi Fet <ngewif@gmail.com>
+ * Copyright (c) 2013 - 2014 Ngewi Fet <ngewif@gmail.com>
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.

From 9d92bf5a25d68960346b5c80fa2d9dc62de9d54d Mon Sep 17 00:00:00 2001
From: Alexander Galanin <al@galanin.nnov.ru>
Date: Thu, 6 Feb 2014 20:19:33 +0300
Subject: [PATCH 41/43] Updated Russian translation

---
 app/res/values-ru/strings.xml | 69 ++++++++++++++++++++++---------------------
 1 file changed, 36 insertions(+), 33 deletions(-)

diff --git a/app/res/values-ru/strings.xml b/app/res/values-ru/strings.xml
index 33aabfe5..a2d742a6 100644
--- a/app/res/values-ru/strings.xml
+++ b/app/res/values-ru/strings.xml
@@ -307,14 +307,14 @@
 	<string name="summary_xml_ofx_header">  ,       GnuCash  </string>
 	<string name="title_whats_new"></string>
 	<string name="whats_new">
-        - Mark favorite accounts and quickly access them\n
-        - Display different tabs for recent, favorite and all accounts\n
-        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
-        - Mark accounts as placeholder accounts (cannot contain transactions)\n
-        - Set a default transfer account for each account\n
-        - Color code accounts and themed account views\n
-        - Create default GnuCash account structure from within app\n
-        - Numerous bug fixes and improvements\n
+        -      \n
+        -     ,     \n
+        - ,      (, , )\n
+        -    (   ,  )\n
+        -        \n
+        -       \n
+        -     \n
+        -    \n
 	</string>
 	<string name="label_dismiss"></string>
     <string name="toast_transanction_amount_required"> ,   </string>
@@ -341,15 +341,15 @@
     <string name="title_default_export_format">   </string>
     <string name="summary_default_export_format"> ,     </string>
     <string name="menu_export_transactions"> </string>
-    <string name="label_recurring_transaction">Recurrence</string>
+    <string name="label_recurring_transaction"> </string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
     <string name="imbalance_account_name"></string>
     <string name="title_progress_exporting_transactions"> </string>
-    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
-    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
-    <string name="label_placeholder_account">Placeholder account</string>
-    <string name="label_default_transfer_account">Default Transfer Account</string>
-    <string name="label_account_color_and_type">Account Color &amp; Type</string>
+    <string name="label_no_recurring_transactions">  .</string>
+    <string name="toast_recurring_transaction_deleted">   </string>
+    <string name="label_placeholder_account"> </string>
+    <string name="label_default_transfer_account">   </string>
+    <string name="label_account_color_and_type"> &amp;  </string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d  </item>
         <item quantity="other">%d .  </item>
@@ -362,31 +362,34 @@
         <item></item>
         <item></item>
         <item></item>
-        <item>PAYABLE</item>
-        <item>RECEIVABLE</item>
-        <item>EQUITY</item>
-        <item>CURRENCY</item>
-        <item>STOCK</item>
-        <item>MUTUAL FUND</item>
+        <item>/</item>
+        <item>/</item>
+        <item> </item>
+        <item> </item>
+        <item></item>
+        <item> </item>
     </string-array>
     <string-array name="export_formats">
         <item>QIF</item>
         <item>OFX</item>
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
-    <string name="color_picker_default_title">Select a Color</string>
-    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
-    <string name="title_recent_accounts">Recent</string>
-    <string name="title_favorite_accounts">Favorites</string>
-    <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
-    <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
-        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    <string name="color_picker_default_title"> </string>
+    <string name="label_delete_sub_accounts">  </string>
+    <string name="title_recent_accounts"></string>
+    <string name="title_favorite_accounts"></string>
+    <string name="title_all_accounts"></string>
+    <string name="summary_create_default_accounts">   GnuCash  </string>
+    <string name="title_create_default_accounts">   </string>
+    <string name="message_confirm_create_default_accounts_setting"> 
+               .\n\n 
+           ,   !
     </string>
-    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
-    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
-        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
-        available in app Settings so you can decide later.
+    <string name="menu_item_recurring_transactions"> </string>
+    <string name="message_confirm_create_default_accounts_first_run">
+          GnuCash  Android!\n    
+          ,      GnuCash.\n\n
+             ,   
+          .
     </string>
 </resources>

From 0eec8363d715c6608fbd377e15309443dbd73d6a Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Jorge=20Mart=C3=ADnez=20L=C3=B3pez?= <jorgeml@gmail.com>
Date: Thu, 6 Feb 2014 19:00:15 +0000
Subject: [PATCH 42/43] New Spanish translations.

---
 app/res/values-es/strings.xml | 71 +++++++++++++++++++++----------------------
 1 file changed, 34 insertions(+), 37 deletions(-)

diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 092d2001..039ed64e 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -307,14 +307,14 @@
 	<string name="summary_xml_ofx_header">Active esta opci&#243;n para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
 	<string name="title_whats_new">Novedades</string>
 	<string name="whats_new">
-        - Mark favorite accounts and quickly access them\n
-        - Display different tabs for recent, favorite and all accounts\n
-        - Add, view and delete recurring transactions (daily, weekly, monthly)\n
-        - Mark accounts as placeholder accounts (cannot contain transactions)\n
-        - Set a default transfer account for each account\n
-        - Color code accounts and themed account views\n
-        - Create default GnuCash account structure from within app\n
-        - Numerous bug fixes and improvements\n
+        - Marcar cuentas como favoritas para un acceso r&#225;pido\n
+        - Mostrar pesta&#241;as para recientes, favoritos y todas las cuentas\n
+        - A&#241;dir, ver y borrar transacciones recurrentes (diarias, semanales, mensuales)\n
+        - Marcar cuentas como cuentas de referencia (no puede contener transacciones)\n
+        - Definir una cuenta de transferencia por defecto para cada cuenta\n
+        - Escoger un color para cada cuenta y temas para las vistas de cuentas\n
+        - Crear una estructura de cuentas Gnucash por defecto desde la aplicaci&#243;\n
+        - Numerosos arreglos y mejoras\n
 	</string>
 	<string name="label_dismiss">Cerrar</string>
     <string name="toast_transanction_amount_required">Introduzca un importe para guardar la transacci&#243;n</string>
@@ -335,23 +335,23 @@
     <string name="summary_delete_all_transactions">Todas las transaccipnes en todas las cuentas ser&#225;n borradas</string>
     <string name="title_delete_all_transactions">Borrar todas las transacciones</string>
     <string name="toast_all_transactions_deleted">Todas las transacciones han sido borradas con &#233;xito</string>
-    <string name="title_progress_importing_accounts">Importing accounts</string>
-    <string name="toast_tap_again_to_confirm_delete">Tap again to confirm. ALL entries will be deleted!!</string>
-    <string name="section_header_transactions">Transactions</string>
-    <string name="section_header_subaccounts">Sub-Accounts</string>
-    <string name="menu_search_accounts">Search</string>
-    <string name="title_default_export_format">Default Export Format</string>
-    <string name="summary_default_export_format">File format to use by default when exporting transactions</string>
-    <string name="menu_export_transactions">Export transactions</string>
-    <string name="label_recurring_transaction">Recurrence</string>
+    <string name="title_progress_importing_accounts">Importando cuentas</string>
+    <string name="toast_tap_again_to_confirm_delete">Toque otra vez para confirmar. Todas las entradas sern borradas!</string>
+    <string name="section_header_transactions">Transacciones</string>
+    <string name="section_header_subaccounts">Sub-Cuentas</string>
+    <string name="menu_search_accounts">Buscar</string>
+    <string name="title_default_export_format">Formato de exportaci&#243;n por defecto</string>
+    <string name="summary_default_export_format">Formato de archivo para usar por defecto al exportar transacciones</string>
+    <string name="menu_export_transactions">Exportar transacciones</string>
+    <string name="label_recurring_transaction">Recurrencia</string>
     <!-- This should be the same name used by GnuCash desktop for imbalance accounts -->
-    <string name="imbalance_account_name">Imbalance</string>
-    <string name="title_progress_exporting_transactions">Exporting transactions</string>
-    <string name="label_no_recurring_transactions">No recurring transactions to display.</string>
-    <string name="toast_recurring_transaction_deleted">Successfully deleted recurring transaction</string>
-    <string name="label_placeholder_account">Placeholder account</string>
-    <string name="label_default_transfer_account">Default Transfer Account</string>
-    <string name="label_account_color_and_type">Account Color &amp; Type</string>
+    <string name="imbalance_account_name">Descuadre</string>
+    <string name="title_progress_exporting_transactions">Exportando transacciones</string>
+    <string name="label_no_recurring_transactions">No hay transacciones recurrentes que mostrar.</string>
+    <string name="toast_recurring_transaction_deleted">Transaci&#243;n recurrente borrada con &#233;xito</string>
+    <string name="label_placeholder_account">Cuenta de referencia</string>
+    <string name="label_default_transfer_account">Cuenta de transferencia por defecto</string>
+    <string name="label_account_color_and_type">Color y tipo de cuenta</string>
     <plurals name="label_sub_accounts">
         <item quantity="one">%d sub-cuenta</item>
         <item quantity="other">%d sub-cuentas</item>
@@ -376,19 +376,16 @@
         <item>OFX</item>
     </string-array>
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
-    <string name="color_picker_default_title">Select a Color</string>
-    <string name="label_delete_sub_accounts">Delete sub-accounts</string>
-    <string name="title_recent_accounts">Recent</string>
-    <string name="title_favorite_accounts">Favorites</string>
-    <string name="title_all_accounts">All</string>
-    <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
-    <string name="title_create_default_accounts">Create default accounts</string>
-    <string name="message_confirm_create_default_accounts_setting">New accounts will be created in addition to the existing
-        account structure.\n\nIf you wish to replace currently existing accounts, delete them first before proceeding!
+    <string name="color_picker_default_title">Seleccionar un color</string>
+    <string name="label_delete_sub_accounts">Borrar sub-cuentas</string>
+    <string name="title_recent_accounts">Reciente</string>
+    <string name="title_favorite_accounts">Favoritos</string>
+    <string name="title_all_accounts">Todas</string>
+    <string name="summary_create_default_accounts">Crea una estructura por defecto de cuentas GnuCash com&#250;nmente usadas</string>
+    <string name="title_create_default_accounts">Crear cuentas por defecto</string>
+    <string name="message_confirm_create_default_accounts_setting">Se crear&#225;n nuevas cuentas por defecto adem&#225;s de la estructura ya existente.\n\nSi desea reemplazar las cuentas ya existentes b&#243;rrelas primero antes de seguir.
     </string>
-    <string name="menu_item_recurring_transactions">Recurring Transactions</string>
-    <string name="message_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
-        a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
-        available in app Settings so you can decide later.
+    <string name="menu_item_recurring_transactions">Transacciones Recurrentes</string>
+    <string name="message_confirm_create_default_accounts_first_run">Bienvenido a GnuCash Android! \nPuede crear una jerarqu&#237;a de cuentas com&#250;nmente usadas o importar su propia estructura de cuentas GnuCash. \n\nAmbas opciones est&#225;n disponibles en las opciones de la aplicaci&#243; por si quiere decidirlo m&#225;s tarde.
     </string>
 </resources>

From c2740af0e739bc95530e98c2ebec17bb2d4054e0 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Jorge=20Mart=C3=ADnez=20L=C3=B3pez?= <jorgeml@gmail.com>
Date: Thu, 6 Feb 2014 19:03:47 +0000
Subject: [PATCH 43/43] Minor typo.

---
 app/res/values-es/strings.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/app/res/values-es/strings.xml b/app/res/values-es/strings.xml
index 039ed64e..5dd89529 100644
--- a/app/res/values-es/strings.xml
+++ b/app/res/values-es/strings.xml
@@ -386,6 +386,6 @@
     <string name="message_confirm_create_default_accounts_setting">Se crear&#225;n nuevas cuentas por defecto adem&#225;s de la estructura ya existente.\n\nSi desea reemplazar las cuentas ya existentes b&#243;rrelas primero antes de seguir.
     </string>
     <string name="menu_item_recurring_transactions">Transacciones Recurrentes</string>
-    <string name="message_confirm_create_default_accounts_first_run">Bienvenido a GnuCash Android! \nPuede crear una jerarqu&#237;a de cuentas com&#250;nmente usadas o importar su propia estructura de cuentas GnuCash. \n\nAmbas opciones est&#225;n disponibles en las opciones de la aplicaci&#243; por si quiere decidirlo m&#225;s tarde.
+    <string name="message_confirm_create_default_accounts_first_run">&#161;Bienvenido a GnuCash Android! \nPuede crear una jerarqu&#237;a de cuentas com&#250;nmente usadas o importar su propia estructura de cuentas GnuCash. \n\nAmbas opciones est&#225;n disponibles en las opciones de la aplicaci&#243; por si quiere decidirlo m&#225;s tarde.
     </string>
 </resources>
