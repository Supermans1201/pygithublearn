From e5daf4bf0b3fc7ab2897a06b87fed8366b2db353 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 25 Aug 2016 09:58:39 +0200
Subject: [PATCH 1/3] Fixes #553 - Crash when adding a widget to the homescreen
 Closes #551 - Adds the book name to the export file name

Make the Exporter work on specific databases, and not only use the currently active databased. This fixes a bug where the only the default database is exported by the ScheduledActionsService, which leads to the wrong data being exported when handling scheduled actions from other books.
Update unit tests - fix some Recurrence tests
Implement #toString() for Commodity
---
 .../android/test/ui/ExportTransactionsTest.java    |  2 +-
 .../org/gnucash/android/test/ui/MultiBookTest.java |  1 +
 .../org/gnucash/android/db/MigrationHelper.java    |  1 +
 .../gnucash/android/db/adapter/BooksDbAdapter.java | 19 +-------
 .../gnucash/android/export/ExportAsyncTask.java    | 10 ++--
 .../java/org/gnucash/android/export/Exporter.java  | 54 +++++++++++++++++-----
 .../gnucash/android/export/ofx/OfxExporter.java    | 11 +++++
 .../gnucash/android/export/qif/QifExporter.java    | 17 ++++++-
 .../gnucash/android/export/xml/GncXmlExporter.java | 18 +++++---
 .../java/org/gnucash/android/model/Commodity.java  |  9 ++++
 .../java/org/gnucash/android/model/Recurrence.java | 25 +++++-----
 .../android/service/ScheduledActionService.java    |  3 ++
 .../ui/homescreen/WidgetConfigurationActivity.java |  2 +
 .../ui/settings/BackupPreferenceFragment.java      |  5 +-
 .../test/unit/db/AccountsDbAdapterTest.java        | 14 +++---
 .../android/test/unit/model/RecurrenceTest.java    | 27 ++++++-----
 .../unit/service/ScheduledActionServiceTest.java   |  3 +-
 17 files changed, 140 insertions(+), 81 deletions(-)

diff --git a/app/src/androidTest/java/org/gnucash/android/test/ui/ExportTransactionsTest.java b/app/src/androidTest/java/org/gnucash/android/test/ui/ExportTransactionsTest.java
index 47b67dc8..ed52133e 100644
--- a/app/src/androidTest/java/org/gnucash/android/test/ui/ExportTransactionsTest.java
+++ b/app/src/androidTest/java/org/gnucash/android/test/ui/ExportTransactionsTest.java
@@ -200,7 +200,7 @@ public void testExport(ExportFormat format){
 			}
 		}
 
-		File folder = new File(Exporter.getExportFolderPath());
+		File folder = new File(Exporter.getExportFolderPath(BooksDbAdapter.getInstance().getActiveBookUID()));
 		folder.mkdirs();
 		assertThat(folder).exists();
 
diff --git a/app/src/androidTest/java/org/gnucash/android/test/ui/MultiBookTest.java b/app/src/androidTest/java/org/gnucash/android/test/ui/MultiBookTest.java
index 86e19576..02809a01 100644
--- a/app/src/androidTest/java/org/gnucash/android/test/ui/MultiBookTest.java
+++ b/app/src/androidTest/java/org/gnucash/android/test/ui/MultiBookTest.java
@@ -101,6 +101,7 @@ public void creatingNewAccounts_shouldCreatedNewBook(){
 
         assertThat(mBooksDbAdapter.getRecordsCount()).isEqualTo(booksCount+1);
 
+        //// TODO: 25.08.2016 Delete all books before the start of this test
         Book activeBook = mBooksDbAdapter.getRecord(mBooksDbAdapter.getActiveBookUID());
         assertThat(activeBook.getDisplayName()).isEqualTo("Book " + (booksCount+1));
     }
diff --git a/app/src/main/java/org/gnucash/android/db/MigrationHelper.java b/app/src/main/java/org/gnucash/android/db/MigrationHelper.java
index 9bbc01f6..fa9519eb 100644
--- a/app/src/main/java/org/gnucash/android/db/MigrationHelper.java
+++ b/app/src/main/java/org/gnucash/android/db/MigrationHelper.java
@@ -1438,6 +1438,7 @@ static int upgradeDbToVersion13(SQLiteDatabase db){
             db.endTransaction();
         }
 
+        //TODO: Move old files from old export folders into new book-specific export folders
 
         //Migrate book-specific preferences away from shared preferences
         Log.d(LOG_TAG, "Migrating shared preferences into book preferences");
diff --git a/app/src/main/java/org/gnucash/android/db/adapter/BooksDbAdapter.java b/app/src/main/java/org/gnucash/android/db/adapter/BooksDbAdapter.java
index 75b763ca..799f4ea3 100644
--- a/app/src/main/java/org/gnucash/android/db/adapter/BooksDbAdapter.java
+++ b/app/src/main/java/org/gnucash/android/db/adapter/BooksDbAdapter.java
@@ -124,23 +124,6 @@ public boolean isActive(String bookUID){
     }
 
     /**
-     * Returns the root account GUID of the current active book
-     * @return GUID of the root account
-     */
-    public @NonNull String getActiveRootAccountUID(){
-        Cursor cursor = mDb.query(mTableName, new String[]{BookEntry.COLUMN_ROOT_GUID},
-                BookEntry.COLUMN_ACTIVE + "= 1", null, null, null, null, "1");
-        try{
-            if (cursor.moveToFirst()){
-                return cursor.getString(cursor.getColumnIndexOrThrow(BookEntry.COLUMN_ROOT_GUID));
-            }
-        } finally {
-            cursor.close();
-        }
-        return null;
-    }
-
-    /**
      * Returns the GUID of the current active book
      * @return GUID of the active book
      */
@@ -149,7 +132,7 @@ public boolean isActive(String bookUID){
                 BookEntry.COLUMN_ACTIVE + "= 1", null, null, null, null, "1");
         try{
             if (cursor.getCount() == 0)
-                throw new RuntimeException("There is no active book in the app. This should NEVER happen!");
+                throw new RuntimeException("There is no active book in the app. This should NEVER happen, fix your bugs!");
             cursor.moveToFirst();
             return cursor.getString(cursor.getColumnIndexOrThrow(BookEntry.COLUMN_UID));
         } finally {
diff --git a/app/src/main/java/org/gnucash/android/export/ExportAsyncTask.java b/app/src/main/java/org/gnucash/android/export/ExportAsyncTask.java
index c6284887..cf762681 100644
--- a/app/src/main/java/org/gnucash/android/export/ExportAsyncTask.java
+++ b/app/src/main/java/org/gnucash/android/export/ExportAsyncTask.java
@@ -145,16 +145,16 @@ protected Boolean doInBackground(ExportParams... params) {
 
         switch (mExportParams.getExportFormat()) {
                 case QIF:
-                    mExporter = new QifExporter(mExportParams);
+                    mExporter = new QifExporter(mExportParams, mDb);
                     break;
 
                 case OFX:
-                    mExporter = new OfxExporter(mExportParams);
+                    mExporter = new OfxExporter(mExportParams, mDb);
                     break;
 
                 case XML:
                 default:
-                    mExporter = new GncXmlExporter(mExportParams);
+                    mExporter = new GncXmlExporter(mExportParams, mDb);
                     break;
         }
 
@@ -414,11 +414,11 @@ private void moveExportToOwnCloud() {
      */
     private List<String> moveExportToSDCard() {
         Log.i(TAG, "Moving exported file to external storage");
-        new File(Exporter.getExportFolderPath());
+        new File(Exporter.getExportFolderPath(mExporter.mBookUID));
         List<String> dstFiles = new ArrayList<>();
 
         for (String src: mExportedFiles) {
-            String dst = Exporter.getExportFolderPath() + stripPathPart(src);
+            String dst = Exporter.getExportFolderPath(mExporter.mBookUID) + stripPathPart(src);
             try {
                 moveFile(src, dst);
                 dstFiles.add(dst);
diff --git a/app/src/main/java/org/gnucash/android/export/Exporter.java b/app/src/main/java/org/gnucash/android/export/Exporter.java
index 34c26f7b..88afbaba 100644
--- a/app/src/main/java/org/gnucash/android/export/Exporter.java
+++ b/app/src/main/java/org/gnucash/android/export/Exporter.java
@@ -27,6 +27,7 @@
 
 import org.gnucash.android.BuildConfig;
 import org.gnucash.android.app.GnuCashApplication;
+import org.gnucash.android.db.DatabaseSchema;
 import org.gnucash.android.db.adapter.AccountsDbAdapter;
 import org.gnucash.android.db.adapter.BooksDbAdapter;
 import org.gnucash.android.db.adapter.BudgetAmountsDbAdapter;
@@ -37,6 +38,7 @@
 import org.gnucash.android.db.adapter.ScheduledActionDbAdapter;
 import org.gnucash.android.db.adapter.SplitsDbAdapter;
 import org.gnucash.android.db.adapter.TransactionsDbAdapter;
+import org.gnucash.android.model.Book;
 
 import java.io.File;
 import java.text.ParseException;
@@ -93,6 +95,16 @@
     protected final Context mContext;
     private String mExportCacheFilePath;
 
+    /**
+     * Database being currently exported
+     */
+    protected final SQLiteDatabase mDb;
+
+    /**
+     * GUID of the book being exported
+     */
+    protected String mBookUID;
+
     public Exporter(ExportParams params, SQLiteDatabase db) {
         this.mExportParams = params;
         mContext = GnuCashApplication.getAppContext();
@@ -104,8 +116,9 @@ public Exporter(ExportParams params, SQLiteDatabase db) {
             mCommoditiesDbAdapter   = CommoditiesDbAdapter.getInstance();
             mBudgetsDbAdapter       = BudgetsDbAdapter.getInstance();
             mScheduledActionDbAdapter = ScheduledActionDbAdapter.getInstance();
-
+            mDb = GnuCashApplication.getActiveDb();
         } else {
+            mDb = db;
             mSplitsDbAdapter        = new SplitsDbAdapter(db);
             mTransactionsDbAdapter  = new TransactionsDbAdapter(db, mSplitsDbAdapter);
             mAccountsDbAdapter      = new AccountsDbAdapter(db, mTransactionsDbAdapter);
@@ -116,6 +129,7 @@ public Exporter(ExportParams params, SQLiteDatabase db) {
             mScheduledActionDbAdapter = new ScheduledActionDbAdapter(db, recurrenceDbAdapter);
         }
 
+        mBookUID = new File(mDb.getPath()).getName(); //this depends on the database file always having the name of the book GUID
         mExportCacheFilePath = null;
         mCacheDir = new File(mContext.getCacheDir(), params.getExportFormat().name());
         mCacheDir.mkdir();
@@ -123,17 +137,29 @@ public Exporter(ExportParams params, SQLiteDatabase db) {
     }
 
     /**
+     * Strings a string of any characters not allowed in a file name.
+     * All unallowed characters are replaced with an underscore
+     * @param inputName Raw file name input
+     * @return Sanitized file name
+     */
+    public static String sanitizeFilename(String inputName) {
+        return inputName.replaceAll("[^a-zA-Z0-9-_\\.]", "_");
+    }
+
+    /**
      * Builds a file name based on the current time stamp for the exported file
+     * @param format Format to use when exporting
+     * @param bookName Name of the book being exported. This name will be included in the generated file name
      * @return String containing the file name
      */
-    public static String buildExportFilename(ExportFormat format) {
+    public static String buildExportFilename(ExportFormat format, String bookName) {
         return EXPORT_FILENAME_DATE_FORMAT.format(new Date(System.currentTimeMillis()))
-                + "_gnucash_export" + format.getExtension();
+                + "_gnucash_export_" + sanitizeFilename(bookName) + format.getExtension();
     }
 
     /**
      * Parses the name of an export file and returns the date of export
-     * @param filename Export file name generated by {@link #buildExportFilename(ExportFormat)}
+     * @param filename Export file name generated by {@link #buildExportFilename(ExportFormat,String)}
      * @return Date in milliseconds
      */
     public static long getExportTime(String filename){
@@ -184,19 +210,21 @@ protected String getExportCacheFilePath(){
             String cachePath = mCacheDir.getAbsolutePath();
             if (!cachePath.endsWith("/"))
                 cachePath += "/";
-            mExportCacheFilePath = cachePath + buildExportFilename(mExportParams.getExportFormat());
+            String bookName = BooksDbAdapter.getInstance().getAttribute(mBookUID, DatabaseSchema.BookEntry.COLUMN_DISPLAY_NAME);
+            mExportCacheFilePath = cachePath + buildExportFilename(mExportParams.getExportFormat(), bookName);
         }
 
         return mExportCacheFilePath;
     }
 
     /**
-     * Returns that path to the export folder for the currently active book.
+     * Returns that path to the export folder for the book with GUID {@code bookUID}.
      * This is the folder where exports like QIF and OFX will be saved for access by external programs
+     * @param bookUID GUID of the book being exported. Each book has its own export path
      * @return Absolute path to export folder for active book
      */
-    public static String getExportFolderPath(){
-        String path = BASE_FOLDER_PATH + "/" + BooksDbAdapter.getInstance().getActiveBookUID() + "/exports/";
+    public static String getExportFolderPath(String bookUID){
+        String path = BASE_FOLDER_PATH + "/" + bookUID + "/exports/";
         File file = new File(path);
         if (!file.exists())
             file.mkdirs();
@@ -204,11 +232,13 @@ public static String getExportFolderPath(){
     }
 
     /**
-     * Returns the path to the backups folder for the currently active book
-     * @return Absolute path to backup folder for active book
+     * Returns the path to the backups folder for the book with GUID {@code bookUID}
+     * Each book has its own backup path
+     *
+     * @return Absolute path to backup folder for the book
      */
-    public static String getBackupFolderPath(){
-        String path = BASE_FOLDER_PATH + "/" + BooksDbAdapter.getInstance().getActiveBookUID() + "/backups/";
+    public static String getBackupFolderPath(String bookUID){
+        String path = BASE_FOLDER_PATH + "/" + bookUID + "/backups/";
         File file = new File(path);
         if (!file.exists())
             file.mkdirs();
diff --git a/app/src/main/java/org/gnucash/android/export/ofx/OfxExporter.java b/app/src/main/java/org/gnucash/android/export/ofx/OfxExporter.java
index 367d0549..c7babfdb 100644
--- a/app/src/main/java/org/gnucash/android/export/ofx/OfxExporter.java
+++ b/app/src/main/java/org/gnucash/android/export/ofx/OfxExporter.java
@@ -17,6 +17,7 @@
 
 package org.gnucash.android.export.ofx;
 
+import android.database.sqlite.SQLiteDatabase;
 import android.preference.PreferenceManager;
 import android.util.Log;
 
@@ -77,6 +78,16 @@ public OfxExporter(ExportParams params) {
 	}
 
     /**
+     * Overloaded constructor. Initializes the export parameters and the database to export
+     * @param params Export options
+     * @param db SQLiteDatabase to export
+     */
+    public OfxExporter(ExportParams params, SQLiteDatabase db){
+        super(params, db);
+        LOG_TAG = "OfxExporter";
+    }
+
+    /**
 	 * Converts all expenses into OFX XML format and adds them to the XML document
 	 * @param doc DOM document of the OFX expenses.
 	 * @param parent Parent node for all expenses in report
diff --git a/app/src/main/java/org/gnucash/android/export/qif/QifExporter.java b/app/src/main/java/org/gnucash/android/export/qif/QifExporter.java
index 6bbea48a..7b25d0cb 100644
--- a/app/src/main/java/org/gnucash/android/export/qif/QifExporter.java
+++ b/app/src/main/java/org/gnucash/android/export/qif/QifExporter.java
@@ -18,6 +18,7 @@
 
 import android.content.ContentValues;
 import android.database.Cursor;
+import android.database.sqlite.SQLiteDatabase;
 
 import org.gnucash.android.db.adapter.AccountsDbAdapter;
 import org.gnucash.android.db.adapter.TransactionsDbAdapter;
@@ -50,9 +51,23 @@
  * @author Yongxin Wang <fefe.wyx@gmail.com>
  */
 public class QifExporter extends Exporter{
+    /**
+     * Initialize the exporter
+     * @param params Export options
+     */
     public QifExporter(ExportParams params){
         super(params, null);
-        LOG_TAG = "QifExporter";
+        LOG_TAG = "OfxExporter";
+    }
+
+    /**
+     * Initialize the exporter
+     * @param params Options for export
+     * @param db SQLiteDatabase to export
+     */
+    public QifExporter(ExportParams params, SQLiteDatabase db){
+        super(params, db);
+        LOG_TAG = "OfxExporter";
     }
 
     @Override
diff --git a/app/src/main/java/org/gnucash/android/export/xml/GncXmlExporter.java b/app/src/main/java/org/gnucash/android/export/xml/GncXmlExporter.java
index cd3cc5ef..7a3105ab 100644
--- a/app/src/main/java/org/gnucash/android/export/xml/GncXmlExporter.java
+++ b/app/src/main/java/org/gnucash/android/export/xml/GncXmlExporter.java
@@ -23,6 +23,8 @@
 
 import com.crashlytics.android.Crashlytics;
 
+import org.gnucash.android.app.GnuCashApplication;
+import org.gnucash.android.db.adapter.BooksDbAdapter;
 import org.gnucash.android.db.adapter.CommoditiesDbAdapter;
 import org.gnucash.android.db.DatabaseSchema;
 import org.gnucash.android.db.adapter.RecurrenceDbAdapter;
@@ -33,6 +35,7 @@
 import org.gnucash.android.model.Account;
 import org.gnucash.android.model.AccountType;
 import org.gnucash.android.model.BaseModel;
+import org.gnucash.android.model.Book;
 import org.gnucash.android.model.Commodity;
 import org.gnucash.android.model.Budget;
 import org.gnucash.android.model.BudgetAmount;
@@ -900,12 +903,13 @@ public String getExportMimeType(){
     }
 
     /**
-     * Creates a backup of current database contents to the directory {@link Exporter#getBackupFolderPath()}
+     * Creates a backup of current database contents to the directory {@link Exporter#getBackupFolderPath(String)}
      * @return {@code true} if backup was successful, {@code false} otherwise
      */
     public static boolean createBackup(){
         try {
-            FileOutputStream fileOutputStream = new FileOutputStream(getBackupFilePath());
+            String bookUID = BooksDbAdapter.getInstance().getActiveBookUID();
+            FileOutputStream fileOutputStream = new FileOutputStream(getBackupFilePath(bookUID));
             BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fileOutputStream);
             GZIPOutputStream gzipOutputStream = new GZIPOutputStream(bufferedOutputStream);
             OutputStreamWriter writer = new OutputStreamWriter(gzipOutputStream);
@@ -922,12 +926,14 @@ public static boolean createBackup(){
     }
 
     /**
-     * Returns the full path of a file to make database backup.
+     * Returns the full path of a file to make database backup of the specified book
      * Backups are done in XML format and are zipped (with ".zip" extension).
+     * @param bookUID GUID of the book
      * @return the file path for backups of the database.
-     * @see #getBackupFolderPath()
+     * @see #getBackupFolderPath(String)
      */
-    private static String getBackupFilePath(){
-        return Exporter.getBackupFolderPath() + buildExportFilename(ExportFormat.XML) + ".zip";
+    private static String getBackupFilePath(String bookUID){
+        Book book = BooksDbAdapter.getInstance().getRecord(bookUID);
+        return Exporter.getBackupFolderPath(book.getUID()) + buildExportFilename(ExportFormat.XML, book.getDisplayName()) + ".zip";
     }
 }
diff --git a/app/src/main/java/org/gnucash/android/model/Commodity.java b/app/src/main/java/org/gnucash/android/model/Commodity.java
index fb2d7ac2..7fa13698 100644
--- a/app/src/main/java/org/gnucash/android/model/Commodity.java
+++ b/app/src/main/java/org/gnucash/android/model/Commodity.java
@@ -190,6 +190,15 @@ public void setQuoteFlag(int quoteFlag) {
         this.mQuoteFlag = quoteFlag;
     }
 
+    @Override
+    /**
+     * Returns the full name of the currency, or the currency code if there is no full name
+     * @return String representation of the commodity
+     */
+    public String toString() {
+        return mFullname == null || mFullname.isEmpty() ? mMnemonic : mFullname;
+    }
+
     /**
      * Overrides {@link BaseModel#equals(Object)} to compare only the currency codes of the commodity.
      * <p>Two commodities are considered equal if they have the same currency code</p>
diff --git a/app/src/main/java/org/gnucash/android/model/Recurrence.java b/app/src/main/java/org/gnucash/android/model/Recurrence.java
index c6340159..2b1c4169 100644
--- a/app/src/main/java/org/gnucash/android/model/Recurrence.java
+++ b/app/src/main/java/org/gnucash/android/model/Recurrence.java
@@ -22,9 +22,9 @@
 import org.gnucash.android.R;
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.ui.util.RecurrenceParser;
+import org.joda.time.DateTime;
 import org.joda.time.Days;
 import org.joda.time.LocalDate;
-import org.joda.time.LocalDateTime;
 import org.joda.time.Months;
 import org.joda.time.Weeks;
 import org.joda.time.Years;
@@ -32,7 +32,6 @@
 import java.sql.Timestamp;
 import java.text.SimpleDateFormat;
 import java.util.Date;
-import java.util.Locale;
 
 /**
  * Model for recurrences in the database
@@ -275,8 +274,8 @@ public int getCount(){
             return -1;
 
         int count = 0;
-        LocalDate startDate = new LocalDate(mPeriodStart.getTime());
-        LocalDate endDate = new LocalDate(mPeriodEnd.getTime());
+        DateTime startDate = new DateTime(mPeriodStart.getTime());
+        DateTime endDate = new DateTime(mPeriodEnd.getTime());
         switch (mPeriodType){
             case DAY:
                 count = Days.daysBetween(startDate, endDate).getDays();
@@ -300,27 +299,25 @@ public int getCount(){
      * @param numberOfOccurences Number of occurences from the start time
      */
     public void setPeriodEnd(int numberOfOccurences){
-        LocalDateTime localDate = new LocalDateTime(mPeriodStart.getTime());
-        LocalDateTime endDate;
+        DateTime localDate = new DateTime(mPeriodStart.getTime());
+        DateTime endDate;
         int occurrenceDuration = numberOfOccurences * mPeriodType.getMultiplier();
         switch (mPeriodType){
             case DAY:
-                endDate = localDate.dayOfWeek().getLocalDateTime().plusDays(occurrenceDuration);
+                endDate = localDate.plusDays(occurrenceDuration);
                 break;
             case WEEK:
-                endDate = localDate.dayOfWeek().getLocalDateTime().plusWeeks(occurrenceDuration);
+                endDate = localDate.plusWeeks(occurrenceDuration);
                 break;
+            default:
             case MONTH:
-                endDate = localDate.dayOfMonth().getLocalDateTime().plusMonths(occurrenceDuration);
+                endDate = localDate.plusMonths(occurrenceDuration);
                 break;
             case YEAR:
-                endDate = localDate.monthOfYear().getLocalDateTime().plusYears(occurrenceDuration);
-                break;
-            default: //default to monthly
-                endDate = localDate.dayOfMonth().getLocalDateTime().plusMonths(occurrenceDuration);
+                endDate = localDate.plusYears(occurrenceDuration);
                 break;
         }
-        mPeriodEnd = new Timestamp(endDate.toDate().getTime());
+        mPeriodEnd = new Timestamp(endDate.getMillis());
     }
 
     /**
diff --git a/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java b/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java
index 0d55b9fa..535c3b62 100644
--- a/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java
+++ b/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java
@@ -21,6 +21,7 @@
 import android.content.Intent;
 import android.database.sqlite.SQLiteDatabase;
 import android.os.PowerManager;
+import android.support.annotation.VisibleForTesting;
 import android.util.Log;
 
 import com.crashlytics.android.Crashlytics;
@@ -96,6 +97,7 @@ protected void onHandleIntent(Intent intent) {
      * @param scheduledActions List of scheduled actions
      */
     //made public static for testing. Do not call these methods directly
+    @VisibleForTesting
     public static void processScheduledActions(List<ScheduledAction> scheduledActions, SQLiteDatabase db) {
         for (ScheduledAction scheduledAction : scheduledActions) {
 
@@ -118,6 +120,7 @@ public static void processScheduledActions(List<ScheduledAction> scheduledAction
      * @param scheduledAction ScheduledEvent to be executed
      */
     //made public static for testing. Do not call directly
+    @VisibleForTesting
     public static void executeScheduledEvent(ScheduledAction scheduledAction, SQLiteDatabase db){
         Log.i(LOG_TAG, "Executing scheduled action: " + scheduledAction.toString());
         int executionCount = scheduledAction.getExecutionCount();
diff --git a/app/src/main/java/org/gnucash/android/ui/homescreen/WidgetConfigurationActivity.java b/app/src/main/java/org/gnucash/android/ui/homescreen/WidgetConfigurationActivity.java
index f2d40c54..eb13294f 100644
--- a/app/src/main/java/org/gnucash/android/ui/homescreen/WidgetConfigurationActivity.java
+++ b/app/src/main/java/org/gnucash/android/ui/homescreen/WidgetConfigurationActivity.java
@@ -80,6 +80,8 @@ public void onCreate(Bundle savedInstanceState) {
 		}
 
         SimpleCursorAdapter cursorAdapter = new QualifiedAccountNameCursorAdapter(this, cursor);
+		//without this line, the app crashes when a user tries to select an account
+		cursorAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
 		mAccountsSpinner.setAdapter(cursorAdapter);
 		
 		bindListeners();
diff --git a/app/src/main/java/org/gnucash/android/ui/settings/BackupPreferenceFragment.java b/app/src/main/java/org/gnucash/android/ui/settings/BackupPreferenceFragment.java
index 94754584..b262a157 100644
--- a/app/src/main/java/org/gnucash/android/ui/settings/BackupPreferenceFragment.java
+++ b/app/src/main/java/org/gnucash/android/ui/settings/BackupPreferenceFragment.java
@@ -46,6 +46,7 @@
 
 import org.gnucash.android.R;
 import org.gnucash.android.app.GnuCashApplication;
+import org.gnucash.android.db.adapter.BooksDbAdapter;
 import org.gnucash.android.export.Exporter;
 import org.gnucash.android.export.xml.GncXmlExporter;
 import org.gnucash.android.importer.ImportAsyncTask;
@@ -352,7 +353,8 @@ public void onConnectionFailed(ConnectionResult connectionResult) {
 	 */
 	private void restoreBackup() {
 		Log.i("Settings", "Opening GnuCash XML backups for restore");
-		File[] backupFiles = new File(Exporter.getBackupFolderPath()).listFiles();
+		String bookUID = BooksDbAdapter.getInstance().getActiveBookUID();
+		File[] backupFiles = new File(Exporter.getBackupFolderPath(bookUID)).listFiles();
 		if (backupFiles == null || backupFiles.length == 0){
 			android.support.v7.app.AlertDialog.Builder builder = new android.support.v7.app.AlertDialog.Builder(getActivity())
 					.setTitle("No backups found")
@@ -364,7 +366,6 @@ public void onClick(DialogInterface dialog, int which) {
 						}
 					});
 			builder.create().show();
-			Exporter.getBackupFolderPath(); //creates the directory
 			return;
 		}
 
diff --git a/app/src/test/java/org/gnucash/android/test/unit/db/AccountsDbAdapterTest.java b/app/src/test/java/org/gnucash/android/test/unit/db/AccountsDbAdapterTest.java
index 1b9f6384..243c3bd0 100644
--- a/app/src/test/java/org/gnucash/android/test/unit/db/AccountsDbAdapterTest.java
+++ b/app/src/test/java/org/gnucash/android/test/unit/db/AccountsDbAdapterTest.java
@@ -15,7 +15,9 @@
  */
 package org.gnucash.android.test.unit.db;
 
+import android.content.Context;
 import android.database.sqlite.SQLiteDatabase;
+import android.support.v7.preference.PreferenceManager;
 
 import org.assertj.core.data.Index;
 import org.gnucash.android.BuildConfig;
@@ -498,10 +500,7 @@ public void shouldSetDefaultTransferColumnToNull_WhenTheAccountIsDeleted(){
      * Opening an XML file should set the default currency to that used by the most accounts in the file
      */
     @Test
-    public void importingXml_shouldSetDefaultCurrency(){
-        String expectedCode = GnuCashApplication.getDefaultCurrencyCode();
-        Commodity expectedDefaultCommodity = CommoditiesDbAdapter.getInstance().getCommodity(expectedCode);
-
+    public void importingXml_shouldSetDefaultCurrencyFromXml(){
         GnuCashApplication.setDefaultCurrencyCode("JPY");
 
         assertThat(GnuCashApplication.getDefaultCurrencyCode()).isEqualTo("JPY");
@@ -511,10 +510,11 @@ public void importingXml_shouldSetDefaultCurrency(){
         loadDefaultAccounts();
 
         assertThat(GnuCashApplication.getDefaultCurrencyCode()).isNotEqualTo("JPY");
-        assertThat(GnuCashApplication.getDefaultCurrencyCode()).isEqualTo(expectedCode);
-        assertThat(Commodity.DEFAULT_COMMODITY).isEqualTo(expectedDefaultCommodity);
+        //the book has USD occuring most often and this will be used as the default currency
+        assertThat(GnuCashApplication.getDefaultCurrencyCode()).isEqualTo("USD");
+        assertThat(Commodity.DEFAULT_COMMODITY).isEqualTo(Commodity.USD);
 
-        System.out.println("Default currency is now: " + expectedCode);
+        System.out.println("Default currency is now: " + Commodity.DEFAULT_COMMODITY);
     }
 
     /**
diff --git a/app/src/test/java/org/gnucash/android/test/unit/model/RecurrenceTest.java b/app/src/test/java/org/gnucash/android/test/unit/model/RecurrenceTest.java
index 9af46e5f..d5cd10af 100644
--- a/app/src/test/java/org/gnucash/android/test/unit/model/RecurrenceTest.java
+++ b/app/src/test/java/org/gnucash/android/test/unit/model/RecurrenceTest.java
@@ -18,10 +18,10 @@
 
 import org.gnucash.android.model.PeriodType;
 import org.gnucash.android.model.Recurrence;
+import org.joda.time.DateTime;
 import org.junit.Test;
 
 import java.sql.Timestamp;
-import java.util.Calendar;
 
 import static org.assertj.core.api.Assertions.assertThat;
 
@@ -33,14 +33,13 @@
     @Test
     public void settingCount_shouldComputeCorrectEndTime(){
         Recurrence recurrence = new Recurrence(PeriodType.MONTH);
-        Calendar cal = Calendar.getInstance();
-        cal.set(2015, Calendar.OCTOBER, 5);
 
-        recurrence.setPeriodStart(new Timestamp(cal.getTimeInMillis()));
+        DateTime startTime = new DateTime(2015, 10, 5, 0, 0);
+        recurrence.setPeriodStart(new Timestamp(startTime.getMillis()));
         recurrence.setPeriodEnd(3);
 
-        cal.set(2016, Calendar.JANUARY, 5);
-        assertThat(recurrence.getPeriodEnd().getTime()).isEqualTo(cal.getTimeInMillis());
+        DateTime expectedEndtime = new DateTime(2016, 1, 5, 0, 0);
+        assertThat(recurrence.getPeriodEnd().getTime()).isEqualTo(expectedEndtime.getMillis());
     }
 
     /**
@@ -49,12 +48,12 @@ public void settingCount_shouldComputeCorrectEndTime(){
     @Test
     public void testRecurrenceCountComputation(){
         Recurrence recurrence = new Recurrence(PeriodType.MONTH);
-        Calendar cal = Calendar.getInstance();
-        cal.set(2015, Calendar.OCTOBER, 5);
 
-        recurrence.setPeriodStart(new Timestamp(cal.getTimeInMillis()));
-        cal.set(2016, Calendar.AUGUST, 5);
-        recurrence.setPeriodEnd(new Timestamp(cal.getTimeInMillis()));
+        DateTime start = new DateTime(2015, 10, 5, 0, 0);
+        recurrence.setPeriodStart(new Timestamp(start.getMillis()));
+
+        DateTime end = new DateTime(2016, 8, 5, 0, 0);
+        recurrence.setPeriodEnd(new Timestamp(end.getMillis()));
 
         assertThat(recurrence.getCount()).isEqualTo(10);
     }
@@ -67,9 +66,9 @@ public void testRecurrenceCountComputation(){
     @Test
     public void notSettingEndDate_shouldReturnSpecialCountValue() {
         Recurrence recurrence = new Recurrence(PeriodType.MONTH);
-        Calendar cal = Calendar.getInstance();
-        cal.set(2015, Calendar.OCTOBER, 5);
-        recurrence.setPeriodStart(new Timestamp(cal.getTimeInMillis()));
+
+        DateTime start = new DateTime(2015, 10, 5, 0, 0);
+        recurrence.setPeriodStart(new Timestamp(start.getMillis()));
 
         assertThat(recurrence.getCount()).isEqualTo(-1);
     }
diff --git a/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java b/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java
index 858934d2..a5dcda2b 100644
--- a/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java
+++ b/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java
@@ -21,6 +21,7 @@
 import org.gnucash.android.R;
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.db.adapter.AccountsDbAdapter;
+import org.gnucash.android.db.adapter.BooksDbAdapter;
 import org.gnucash.android.db.adapter.CommoditiesDbAdapter;
 import org.gnucash.android.db.adapter.DatabaseAdapter;
 import org.gnucash.android.db.adapter.ScheduledActionDbAdapter;
@@ -282,7 +283,7 @@ public void scheduledBackups_shouldRunOnlyOnce(){
         backupParams.setExportTarget(ExportParams.ExportTarget.SD_CARD);
         scheduledBackup.setTag(backupParams.toCsv());
 
-        File backupFolder = new File(Exporter.getBackupFolderPath());
+        File backupFolder = new File(Exporter.getBackupFolderPath(BooksDbAdapter.getInstance().getActiveBookUID()));
         assertThat(backupFolder).exists();
         assertThat(backupFolder.listFiles()).isEmpty();
 

From 976dbf2172326ad355628072fc90042240307fbc Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 25 Aug 2016 10:51:19 +0200
Subject: [PATCH 2/3] Ensure that scheduled backups are run only once
 regardless of any missed schedules (added test)

Refactored ScheduledActionService for more modularity
Backups and exports are already migrated - closes #555
---
 .../org/gnucash/android/db/MigrationHelper.java    |   2 -
 .../android/service/ScheduledActionService.java    | 116 +++++++++++++--------
 .../unit/service/ScheduledActionServiceTest.java   |  15 +--
 3 files changed, 83 insertions(+), 50 deletions(-)

diff --git a/app/src/main/java/org/gnucash/android/db/MigrationHelper.java b/app/src/main/java/org/gnucash/android/db/MigrationHelper.java
index fa9519eb..ce8e6c29 100644
--- a/app/src/main/java/org/gnucash/android/db/MigrationHelper.java
+++ b/app/src/main/java/org/gnucash/android/db/MigrationHelper.java
@@ -1438,8 +1438,6 @@ static int upgradeDbToVersion13(SQLiteDatabase db){
             db.endTransaction();
         }
 
-        //TODO: Move old files from old export folders into new book-specific export folders
-
         //Migrate book-specific preferences away from shared preferences
         Log.d(LOG_TAG, "Migrating shared preferences into book preferences");
         Context context = GnuCashApplication.getAppContext();
diff --git a/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java b/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java
index 535c3b62..b8de7c52 100644
--- a/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java
+++ b/app/src/main/java/org/gnucash/android/service/ScheduledActionService.java
@@ -89,7 +89,6 @@ protected void onHandleIntent(Intent intent) {
         } finally { //release the lock either way
             wakeLock.release();
         }
-
     }
 
     /**
@@ -105,12 +104,15 @@ public static void processScheduledActions(List<ScheduledAction> scheduledAction
             int totalPlannedExecutions = scheduledAction.getTotalPlannedExecutionCount();
             int executionCount = scheduledAction.getExecutionCount();
 
+            //the end time of the ScheduledAction is not handled here because
+            //it is handled differently for transactions and backups. See the individual methods.
             if (scheduledAction.getStartTime() > now    //if schedule begins in the future
                     || !scheduledAction.isEnabled()     // of if schedule is disabled
                     || (totalPlannedExecutions > 0 && executionCount >= totalPlannedExecutions)) { //limit was set and we reached or exceeded it
                 Log.i(LOG_TAG, "Skipping scheduled action: " + scheduledAction.toString());
                 continue;
             }
+
             executeScheduledEvent(scheduledAction, db);
         }
     }
@@ -119,55 +121,17 @@ public static void processScheduledActions(List<ScheduledAction> scheduledAction
      * Executes a scheduled event according to the specified parameters
      * @param scheduledAction ScheduledEvent to be executed
      */
-    //made public static for testing. Do not call directly
-    @VisibleForTesting
-    public static void executeScheduledEvent(ScheduledAction scheduledAction, SQLiteDatabase db){
+    private static void executeScheduledEvent(ScheduledAction scheduledAction, SQLiteDatabase db){
         Log.i(LOG_TAG, "Executing scheduled action: " + scheduledAction.toString());
         int executionCount = scheduledAction.getExecutionCount();
 
         switch (scheduledAction.getActionType()){
             case TRANSACTION:
-                String actionUID = scheduledAction.getActionUID();
-                TransactionsDbAdapter transactionsDbAdapter = new TransactionsDbAdapter(db, new SplitsDbAdapter(db));
-                Transaction trxnTemplate = transactionsDbAdapter.getRecord(actionUID);
-
-                long now = System.currentTimeMillis();
-                //if there is an end time in the past, we execute all schedules up to the end time.
-                //if the end time is in the future, we execute all schedules until now (current time)
-                //if there is no end time, we execute all schedules until now
-                long endTime = scheduledAction.getEndTime() > 0 ? Math.min(scheduledAction.getEndTime(), now) : now;
-                int totalPlannedExecutions = scheduledAction.getTotalPlannedExecutionCount();
-                List<Transaction> transactions = new ArrayList<>();
-
-                //we may be executing scheduled action significantly after scheduled time (depending on when Android fires the alarm)
-                //so compute the actual transaction time from pre-known values
-                long transactionTime = scheduledAction.computeNextScheduledExecutionTime();
-                while (transactionTime <= endTime) {
-                    Transaction recurringTrxn = new Transaction(trxnTemplate, true);
-                    recurringTrxn.setTime(transactionTime);
-                    transactions.add(recurringTrxn);
-                    recurringTrxn.setScheduledActionUID(scheduledAction.getUID());
-                    scheduledAction.setExecutionCount(++executionCount);
-
-                    if (totalPlannedExecutions > 0 && executionCount >= totalPlannedExecutions)
-                        break; //if we hit the total planned executions set, then abort
-                    transactionTime = scheduledAction.computeNextScheduledExecutionTime();
-                }
-
-                transactionsDbAdapter.bulkAddRecords(transactions, DatabaseAdapter.UpdateMethod.insert);
+                executionCount += executeTransactions(scheduledAction, db);
                 break;
 
             case BACKUP:
-                ExportParams params = ExportParams.parseCsv(scheduledAction.getTag());
-                try {
-                    //wait for async task to finish before we proceed (we are holding a wake lock)
-                    new ExportAsyncTask(GnuCashApplication.getAppContext(), db).execute(params).get();
-                    scheduledAction.setExecutionCount(++executionCount);
-                } catch (InterruptedException | ExecutionException e) {
-                    Crashlytics.logException(e);
-                    Log.e(LOG_TAG, e.getMessage());
-                    return; //return immediately, do not update last run time of event
-                }
+                executionCount += executeBackup(scheduledAction, db);
                 break;
         }
 
@@ -183,4 +147,72 @@ public static void executeScheduledEvent(ScheduledAction scheduledAction, SQLite
         //set the values in the object because they will be checked for the next iteration in the calling loop
         scheduledAction.setExecutionCount(executionCount);
     }
+
+    /**
+     * Executes scheduled backups for a given scheduled action.
+     * The backup will be executed only once, even if multiple schedules were missed
+     * @param scheduledAction Scheduled action referencing the backup
+     * @param db SQLiteDatabase to backup
+     * @return Number of times backup is executed. This should either be 1 or 0
+     */
+    private static int executeBackup(ScheduledAction scheduledAction, SQLiteDatabase db) {
+        int executionCount = 0;
+        long now = System.currentTimeMillis();
+        long endTime = scheduledAction.getEndTime();
+
+        if (endTime > 0 && endTime < now)
+            return executionCount;
+
+        ExportParams params = ExportParams.parseCsv(scheduledAction.getTag());
+        try {
+            //wait for async task to finish before we proceed (we are holding a wake lock)
+            new ExportAsyncTask(GnuCashApplication.getAppContext(), db).execute(params).get();
+            scheduledAction.setExecutionCount(++executionCount);
+        } catch (InterruptedException | ExecutionException e) {
+            Crashlytics.logException(e);
+            Log.e(LOG_TAG, e.getMessage());
+        }
+        return executionCount;
+    }
+
+    /**
+     * Executes scheduled transactions which are to be added to the database.
+     * <p>If a schedule was missed, all the intervening transactions will be generated, even if
+     * the end time of the transaction was already reached</p>
+     * @param scheduledAction Scheduled action which references the transaction
+     * @param db SQLiteDatabase where the transactions are to be executed
+     * @return Number of transactions created as a result of this action
+     */
+    private static int executeTransactions(ScheduledAction scheduledAction, SQLiteDatabase db) {
+        int executionCount = 0;
+        String actionUID = scheduledAction.getActionUID();
+        TransactionsDbAdapter transactionsDbAdapter = new TransactionsDbAdapter(db, new SplitsDbAdapter(db));
+        Transaction trxnTemplate = transactionsDbAdapter.getRecord(actionUID);
+
+        long now = System.currentTimeMillis();
+        //if there is an end time in the past, we execute all schedules up to the end time.
+        //if the end time is in the future, we execute all schedules until now (current time)
+        //if there is no end time, we execute all schedules until now
+        long endTime = scheduledAction.getEndTime() > 0 ? Math.min(scheduledAction.getEndTime(), now) : now;
+        int totalPlannedExecutions = scheduledAction.getTotalPlannedExecutionCount();
+        List<Transaction> transactions = new ArrayList<>();
+
+        //we may be executing scheduled action significantly after scheduled time (depending on when Android fires the alarm)
+        //so compute the actual transaction time from pre-known values
+        long transactionTime = scheduledAction.computeNextScheduledExecutionTime();
+        while (transactionTime <= endTime) {
+            Transaction recurringTrxn = new Transaction(trxnTemplate, true);
+            recurringTrxn.setTime(transactionTime);
+            transactions.add(recurringTrxn);
+            recurringTrxn.setScheduledActionUID(scheduledAction.getUID());
+            scheduledAction.setExecutionCount(++executionCount); //required for computingNextScheduledExecutionTime
+
+            if (totalPlannedExecutions > 0 && executionCount >= totalPlannedExecutions)
+                break; //if we hit the total planned executions set, then abort
+            transactionTime = scheduledAction.computeNextScheduledExecutionTime();
+        }
+
+        transactionsDbAdapter.bulkAddRecords(transactions, DatabaseAdapter.UpdateMethod.insert);
+        return executionCount;
+    }
 }
diff --git a/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java b/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java
index a5dcda2b..0e6adb24 100644
--- a/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java
+++ b/app/src/test/java/org/gnucash/android/test/unit/service/ScheduledActionServiceTest.java
@@ -229,10 +229,13 @@ public void endTimeInTheFuture_shouldExecuteOnlyUntilPresent(){
     }
 
     /**
-     * Test that the end time for scheduled actions should be respected
+     * Test that if the end time of a scheduled transaction has passed, but the schedule was missed
+     * (either because the book was not opened or similar) then the scheduled transactions for the
+     * relevant period should still be executed even though end time has passed.
+     * <p>This holds only for transactions. Backups will be skipped</p>
      */
     @Test
-    public void scheduledActionsWithEndTimeInPast_shouldBeExecuted(){
+    public void scheduledTransactionsWithEndTimeInPast_shouldBeExecuted(){
         ScheduledAction scheduledAction = new ScheduledAction(ScheduledAction.ActionType.TRANSACTION);
         DateTime startTime = new DateTime(2016, 6, 6, 9, 0);
         scheduledAction.setStartTime(startTime.getMillis());
@@ -272,7 +275,7 @@ public void recurringTransactions_shouldHaveScheduledActionUID(){
         ScheduledActionService.processScheduledActions(actions, mDb);
     }
 
-    //// FIXME: 16.08.2016 Cannot find the file after export. But the export task is called and run
+    @Test
     public void scheduledBackups_shouldRunOnlyOnce(){
         ScheduledAction scheduledBackup = new ScheduledAction(ScheduledAction.ActionType.BACKUP);
         scheduledBackup.setStartTime(new DateTime(2016, 2, 17, 17, 0).getMillis());
@@ -283,7 +286,7 @@ public void scheduledBackups_shouldRunOnlyOnce(){
         backupParams.setExportTarget(ExportParams.ExportTarget.SD_CARD);
         scheduledBackup.setTag(backupParams.toCsv());
 
-        File backupFolder = new File(Exporter.getBackupFolderPath(BooksDbAdapter.getInstance().getActiveBookUID()));
+        File backupFolder = new File(Exporter.getExportFolderPath(BooksDbAdapter.getInstance().getActiveBookUID()));
         assertThat(backupFolder).exists();
         assertThat(backupFolder.listFiles()).isEmpty();
 
@@ -291,12 +294,12 @@ public void scheduledBackups_shouldRunOnlyOnce(){
         actions.add(scheduledBackup);
         ScheduledActionService.processScheduledActions(actions, mDb);
 
+        assertThat(scheduledBackup.getExecutionCount()).isEqualTo(3);
         File[] backupFiles = backupFolder.listFiles();
         assertThat(backupFiles).hasSize(1);
-        assertThat(backupFiles[0]).hasExtension("gnca");
+        assertThat(backupFiles[0]).exists().hasExtension("gnca");
     }
 
-
     @After
     public void tearDown(){
         TransactionsDbAdapter.getInstance().deleteAllRecords();

From 1706768844cf8847c2542f438f7c2ab27b56d2fb Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 25 Aug 2016 10:57:10 +0200
Subject: [PATCH 3/3] Update translations

---
 app/src/main/res/values-af-rZA/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-ar-rSA/strings.xml | 44 +++++++++++++++++---
 app/src/main/res/values-ca-rES/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-cs-rCZ/strings.xml | 38 +++++++++++++++---
 app/src/main/res/values-de/strings.xml     | 64 ++++++++++++++++++++----------
 app/src/main/res/values-el-rGR/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-en-rGB/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-es-rMX/strings.xml | 38 ++++++++++++++----
 app/src/main/res/values-es/strings.xml     | 40 ++++++++++++++-----
 app/src/main/res/values-fi-rFI/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-fr/strings.xml     | 36 ++++++++++++++---
 app/src/main/res/values-hu-rHU/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-it-rIT/strings.xml | 40 +++++++++++++++----
 app/src/main/res/values-iw-rIL/strings.xml | 40 ++++++++++++++++---
 app/src/main/res/values-ja-rJP/strings.xml | 40 ++++++++++++++-----
 app/src/main/res/values-ko-rKR/strings.xml | 37 +++++++++++++----
 app/src/main/res/values-lv-rLV/strings.xml | 38 +++++++++++++++---
 app/src/main/res/values-nb/strings.xml     | 63 ++++++++++++++++++++---------
 app/src/main/res/values-nl-rNL/strings.xml | 38 ++++++++++++++----
 app/src/main/res/values-no-rNO/strings.xml | 39 ++++++++++++++----
 app/src/main/res/values-pl-rPL/strings.xml | 41 +++++++++++++++----
 app/src/main/res/values-pt-rBR/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-pt-rPT/strings.xml | 39 ++++++++++++++----
 app/src/main/res/values-ro-rRO/strings.xml | 38 +++++++++++++++---
 app/src/main/res/values-ru/strings.xml     | 40 +++++++++++++++----
 app/src/main/res/values-sr-rSP/strings.xml | 38 +++++++++++++++---
 app/src/main/res/values-sv-rSE/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-tr-rTR/strings.xml | 36 ++++++++++++++---
 app/src/main/res/values-uk-rUA/strings.xml | 40 +++++++++++++++----
 app/src/main/res/values-vi-rVN/strings.xml | 34 +++++++++++++---
 app/src/main/res/values-zh-rCN/strings.xml | 38 ++++++++++++++----
 app/src/main/res/values-zh-rTW/strings.xml | 36 +++++++++++++----
 32 files changed, 1024 insertions(+), 239 deletions(-)

diff --git a/app/src/main/res/values-af-rZA/strings.xml b/app/src/main/res/values-af-rZA/strings.xml
index 8f590695..0de912cd 100644
--- a/app/src/main/res/values-af-rZA/strings.xml
+++ b/app/src/main/res/values-af-rZA/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -453,4 +453,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-ar-rSA/strings.xml b/app/src/main/res/values-ar-rSA/strings.xml
index 1ab47d7b..11564b05 100644
--- a/app/src/main/res/values-ar-rSA/strings.xml
+++ b/app/src/main/res/values-ar-rSA/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -217,7 +217,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -473,4 +473,36 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="zero">%d accounts</item>
+    <item quantity="one">%d account</item>
+    <item quantity="two">%d accounts</item>
+    <item quantity="few">%d accounts</item>
+    <item quantity="many">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="zero">%d transactions</item>
+    <item quantity="one">%d transaction</item>
+    <item quantity="two">%d transactions</item>
+    <item quantity="few">%d transactions</item>
+    <item quantity="many">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-ca-rES/strings.xml b/app/src/main/res/values-ca-rES/strings.xml
index d2848c8f..e4eff21d 100644
--- a/app/src/main/res/values-ca-rES/strings.xml
+++ b/app/src/main/res/values-ca-rES/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Habiliteu aquesta opci quan exporteu a aplicacions de tercers diferents de GnuCash per escriptori</string>
   <string name="title_whats_new">Novetats</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -211,7 +211,7 @@
   <string name="title_all_accounts">Tots</string>
   <string name="summary_create_default_accounts">Crea l\'estructura de comptes per defecte de GnuCash d\'s ms com</string>
   <string name="title_create_default_accounts">Crea els comptes per defecte</string>
-  <string name="msg_confirm_create_default_accounts_setting">Es suprimiran tots els comptes i transaccions del dispositiu.\n\nEsteu segurs de que voleu continuar?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Assentaments peridics</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -451,4 +451,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">La transacci seleccionada no t desglossaments i no es pot obrir</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-cs-rCZ/strings.xml b/app/src/main/res/values-cs-rCZ/strings.xml
index 83ce45a1..a5574746 100644
--- a/app/src/main/res/values-cs-rCZ/strings.xml
+++ b/app/src/main/res/values-cs-rCZ/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -214,7 +214,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -458,4 +458,30 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="few">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="few">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-de/strings.xml b/app/src/main/res/values-de/strings.xml
index 57aaabaf..b91c5629 100644
--- a/app/src/main/res/values-de/strings.xml
+++ b/app/src/main/res/values-de/strings.xml
@@ -131,14 +131,14 @@
   <string name="title_xml_ofx_header">XML-OFX-Header verwenden</string>
   <string name="summary_xml_ofx_header">Diese Option aktivieren, wenn Sie die OFX-Dateien fr ein anderes Programm als GnuCash auf dem Desktop exportieren</string>
   <string name="title_whats_new">Neuigkeiten in dieser Version</string>
-  <string name="whats_new">\n
-        - App im Material Design\n
-        - Mehrwhrungsbuchungen\n
-        - Rechner fr Buchungsbetrge\n
-        - Verbesserte Berichte\n
-        - Neuer Hilfe &amp; Feedback-Bereich\n
-        - Viele Fehlerbehebungen und Verbesserungen\n
-\n</string>
+  <string name="whats_new">
+	- Untersttzung fr mehrere verschiedene Bcher\n
+	- Fgt ownCloud als Exportziel hinzu\n
+	- Kompaktansicht fr Buchungsliste\n
+	- Neugestaltung des Zugangscode-Sperrbildschirms\n
+	- Verbesserte Handhabung terminierter Buchungen\n
+	- Mehrere Bugfixes und Verbesserungen\n
+	</string>
   <string name="label_dismiss">Schlieen</string>
   <string name="toast_transanction_amount_required">Geben Sie einen Betrag ein, um die Buchung speichern zu knnen</string>
   <string name="toast_error_edit_multi_currency_transaction">Mehrwhrungsbuchungen knnen nicht bearbeitet werden</string>
@@ -211,7 +211,7 @@
   <string name="title_all_accounts">Alle</string>
   <string name="summary_create_default_accounts">Erstellt die hufig verwendeten Standard-GnuCash-Konten</string>
   <string name="title_create_default_accounts">Standard-Konten erstellen</string>
-  <string name="msg_confirm_create_default_accounts_setting">Es werden alle bestehenden Konten und Buchungen auf dem Gert gelscht.\n\nWollen Sie fortfahren?</string>
+  <string name="msg_confirm_create_default_accounts_setting">Ein neues Buch wird mit den Standardkonten geffnet\n\nIhre aktuellen Konten und Buchungen werden nicht gendert!</string>
   <string name="menu_scheduled_transactions">Geplante Buchungen</string>
   <string name="msg_confirm_create_default_accounts_first_run">Willkommen bei GnuCash Android!\nSie knnen entweder eine Hierarchie der fr gewhnlich verwendeten Konten erstellen oder Ihre eigene GnuCash-Kontenstruktur importieren.\n\nBeide Optionen sind auch in den Einstellungen verfgbar, sodass Sie dies spter entscheiden knnen.
     </string>
@@ -364,7 +364,7 @@ No user-identifiable information will be collected as part of this process!</str
   <string name="title_split_editor">Split Buchung</string>
   <string name="toast_error_check_split_amounts">Prfen Sie vor dem Speichern, ob alle Buchungsteile gltige Betrge enthalten!</string>
   <string name="label_error_invalid_expression">Ungltiger Ausdruck!</string>
-  <string name="toast_scheduled_recurring_transaction">Geplante Buchung</string>
+  <string name="toast_scheduled_recurring_transaction">Geplante wiederkehrende Buchung</string>
   <string name="error_exchange_rate_required">Ein Wechselkurs ist erforderlich</string>
   <string name="error_converted_amount_required">Ein Wechselbetrag ist erforderlich</string>
   <string name="title_transfer_funds">berweisungen</string>
@@ -399,12 +399,12 @@ No user-identifiable information will be collected as part of this process!</str
   <string name="summary_translate_gnucash">bersetze oder korrigiere bersetzungen auf CrowdIn</string>
   <string name="toast_no_compatible_apps_to_receive_export">Es gibt keine kompatible App, welche die exportierten Buchungen empfangen kann!</string>
   <string name="menu_move_transaction">Bewegen&#8230;</string>
-  <string name="menu_duplicate_transaction">Kopieren</string>
+  <string name="menu_duplicate_transaction">Duplizieren</string>
   <string name="nav_menu_budgets">Budgets</string>
   <string name="title_cash_flow_report">Geldfluss</string>
   <string name="title_budgets">Budgets</string>
   <string name="title_use_compact_list">Kompaktansicht verwenden</string>
-  <string name="summary_use_compact_list">Enable to always use compact view for transactions list</string>
+  <string name="summary_use_compact_list">Aktivieren, um stets die Kompaktansicht fr die Buchungsliste zu verwenden</string>
   <string name="error_invalid_exchange_rate">Ungltiger Wechselkurs</string>
   <string name="sample_exchange_rate">z. B. 1 %1$s = x.xx %2$s</string>
   <string name="error_invalid_amount">Ungltiger Betrag</string>
@@ -440,14 +440,38 @@ No user-identifiable information will be collected as part of this process!</str
   <string name="digit_zero_text">+</string>
   <string name="title_manage_books">Bcher verwalten</string>
   <string name="menu_manage_books">Bcher verwalten&#8230;</string>
-  <string name="select_chart_to_view_details">Select any part of the chart to view details</string>
-  <string name="title_confirm_delete_book">Confirm delete Book</string>
-  <string name="msg_all_book_data_will_be_deleted">All accounts and transactions in this book will be deleted!</string>
-  <string name="btn_delete_book">Delete Book</string>
-  <string name="label_last_export_time">Last Exported:</string>
-  <string name="menu_title_enable_sync">Enable Sync</string>
-  <string name="menu_title_new_book">New Book</string>
-  <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
+  <string name="select_chart_to_view_details">Whlen Sie irgendeinen Teil des Diagramms, um Details anzuzeigen</string>
+  <string name="title_confirm_delete_book">Lschen des Buchs besttigen</string>
+  <string name="msg_all_book_data_will_be_deleted">Alle Konten und Buchungen in diesem Buch werden gelscht!</string>
+  <string name="btn_delete_book">Buch lschen</string>
+  <string name="label_last_export_time">Zuletzt exportiert:</string>
+  <string name="menu_title_enable_sync">Sync aktivieren</string>
+  <string name="menu_title_new_book">Neues Buch</string>
+  <string name="toast_transaction_has_no_splits_and_cannot_open">Die ausgewhlte Buchung hat keine Splits und kann nicht geffnet werden</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d Konto</item>
+    <item quantity="other">%d Konten</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d Buchung</item>
+    <item quantity="other">%d Buchungen</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-el-rGR/strings.xml b/app/src/main/res/values-el-rGR/strings.xml
index ea1ab287..d1bffc59 100644
--- a/app/src/main/res/values-el-rGR/strings.xml
+++ b/app/src/main/res/values-el-rGR/strings.xml
@@ -134,11 +134,11 @@
   <string name="summary_xml_ofx_header">        ,   GnuCash   .</string>
   <string name="title_whats_new">  </string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss"></string>
@@ -222,7 +222,7 @@
   <string name="title_all_accounts"></string>
   <string name="summary_create_default_accounts">      GnuCash</string>
   <string name="title_create_default_accounts">  </string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions"> </string>
   <string name="msg_confirm_create_default_accounts_first_run">GnuCash Android.  ! \n   
            ,         GnuCash. \n\n     
@@ -464,4 +464,28 @@ No user-identifiable information will be collected as part of this process!
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-en-rGB/strings.xml b/app/src/main/res/values-en-rGB/strings.xml
index 07056ed5..73da1649 100644
--- a/app/src/main/res/values-en-rGB/strings.xml
+++ b/app/src/main/res/values-en-rGB/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -453,4 +453,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-es-rMX/strings.xml b/app/src/main/res/values-es-rMX/strings.xml
index ba57591a..de0d9308 100644
--- a/app/src/main/res/values-es-rMX/strings.xml
+++ b/app/src/main/res/values-es-rMX/strings.xml
@@ -132,12 +132,12 @@
   <string name="summary_xml_ofx_header">Active esta opcin para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
   <string name="title_whats_new">Novedades</string>
   <string name="whats_new">
-        - Nuevo diseo Material \n
-        - Transacciones mult-divisa\n
-        - Calculadora de cantidades de transacciones\n
-        - Mejores opciones en los informes\n
-        - Nuevas secciones de ayuda y sugerencias\n
-        - Varios arreglos de fallos y mejoras\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Cerrar</string>
   <string name="toast_transanction_amount_required">Introduzca un importe para guardar la transaccin</string>
@@ -211,7 +211,7 @@
   <string name="title_all_accounts">Todas</string>
   <string name="summary_create_default_accounts">Crea una estructura por defecto de cuentas GnuCash comnmente usadas</string>
   <string name="title_create_default_accounts">Crear cuentas por defecto</string>
-  <string name="msg_confirm_create_default_accounts_setting">Todas las cuentas y transacciones en este dispositivo sern eliminadas. Est seguro?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Transacciones Programadas</string>
   <string name="msg_confirm_create_default_accounts_first_run">Bienvenido a GnuCash Android! \nPuede crear una jerarqua de cuentas comnmente usadas o importar su propia estructura de cuentas GnuCash. \n\nAmbas opciones estn disponibles en las opciones de la aplicaci por si quiere decidirlo ms tarde.
     </string>
@@ -450,4 +450,28 @@ Este proceso solo recoge informacin que no permite identificar al usuario</str
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-es/strings.xml b/app/src/main/res/values-es/strings.xml
index 24e31266..ff8befdf 100644
--- a/app/src/main/res/values-es/strings.xml
+++ b/app/src/main/res/values-es/strings.xml
@@ -131,14 +131,12 @@
   <string name="title_xml_ofx_header">Usar cabecera XML OFX</string>
   <string name="summary_xml_ofx_header">Active esta opcin para exportar a otras aplicaciones distintas a GnuCash para escritorio</string>
   <string name="title_whats_new">Novedades</string>
-  <string name="whats_new">
-        - Nuevo diseo Material \n
-        - Transacciones mult-divisa\n
-        - Calculadora de cantidades de transacciones\n
-        - Mejores opciones en los informes\n
-        - Nuevas secciones de ayuda y sugerencias\n
-        - Varios arreglos de fallos y mejoras\n
-	</string>
+  <string name="whats_new">- Soporte de mltiples libros\n
+- Aade ownCloud como destino para exportaciones\n
+- Vista compacta para la lista de transacciones\n
+- Rediseo de la pantalla de bloqueo con contrasea\n
+- Mejora del manejo de transacciones programadas\n
+- Mltiples fallos solucionados y otras mejoras\n</string>
   <string name="label_dismiss">Cerrar</string>
   <string name="toast_transanction_amount_required">Introduzca un importe para guardar la transaccin</string>
   <string name="toast_error_edit_multi_currency_transaction">Las transacciones multi-divisa so se pueden modificar</string>
@@ -211,7 +209,7 @@
   <string name="title_all_accounts">Todas</string>
   <string name="summary_create_default_accounts">Crea una estructura por defecto de cuentas GnuCash comnmente usadas</string>
   <string name="title_create_default_accounts">Crear cuentas por defecto</string>
-  <string name="msg_confirm_create_default_accounts_setting">Todas las cuentas y transacciones en este dispositivo sern eliminadas. Est seguro?</string>
+  <string name="msg_confirm_create_default_accounts_setting">Se abrir un nuevo libro con las cuentas por defecto\n\nSus cuentas y transacciones actuales no se modificarn.</string>
   <string name="menu_scheduled_transactions">Transacciones Programadas</string>
   <string name="msg_confirm_create_default_accounts_first_run">Bienvenido a GnuCash Android! \nPuede crear una jerarqua de cuentas comnmente usadas o importar su propia estructura de cuentas GnuCash. \n\nAmbas opciones estn disponibles en las opciones de la aplicaci por si quiere decidirlo ms tarde.
     </string>
@@ -450,4 +448,28 @@ Este proceso solo recoge informacin que no permite identificar al usuario</str
   <string name="toast_transaction_has_no_splits_and_cannot_open">La transaccin seleccionada tiene ningn desglose y no se puede abrir</string>
   <string name="label_split_count">%1$d desglose</string>
   <string name="label_inside_account_with_name">en %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d cuenta</item>
+    <item quantity="other">%d cuentas</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaccin</item>
+    <item quantity="other">%d transacciones</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>GASTO</item>
+    <item>INGRESO</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Conectado a Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">No se puede conectar a Google Drive</string>
+  <string name="toast_enter_amount_to_split">Por favor ingrese una cantidad para dividir</string>
+  <string name="label_export_target_external_service">servicio externo</string>
+  <string name="toast_updated_transaction_recurring_schedule">Calendario de transacciones recurrentes actualizado</string>
+  <string name="label_export_transactions_since_date">Desde</string>
+  <string name="switch_export_transactions_from_all_time">Todos los tiempos</string>
+  <string name="label_recommend_app">Recomendar en Play Store</string>
+  <string name="repeat_until_date">hasta %1$s</string>
+  <string name="repeat_on_weekday">en %1$s</string>
+  <string name="repeat_x_times">%1$s veces</string>
+  <string name="menu_show_compact_view">Vista compacta</string>
 </resources>
diff --git a/app/src/main/res/values-fi-rFI/strings.xml b/app/src/main/res/values-fi-rFI/strings.xml
index 8f590695..0de912cd 100644
--- a/app/src/main/res/values-fi-rFI/strings.xml
+++ b/app/src/main/res/values-fi-rFI/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -453,4 +453,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-fr/strings.xml b/app/src/main/res/values-fr/strings.xml
index 07783354..11908cf5 100644
--- a/app/src/main/res/values-fr/strings.xml
+++ b/app/src/main/res/values-fr/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Activez cette option lors d\'un export vers une application tierce autre que GnuCash pour PC</string>
   <string name="title_whats_new">Nouveautes</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Passer</string>
@@ -209,7 +209,7 @@
   <string name="title_all_accounts">Tous</string>
   <string name="summary_create_default_accounts">Cre une structure de compte GnuCash par dfaut couramment utilis</string>
   <string name="title_create_default_accounts">Cre comptes par dfaut</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Transactions planifies</string>
   <string name="msg_confirm_create_default_accounts_first_run">Bienvenue sur GnuCash Android!\nVous pouvez soit crer
 		une hirarchie de comptes couramment utiliss, importer votre propre structure de compte GnuCash.\n\nLes deux options sont galement
@@ -450,4 +450,28 @@ Aucune information permettant d\'identifier l\'utilisateur ne sera recueillis da
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-hu-rHU/strings.xml b/app/src/main/res/values-hu-rHU/strings.xml
index ca718686..fb9698ba 100644
--- a/app/src/main/res/values-hu-rHU/strings.xml
+++ b/app/src/main/res/values-hu-rHU/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -455,4 +455,28 @@ No user-identifiable information will be collected as part of this process!
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-it-rIT/strings.xml b/app/src/main/res/values-it-rIT/strings.xml
index 20c2f4e9..fc66c7d7 100644
--- a/app/src/main/res/values-it-rIT/strings.xml
+++ b/app/src/main/res/values-it-rIT/strings.xml
@@ -132,12 +132,12 @@
   <string name="summary_xml_ofx_header">Abilitare questa opzione quando si esporta verso un\'applicazione diversa da GnuCash per desktop</string>
   <string name="title_whats_new">Novit</string>
   <string name="whats_new">
-- App in Material Design \n
-        - Transazioni in valute multiple\n
-        - Calcolatrice per gli importi delle transazioni\n
-        - Opzioni migliori per i resoconti\n
-        - Nuova sezione Aiuto &amp; Feedback\n
-        - Numerose correzioni di bug e miglioramenti\n
+- Supporto per pi libri differenti \n
+	- Aggiunto ownCloud come destinazione per le esportazioni\n
+        - Vista compatta per la lista delle transazioni\n
+	- Ridisegno della schermata di blocco per il codice di accesso\n
+	- Migliorata la gestione delle transazioni pianificate\n
+	- Sistemati molti bug e molti miglioramenti\n
 	</string>
   <string name="label_dismiss">Chiudi</string>
   <string name="toast_transanction_amount_required">Inserire un importo per salvare la transazione</string>
@@ -210,7 +210,7 @@
   <string name="title_all_accounts">Tutti</string>
   <string name="summary_create_default_accounts">Crea la struttura predefinita di GnuCash dei conti comunemente utilizzati</string>
   <string name="title_create_default_accounts">Crea conti predefiniti</string>
-  <string name="msg_confirm_create_default_accounts_setting">Tutti i conti e le transazioni nel dispositivo verranno cancellate.\n\nContinuare?</string>
+  <string name="msg_confirm_create_default_accounts_setting">Verr aperto un nuovo libro con i conti predefiniti.\n\nI conti e le transazioni correnti non verranno modificate!</string>
   <string name="menu_scheduled_transactions">Transazioni pianificate</string>
   <string name="msg_confirm_create_default_accounts_first_run">Benvenuti in GnuCash per Android! \n possibile
         creare una struttura dei conti pi comunemente utilizzati o importare la propria struttura da GnuCash. \n\nEntrambe le
@@ -419,7 +419,7 @@
   <!-- Passcode lock -->
   <string name="digit_one">1</string>
   <!-- In the English locale, digit 1 has no text on it. This is simply empty space. If your locale has text on digit 1, then translate-->
-  <string name="digit_one_text"></string>
+  <string name="digit_one_text"> </string>
   <string name="digit_two">2</string>
   <string name="digit_two_text">ABC</string>
   <string name="digit_three">3</string>
@@ -450,4 +450,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">La transazione selezionata non ha suddivisioni e non pu essere aperta</string>
   <string name="label_split_count">%1$d suddivisioni</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d conto</item>
+    <item quantity="other">%d conti</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transazione</item>
+    <item quantity="other">%d transazioni</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>USCITA</item>
+    <item>ENTRATA</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connesso a Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Impossibile connettersi a Google Drive</string>
+  <string name="toast_enter_amount_to_split">Inserisci un importo da dividere</string>
+  <string name="label_export_target_external_service">servizio esterno</string>
+  <string name="toast_updated_transaction_recurring_schedule">Pianificazione ricorrente della transazione aggiornata</string>
+  <string name="label_export_transactions_since_date">Da</string>
+  <string name="switch_export_transactions_from_all_time">Da sempre</string>
+  <string name="label_recommend_app">Consigliala sul Play Store</string>
+  <string name="repeat_until_date">fino al %1$s</string>
+  <string name="repeat_on_weekday">il %1$s</string>
+  <string name="repeat_x_times">per %1$s volte</string>
+  <string name="menu_show_compact_view">Visualizzazione compatta</string>
 </resources>
diff --git a/app/src/main/res/values-iw-rIL/strings.xml b/app/src/main/res/values-iw-rIL/strings.xml
index edf2f73a..cecdad90 100644
--- a/app/src/main/res/values-iw-rIL/strings.xml
+++ b/app/src/main/res/values-iw-rIL/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -215,7 +215,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -463,4 +463,32 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="two">%d accounts</item>
+    <item quantity="many">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="two">%d transactions</item>
+    <item quantity="many">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-ja-rJP/strings.xml b/app/src/main/res/values-ja-rJP/strings.xml
index c2925e2e..86bbaf36 100644
--- a/app/src/main/res/values-ja-rJP/strings.xml
+++ b/app/src/main/res/values-ja-rJP/strings.xml
@@ -131,13 +131,13 @@
   <string name="title_xml_ofx_header">OFXXML</string>
   <string name="summary_xml_ofx_header">GnuCash for desktop</string>
   <string name="title_whats_new"></string>
-  <string name="whats_new">        - \n
-        - \n
-        - \n
-        - \n
-        - \n
-        - \n
-        </string>
+  <string name="whats_new">
+-  \n
+-  ownCloud \n
+- \n
+- \n
+- \n
+- \n</string>
   <string name="label_dismiss"></string>
   <string name="toast_transanction_amount_required"></string>
   <string name="toast_error_edit_multi_currency_transaction"></string>
@@ -207,7 +207,7 @@
   <string name="title_all_accounts"></string>
   <string name="summary_create_default_accounts"> GnuCash </string>
   <string name="title_create_default_accounts"></string>
-  <string name="msg_confirm_create_default_accounts_setting">\n\n?</string>
+  <string name="msg_confirm_create_default_accounts_setting">\n\n!</string>
   <string name="menu_scheduled_transactions"></string>
   <string name="msg_confirm_create_default_accounts_first_run">GnuCash Android !\n
  GnuCash \n\n
@@ -410,7 +410,7 @@
   <!-- Passcode lock -->
   <string name="digit_one">1</string>
   <!-- In the English locale, digit 1 has no text on it. This is simply empty space. If your locale has text on digit 1, then translate-->
-  <string name="digit_one_text"></string>
+  <string name="digit_one_text">1</string>
   <string name="digit_two">2</string>
   <string name="digit_two_text">ABC</string>
   <string name="digit_three">3</string>
@@ -441,4 +441,26 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open"></string>
   <string name="label_split_count">%1$d </string>
   <string name="label_inside_account_with_name">%1$s </string>
+  <plurals name="book_account_stats">
+    <item quantity="other">%d </item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="other">%d </item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item></item>
+    <item></item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Google </string>
+  <string name="toast_unable_to_connect_to_google_drive">Google </string>
+  <string name="toast_enter_amount_to_split"></string>
+  <string name="label_export_target_external_service"></string>
+  <string name="toast_updated_transaction_recurring_schedule"></string>
+  <string name="label_export_transactions_since_date"></string>
+  <string name="switch_export_transactions_from_all_time"></string>
+  <string name="label_recommend_app">Play  </string>
+  <string name="repeat_until_date">%1$s </string>
+  <string name="repeat_on_weekday">%1$s </string>
+  <string name="repeat_x_times">%1$s </string>
+  <string name="menu_show_compact_view"></string>
 </resources>
diff --git a/app/src/main/res/values-ko-rKR/strings.xml b/app/src/main/res/values-ko-rKR/strings.xml
index 012cdb80..53b54015 100644
--- a/app/src/main/res/values-ko-rKR/strings.xml
+++ b/app/src/main/res/values-ko-rKR/strings.xml
@@ -132,12 +132,13 @@
   <string name="summary_xml_ofx_header"> GnuCash       </string>
   <string name="title_whats_new"> </string>
   <string name="whats_new">
-         -  \n
-        -     \n
-        -   \n
-        -   \n
-        -   \n
-        -     \n</string>
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
+	</string>
   <string name="label_dismiss"></string>
   <string name="toast_transanction_amount_required">    </string>
   <string name="toast_error_edit_multi_currency_transaction">     .</string>
@@ -209,7 +210,7 @@
   <string name="title_all_accounts"> </string>
   <string name="summary_create_default_accounts">GnuCash     .</string>
   <string name="title_create_default_accounts">  </string>
-  <string name="msg_confirm_create_default_accounts_setting">     . \n\n?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions"></string>
   <string name="msg_confirm_create_default_accounts_first_run"> GnuCash  ! \n    ,   GnuCash    . \n\n         .    </string>
   <string name="title_scheduled_transactions"></string>
@@ -441,4 +442,26 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">  .    .</string>
   <string name="label_split_count">%1$d </string>
   <string name="label_inside_account_with_name">%1$s </string>
+  <plurals name="book_account_stats">
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-lv-rLV/strings.xml b/app/src/main/res/values-lv-rLV/strings.xml
index b7ef2ee2..2e9f40e2 100644
--- a/app/src/main/res/values-lv-rLV/strings.xml
+++ b/app/src/main/res/values-lv-rLV/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -214,7 +214,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -458,4 +458,30 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="zero">%d accounts</item>
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="zero">%d transactions</item>
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-nb/strings.xml b/app/src/main/res/values-nb/strings.xml
index 6d2c0afd..b659fee3 100644
--- a/app/src/main/res/values-nb/strings.xml
+++ b/app/src/main/res/values-nb/strings.xml
@@ -58,7 +58,7 @@
   <string name="hint_export_choice">Standard eksporteres bare nye transaksjoner siden siste eksport. Merk dette alternativet for  eksportere alle transaksjoner</string>
   <string name="toast_export_error">Feil ved eksport av %1$s</string>
   <string name="btn_export">Eksporter</string>
-  <string name="option_delete_after_export">Delete transactions after export</string>
+  <string name="option_delete_after_export">Slett transaksjoner etter eksport</string>
   <string name="hint_delete_after_export">Alle eksporterte transaksjoner slettes nr eksport er fullfrt</string>
   <string name="title_settings">Innstillinger</string>
   <string-array name="export_destinations">
@@ -66,7 +66,7 @@
     <item>DropBox</item>
     <item>Google Disk</item>
     <item>ownCloud</item>
-    <item>Send to&#8230;</item>
+    <item>Send til&#8230;</item>
   </string-array>
   <string name="btn_move">Flytt</string>
   <string name="title_move_transactions">Flytt %1$d transaksjon(er)</string>
@@ -132,12 +132,13 @@
   <string name="summary_xml_ofx_header">Aktiver dette alternativet nr du eksporterer til tredjeparts programvare, borsett fra GnuCash for PC</string>
   <string name="title_whats_new">Hva er nytt</string>
   <string name="whats_new">
-- Nytt Material app design \n
-- Multivaluta transaksjoner \n
-- Kalkulator til transaksjonsbelp \n
-- Forbedrede rapport muligheter \n
-- Ny Hjelp &amp; Tilbakemeldingsseksjon \n
-- Mange feilrettinger og forbedringer \n</string>
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
+	</string>
   <string name="label_dismiss">Avvis</string>
   <string name="toast_transanction_amount_required">Angi et belp for  lagre transaksjonen</string>
   <string name="toast_error_edit_multi_currency_transaction">Multi-valutatransaksjoner kan ikke endres</string>
@@ -208,7 +209,7 @@
   <string name="title_all_accounts">Alle</string>
   <string name="summary_create_default_accounts">Oppretter standard GnuCash kontostruktur</string>
   <string name="title_create_default_accounts">Opprette standardkontoer</string>
-  <string name="msg_confirm_create_default_accounts_setting">Alle eksisterende kontoer og transaksjoner p enheten blir slettet.\n\nEr du sikker p at du vil fortsette?</string>
+  <string name="msg_confirm_create_default_accounts_setting">En ny bok pnes med standard accounts\n\nYour gjeldende kontoer og transaksjoner vil ikke bli endret!</string>
   <string name="menu_scheduled_transactions">Planlagte transaksjoner</string>
   <string name="msg_confirm_create_default_accounts_first_run">Velkommen til GnuCash Android! \nDu kan enten opprette et hierarki av brukte kontoer, eller importere din egen GnuCash kontostruktur. \n\nBegge alternativer er ogs tilgjengelige i app innstillinger s du kan velge senere.</string>
   <string name="title_scheduled_transactions">Transaksjoner</string>
@@ -272,10 +273,10 @@
   <string name="label_tap_to_create_schedule">Trykk for  opprette plan</string>
   <string name="title_restore_backup">Gjenopprette sikkerhetskopi&#8230;</string>
   <string name="header_backup_and_export_settings">Backup &amp; eksport</string>
-  <string name="title_dropbox_sync_preference">Enable DropBox</string>
+  <string name="title_dropbox_sync_preference">Aktiver DropBox</string>
   <string name="title_owncloud_sync_preference">Aktiver ownCloud </string>
   <string name="title_backup_preference_category">Sikkerhetskopiering</string>
-  <string name="summary_dropbox_sync">Enable exporting to DropBox</string>
+  <string name="summary_dropbox_sync">Aktiver eksportering til DropBox</string>
   <string name="summary_owncloud_sync">Aktiver eksport til ownCloud</string>
   <string name="title_select_gnucash_xml_file">Velg GnuCash XML-fil</string>
   <string name="title_backup_prefs">Innstillinger for sikkerhetskopiering</string>
@@ -286,7 +287,7 @@
   <string name="toast_backup_failed">Sikkerhetskopiering mislyktes</string>
   <string name="export_warning_xml">Eksporterer alle kontoer og transaksjoner</string>
   <string name="title_google_drive_sync_pref">Aktiver Google Drive</string>
-  <string name="summary_google_drive_sync">Enable exporting to Google Drive</string>
+  <string name="summary_google_drive_sync">Aktiver eksportering til Google Drive</string>
   <string name="toast_install_file_manager">Installer en filbehandler for  velge filer</string>
   <string name="title_select_backup_to_restore">Velg sikkerhetskopien som skal gjenopprettes</string>
   <string name="nav_menu_favorites">Favoritter</string>
@@ -297,11 +298,11 @@
   <string name="nav_menu_settings">Innstillinger</string>
   <string name="username">Brukernavn</string>
   <string name="password">Passord</string>
-  <string name="owncloud_pref">owncloud</string>
+  <string name="owncloud_pref">ownCloud</string>
   <string name="owncloud_server">https://</string>
-  <string name="owncloud_server_invalid">OC server not found</string>
-  <string name="owncloud_user_invalid">OC username/password invalid</string>
-  <string name="owncloud_dir_invalid">Invalid chars: \\ &lt; &gt; : \&quot; | * ? </string>
+  <string name="owncloud_server_invalid">Finner ikke OC-server</string>
+  <string name="owncloud_user_invalid">OC brukernavn/passord ugyldig</string>
+  <string name="owncloud_dir_invalid">Ugyldige tegn: \\ &lt; &gt;: \ \"| * ? </string>
   <string name="owncloud_server_ok">OC server OK</string>
   <string name="owncloud_user_ok">OC username/password OK</string>
   <string name="owncloud_dir_ok">Dir name OK</string>
@@ -395,13 +396,13 @@
   <string name="menu_move_transaction">Move&#8230;</string>
   <string name="menu_duplicate_transaction">Duplicate</string>
   <string name="nav_menu_budgets">Budgets</string>
-  <string name="title_cash_flow_report">Cash Flow</string>
+  <string name="title_cash_flow_report">Kontantstrm</string>
   <string name="title_budgets">Budgets</string>
   <string name="title_use_compact_list">Enable compact view</string>
   <string name="summary_use_compact_list">Enable to always use compact view for transactions list</string>
-  <string name="error_invalid_exchange_rate">Invalid exchange rate</string>
+  <string name="error_invalid_exchange_rate">Ugyldig valutakurs</string>
   <string name="sample_exchange_rate">e.g. 1 %1$s = x.xx %2$s</string>
-  <string name="error_invalid_amount">Invalid amount</string>
+  <string name="error_invalid_amount">Ugyldig belp</string>
   <string-array name="report_time_range">
     <item>Gjeldende mned</item>
     <item>Siste 3 mneder</item>
@@ -444,4 +445,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-nl-rNL/strings.xml b/app/src/main/res/values-nl-rNL/strings.xml
index b84f4c39..52a94696 100644
--- a/app/src/main/res/values-nl-rNL/strings.xml
+++ b/app/src/main/res/values-nl-rNL/strings.xml
@@ -132,12 +132,12 @@
   <string name="summary_xml_ofx_header">Schakel deze optie in als u naar een applicatie anders dan GnuCash wil exporteren</string>
   <string name="title_whats_new">Nieuw sinds de vorige versie</string>
   <string name="whats_new">
-        - Nieuw Material app layout \n
-        - Boekingen in meerdere valuta\n
-        - Rekenmachine voor boekingsbedragen\n
-        - Betere rapporteringsmogelijkheden\n
-        - Nieuwe sectie voor hulp &amp; feedback\n
-        - Meerdere foutcorrecties en verbeteringen\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Wijs af</string>
   <string name="toast_transanction_amount_required">Vul een bedrag in om de transactie op te slaan.</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">Alle</string>
   <string name="summary_create_default_accounts">Creert standaard GnuCash veelgebruikte rekeningstructuur</string>
   <string name="title_create_default_accounts">Standaard rekeningen creren</string>
-  <string name="msg_confirm_create_default_accounts_setting">Alle bestaande rekeningen en boekingen op het apparaat zullen verwijderd worden.\n\nWeet u zeker dat u wilt doorgaan?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Vaste journaalposten</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welkom in GnuCash Android! \nJe kan een nieuwe structuur van
         veel gebruikte rekeningen creren, of je eigen GnuCash rekeningstructuur importeren. \n\nBeide opties zijn ook
@@ -454,4 +454,28 @@ No user-identifiable information will be collected as part of this process!
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-no-rNO/strings.xml b/app/src/main/res/values-no-rNO/strings.xml
index b3ee830e..e027f439 100644
--- a/app/src/main/res/values-no-rNO/strings.xml
+++ b/app/src/main/res/values-no-rNO/strings.xml
@@ -132,12 +132,13 @@
   <string name="summary_xml_ofx_header">Aktiver dette alternativet nr du eksporterer til tredjeparts programvare, borsett fra GnuCash for PC</string>
   <string name="title_whats_new">Hva er nytt</string>
   <string name="whats_new">
-- Nytt Material app design \n
-- Multivaluta transaksjoner \n
-- Kalkulator til transaksjonsbelp \n
-- Forbedrede rapport muligheter \n
-- Ny Hjelp &amp; Tilbakemeldingsseksjon \n
-- Mange feilrettinger og forbedringer \n</string>
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
+	</string>
   <string name="label_dismiss">Avvis</string>
   <string name="toast_transanction_amount_required">Angi et belp for  lagre transaksjonen</string>
   <string name="toast_error_edit_multi_currency_transaction">Multi-valutatransaksjoner kan ikke endres</string>
@@ -208,7 +209,7 @@
   <string name="title_all_accounts">Alle</string>
   <string name="summary_create_default_accounts">Oppretter standard GnuCash kontostruktur</string>
   <string name="title_create_default_accounts">Opprette standardkontoer</string>
-  <string name="msg_confirm_create_default_accounts_setting">Alle eksisterende kontoer og transaksjoner p enheten blir slettet.\n\nEr du sikker p at du vil fortsette?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Planlagte transaksjoner</string>
   <string name="msg_confirm_create_default_accounts_first_run">Velkommen til GnuCash Android! \nDu kan enten opprette et hierarki av brukte kontoer, eller importere din egen GnuCash kontostruktur. \n\nBegge alternativer er ogs tilgjengelige i app innstillinger s du kan velge senere.</string>
   <string name="title_scheduled_transactions">Transaksjoner</string>
@@ -444,4 +445,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-pl-rPL/strings.xml b/app/src/main/res/values-pl-rPL/strings.xml
index f47715d0..8dfd26c0 100644
--- a/app/src/main/res/values-pl-rPL/strings.xml
+++ b/app/src/main/res/values-pl-rPL/strings.xml
@@ -133,12 +133,13 @@ Konto docelowe uywa innej waluty ni konto wyjciowe</string>
   <string name="summary_xml_ofx_header">Wcz t opcj gdy eksportujesz do aplikacji innej ni GnuCash dla desktopa</string>
   <string name="title_whats_new">Co nowego</string>
   <string name="whats_new">
-- Nowy design aplikacji Material
-- Transakcje wielo-walutowe
-- Kalkulator kwot transakcji
-- Ulepszone opcje raportowania
-- Nowe centrum pomocy i feedbacku
-- Wiele naprawionych bdw oraz ulepsze</string>
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
+	</string>
   <string name="label_dismiss">Spocznij</string>
   <string name="toast_transanction_amount_required">Wprowad kwot by zapisa transakcj</string>
   <string name="toast_error_edit_multi_currency_transaction">Wielowalutowe transakcje nie mog by modyfikowane</string>
@@ -210,7 +211,7 @@ Konto docelowe uywa innej waluty ni konto wyjciowe</string>
   <string name="title_all_accounts">Wszystkie</string>
   <string name="summary_create_default_accounts">Tworzy typow dla GnuCash struktur kont</string>
   <string name="title_create_default_accounts">Utwrz domylne konta</string>
-  <string name="msg_confirm_create_default_accounts_setting">Wszystkie istniejce konta i transakcje na urzdzeniu bd usunite.\n\nCzy na pewno chcesz kontynuowa?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Zaplanowane transakcje</string>
   <string name="msg_confirm_create_default_accounts_first_run">Witamy w GnuCash dla Android!\nMoesz utworzy typow hierarchi kont lub zaimportowa wasn struktur.\n\nObie opcje dostpne s w ustawieniach aplikacji, take moesz zdecydowa pniej</string>
   <string name="title_scheduled_transactions">Zaplanowane transakcje</string>
@@ -451,4 +452,30 @@ Konto docelowe uywa innej waluty ni konto wyjciowe</string>
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="few">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="few">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-pt-rBR/strings.xml b/app/src/main/res/values-pt-rBR/strings.xml
index e039d904..b057ca29 100644
--- a/app/src/main/res/values-pt-rBR/strings.xml
+++ b/app/src/main/res/values-pt-rBR/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Active esta opo quando fizer exportaes para outras aplicaes que no seja o GnuCash para Desktop</string>
   <string name="title_whats_new">O que h de novo</string>
   <string name="whats_new">
-		- New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Descartar</string>
@@ -209,7 +209,7 @@
   <string name="title_all_accounts">Todas</string>
   <string name="summary_create_default_accounts">Cria uma estrutura de contas GnuCash padro</string>
   <string name="title_create_default_accounts">Cria contas padro</string>
-  <string name="msg_confirm_create_default_accounts_setting">Todas as contas e transaes existentes no equipamento sero apagadas.\n\nTem a certeza que pretende continuar?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Transaes agendadas</string>
   <string name="msg_confirm_create_default_accounts_first_run">Bem vindo ao GnuCash Android! \nPode criar um hierarquia de contas, ou importar a sua estrutura de contas do GnuCash. \n\n Ambas as opes esto disponves bas Opes da aplicao, para que possa decidir mais tarde.
     </string>
@@ -448,4 +448,28 @@ Neste processo no sero recolhidas informaes do utilizador!</string>
   <string name="toast_transaction_has_no_splits_and_cannot_open">A transao selecionada no tem divises e no pode ser aberta</string>
   <string name="label_split_count">%1$d divises</string>
   <string name="label_inside_account_with_name">em %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-pt-rPT/strings.xml b/app/src/main/res/values-pt-rPT/strings.xml
index 5c196078..3ca9d0b6 100644
--- a/app/src/main/res/values-pt-rPT/strings.xml
+++ b/app/src/main/res/values-pt-rPT/strings.xml
@@ -132,13 +132,12 @@
   <string name="summary_xml_ofx_header">Active esta opo quando fizer exportaes para outras aplicaes que no seja o GnuCash para Desktop</string>
   <string name="title_whats_new">O que h de novo</string>
   <string name="whats_new">
-		- New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
-        - Multiple bug fixes and improvements\n
-	</string>
+- Suporte para vrios livres diferentes\n
+- Adiciona o ownCloud como destino das exportaes\n
+- Vista compacta da lista das transaes\n
+- Redesenhado o ecr de bloqueio de password\n
+- Melhorado o tratamento de transaes agendadas\n
+ - Vrias correces de erros e melhoramentos\n</string>
   <string name="label_dismiss">Descartar</string>
   <string name="toast_transanction_amount_required">Introduza um valor para gravar a transao</string>
   <string name="toast_error_edit_multi_currency_transaction">As transaes multi-moeda no podem ser alteradas</string>
@@ -209,7 +208,7 @@
   <string name="title_all_accounts">Todas</string>
   <string name="summary_create_default_accounts">Cria uma estrutura de contas GnuCash padro</string>
   <string name="title_create_default_accounts">Cria contas padro</string>
-  <string name="msg_confirm_create_default_accounts_setting">Todas as contas e transaes existentes no equipamento sero apagadas.\n\nTem a certeza que pretende continuar?</string>
+  <string name="msg_confirm_create_default_accounts_setting">Ir ser aberto um novo livro com as contas por defeito\n\nAs suas contas e transaes no iro ser modificadas!</string>
   <string name="menu_scheduled_transactions">Transaes agendadas</string>
   <string name="msg_confirm_create_default_accounts_first_run">Bem vindo ao GnuCash Android! \nPode criar um hierarquia de contas, ou importar a sua estrutura de contas do GnuCash. \n\n Ambas as opes esto disponves bas Opes da aplicao, para que possa decidir mais tarde.
     </string>
@@ -448,4 +447,28 @@ Neste processo no sero recolhidas informaes do utilizador!</string>
   <string name="toast_transaction_has_no_splits_and_cannot_open">A transao selecionadas no tem divises e no pode ser aberta</string>
   <string name="label_split_count">Servidor OC no encontrado</string>
   <string name="label_inside_account_with_name">em %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d conta</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transao</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-ro-rRO/strings.xml b/app/src/main/res/values-ro-rRO/strings.xml
index 31833158..266e93c4 100644
--- a/app/src/main/res/values-ro-rRO/strings.xml
+++ b/app/src/main/res/values-ro-rRO/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -214,7 +214,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -458,4 +458,30 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="few">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="few">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-ru/strings.xml b/app/src/main/res/values-ru/strings.xml
index b7ba8b8f..d4df2fa5 100644
--- a/app/src/main/res/values-ru/strings.xml
+++ b/app/src/main/res/values-ru/strings.xml
@@ -132,12 +132,12 @@
   <string name="summary_xml_ofx_header">  ,       GnuCash  </string>
   <string name="title_whats_new"></string>
   <string name="whats_new">
-        -   \n
-        -    \n
-        -    \n
-        -  \n
-        -      \n
-        -     \n
+        -     \n
+        -  ownCloud    \n
+        -    \n
+        -    \n
+        -    \n
+        -      \n
 	</string>
   <string name="label_dismiss"></string>
   <string name="toast_transanction_amount_required"> ,   </string>
@@ -210,7 +210,7 @@
   <string name="title_all_accounts"></string>
   <string name="summary_create_default_accounts">   GnuCash  </string>
   <string name="title_create_default_accounts">   </string>
-  <string name="msg_confirm_create_default_accounts_setting">        .\n\n ,   ?</string>
+  <string name="msg_confirm_create_default_accounts_setting">         \n\n       !</string>
   <string name="menu_scheduled_transactions"> </string>
   <string name="msg_confirm_create_default_accounts_first_run">
           GnuCash  Android!\n    
@@ -456,4 +456,30 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">         </string>
   <string name="label_split_count">%1$d </string>
   <string name="label_inside_account_with_name"> %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d </item>
+    <item quantity="few">%d </item>
+    <item quantity="other">%d </item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d </item>
+    <item quantity="few">%d </item>
+    <item quantity="other">%d </item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item></item>
+    <item></item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">  Google </string>
+  <string name="toast_unable_to_connect_to_google_drive">    Google </string>
+  <string name="toast_enter_amount_to_split">,    </string>
+  <string name="label_export_target_external_service"> </string>
+  <string name="toast_updated_transaction_recurring_schedule">   </string>
+  <string name="label_export_transactions_since_date"> </string>
+  <string name="switch_export_transactions_from_all_time"> </string>
+  <string name="label_recommend_app">  Play Store</string>
+  <string name="repeat_until_date"> %1$s</string>
+  <string name="repeat_on_weekday"> %1$s</string>
+  <string name="repeat_x_times"> %1$s </string>
+  <string name="menu_show_compact_view"> </string>
 </resources>
diff --git a/app/src/main/res/values-sr-rSP/strings.xml b/app/src/main/res/values-sr-rSP/strings.xml
index f2edbb93..a1940ab8 100644
--- a/app/src/main/res/values-sr-rSP/strings.xml
+++ b/app/src/main/res/values-sr-rSP/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -214,7 +214,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -458,4 +458,30 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="few">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="few">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-sv-rSE/strings.xml b/app/src/main/res/values-sv-rSE/strings.xml
index 8f590695..0de912cd 100644
--- a/app/src/main/res/values-sv-rSE/strings.xml
+++ b/app/src/main/res/values-sv-rSE/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -453,4 +453,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-tr-rTR/strings.xml b/app/src/main/res/values-tr-rTR/strings.xml
index 5a5e5a04..1e38343b 100644
--- a/app/src/main/res/values-tr-rTR/strings.xml
+++ b/app/src/main/res/values-tr-rTR/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">Yenilikler</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Yoksay</string>
@@ -213,7 +213,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -453,4 +453,28 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-uk-rUA/strings.xml b/app/src/main/res/values-uk-rUA/strings.xml
index b2dd85d8..26fc66f7 100644
--- a/app/src/main/res/values-uk-rUA/strings.xml
+++ b/app/src/main/res/values-uk-rUA/strings.xml
@@ -132,12 +132,12 @@
   <string name="summary_xml_ofx_header">  ,       GnuCash  </string>
   <string name="title_whats_new"> </string>
   <string name="whats_new">
-        -   \n
-        -   \n
-        -      \n
-        -  \n
-        -       \'\n
-        -     \n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss"></string>
   <string name="toast_transanction_amount_required"> ,   </string>
@@ -210,7 +210,7 @@
   <string name="title_all_accounts"></string>
   <string name="summary_create_default_accounts">    GnuCash</string>
   <string name="title_create_default_accounts">  </string>
-  <string name="msg_confirm_create_default_accounts_setting">      .\n\n ,   ?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions"> </string>
   <string name="msg_confirm_create_default_accounts_first_run">   GnuCash  Android!\n
     	      ,     GnuCash.\n\n
@@ -454,4 +454,30 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="one">%d account</item>
+    <item quantity="few">%d accounts</item>
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="one">%d transaction</item>
+    <item quantity="few">%d transactions</item>
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-vi-rVN/strings.xml b/app/src/main/res/values-vi-rVN/strings.xml
index 0e127f76..3ebe7226 100644
--- a/app/src/main/res/values-vi-rVN/strings.xml
+++ b/app/src/main/res/values-vi-rVN/strings.xml
@@ -132,11 +132,11 @@
   <string name="summary_xml_ofx_header">Enable this option when exporting to third-party application other than GnuCash for desktop</string>
   <string name="title_whats_new">What\'s New</string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
 	</string>
   <string name="label_dismiss">Dismiss</string>
@@ -212,7 +212,7 @@
   <string name="title_all_accounts">All</string>
   <string name="summary_create_default_accounts">Creates default GnuCash commonly-used account structure</string>
   <string name="title_create_default_accounts">Create default accounts</string>
-  <string name="msg_confirm_create_default_accounts_setting">All existing accounts and transactions on the device will be deleted.\n\nAre you sure you want to proceed?</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions">Scheduled Transactions</string>
   <string name="msg_confirm_create_default_accounts_first_run">Welcome to GnuCash Android! \nYou can either create
         a hierarchy of commonly-used accounts, or import your own GnuCash account structure. \n\nBoth options are also
@@ -448,4 +448,26 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-zh-rCN/strings.xml b/app/src/main/res/values-zh-rCN/strings.xml
index 8fefef89..36e22493 100644
--- a/app/src/main/res/values-zh-rCN/strings.xml
+++ b/app/src/main/res/values-zh-rCN/strings.xml
@@ -132,13 +132,13 @@
   <string name="summary_xml_ofx_header">GnuCash</string>
   <string name="title_whats_new"></string>
   <string name="whats_new">
-        - Material Design \n
-        -  \n
-        -  \n
-        -  \n
-        -  \n
-        - \n
-    </string>
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
+        - Multiple bug fixes and improvements\n
+	</string>
   <string name="label_dismiss"></string>
   <string name="toast_transanction_amount_required"></string>
   <string name="toast_error_edit_multi_currency_transaction"></string>
@@ -210,7 +210,7 @@
   <string name="title_all_accounts"></string>
   <string name="summary_create_default_accounts"></string>
   <string name="title_create_default_accounts"></string>
-  <string name="msg_confirm_create_default_accounts_setting">\n\n</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions"></string>
   <string name="msg_confirm_create_default_accounts_first_run">GnuCash Android \n12\
     </string>
@@ -443,4 +443,26 @@
   <string name="toast_transaction_has_no_splits_and_cannot_open"></string>
   <string name="label_split_count">%1$d </string>
   <string name="label_inside_account_with_name"> %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="other">%d </item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="other">%d </item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
diff --git a/app/src/main/res/values-zh-rTW/strings.xml b/app/src/main/res/values-zh-rTW/strings.xml
index 0f26a521..23a7d53b 100644
--- a/app/src/main/res/values-zh-rTW/strings.xml
+++ b/app/src/main/res/values-zh-rTW/strings.xml
@@ -132,13 +132,13 @@
   <string name="summary_xml_ofx_header">GnuCash</string>
   <string name="title_whats_new"></string>
   <string name="whats_new">
-        - New Material app design \n
-        - Multi-currency transactions\n
-        - Calculator to transaction amounts\n
-        - Better reporting options\n
-        - New help &amp; feedback section\n
+        - Support for multiple different books \n
+        - Adds ownCloud as destination for exports\n
+        - Compact view for transactions list\n
+        - Re-design of passcode lock screen\n
+        - Improved handling of scheduled transactions\n
         - Multiple bug fixes and improvements\n
-    </string>
+	</string>
   <string name="label_dismiss"></string>
   <string name="toast_transanction_amount_required"></string>
   <string name="toast_error_edit_multi_currency_transaction"></string>
@@ -210,7 +210,7 @@
   <string name="title_all_accounts"></string>
   <string name="summary_create_default_accounts"></string>
   <string name="title_create_default_accounts"></string>
-  <string name="msg_confirm_create_default_accounts_setting">\n\n</string>
+  <string name="msg_confirm_create_default_accounts_setting">A new book will be opened with the default accounts\n\nYour current accounts and transactions will not be modified!</string>
   <string name="menu_scheduled_transactions"></string>
   <string name="msg_confirm_create_default_accounts_first_run">GnuCash Android \n12\
     </string>
@@ -445,4 +445,26 @@ No user-identifiable information will be collected as part of this process!
   <string name="toast_transaction_has_no_splits_and_cannot_open">The selected transaction has no splits and cannot be opened</string>
   <string name="label_split_count">%1$d splits</string>
   <string name="label_inside_account_with_name">in %1$s</string>
+  <plurals name="book_account_stats">
+    <item quantity="other">%d accounts</item>
+  </plurals>
+  <plurals name="book_transaction_stats">
+    <item quantity="other">%d transactions</item>
+  </plurals>
+  <string-array name="report_account_types">
+    <item>EXPENSE</item>
+    <item>INCOME</item>
+  </string-array>
+  <string name="toast_connected_to_google_drive">Connected to Google Drive</string>
+  <string name="toast_unable_to_connect_to_google_drive">Unable to connect to Google Drive</string>
+  <string name="toast_enter_amount_to_split">Please enter an amount to split</string>
+  <string name="label_export_target_external_service">external service</string>
+  <string name="toast_updated_transaction_recurring_schedule">Updated transaction recurring schedule</string>
+  <string name="label_export_transactions_since_date">Since</string>
+  <string name="switch_export_transactions_from_all_time">All time</string>
+  <string name="label_recommend_app">Recommend in Play Store</string>
+  <string name="repeat_until_date">until %1$s</string>
+  <string name="repeat_on_weekday">on %1$s</string>
+  <string name="repeat_x_times">for %1$s times</string>
+  <string name="menu_show_compact_view">Compact View</string>
 </resources>
