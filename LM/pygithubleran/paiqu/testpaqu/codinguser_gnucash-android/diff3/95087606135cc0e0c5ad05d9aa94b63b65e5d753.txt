From 95087606135cc0e0c5ad05d9aa94b63b65e5d753 Mon Sep 17 00:00:00 2001
From: Ngewi Fet <ngewif@gmail.com>
Date: Thu, 1 Oct 2015 01:16:34 +0200
Subject: [PATCH] Fix passcode required after launching help section

If account has no transactions when it's opened, show sub-accounts
Rearrange export form layout
Add link to Google+ community in README
Update strings and add missing strings from pt locale
Fix rotating device after changing loaded account uses original account still
---
 README.md                                          |  4 +
 .../android/ui/common/BaseDrawerActivity.java      |  4 +
 .../android/ui/export/ExportFormFragment.java      | 12 ++-
 .../ui/transaction/TransactionsActivity.java       | 20 +++--
 app/src/main/res/layout/fragment_export_form.xml   | 89 +++++++++++++---------
 app/src/main/res/values-de/strings.xml             |  2 +-
 app/src/main/res/values-el/strings.xml             |  4 +-
 app/src/main/res/values-es-rMX/strings.xml         |  4 +-
 app/src/main/res/values-es/strings.xml             |  4 +-
 app/src/main/res/values-fr/strings.xml             |  4 +-
 app/src/main/res/values-hu/strings.xml             |  4 +-
 app/src/main/res/values-it/strings.xml             |  4 +-
 app/src/main/res/values-nb/strings.xml             |  4 +-
 app/src/main/res/values-nl/strings.xml             |  4 +-
 app/src/main/res/values-pl/strings.xml             |  4 +-
 app/src/main/res/values-pt-rBR/strings.xml         |  2 +-
 app/src/main/res/values-pt/strings.xml             | 37 ++++++++-
 app/src/main/res/values-ru/strings.xml             |  4 +-
 app/src/main/res/values-uk/strings.xml             |  4 +-
 app/src/main/res/values-zh-rTW/strings.xml         |  4 +-
 app/src/main/res/values-zh/strings.xml             |  4 +-
 app/src/main/res/values/strings.xml                |  6 +-
 22 files changed, 148 insertions(+), 80 deletions(-)

diff --git a/README.md b/README.md
index bc9ea32a..568d4947 100644
--- a/README.md
+++ b/README.md
@@ -72,6 +72,10 @@ Once installed, then you can import the project into Android Studio:
 
 Then, Gradle will do everything for you.
 
+## Support
+
+Google+ Community: https://plus.google.com/communities/104728406764752407046
+
 ## Contributing
 
 There are several ways you could contribute to the development.
diff --git a/app/src/main/java/org/gnucash/android/ui/common/BaseDrawerActivity.java b/app/src/main/java/org/gnucash/android/ui/common/BaseDrawerActivity.java
index 15c1072e..85510d66 100644
--- a/app/src/main/java/org/gnucash/android/ui/common/BaseDrawerActivity.java
+++ b/app/src/main/java/org/gnucash/android/ui/common/BaseDrawerActivity.java
@@ -17,8 +17,10 @@
 
 import android.app.Activity;
 import android.content.Intent;
+import android.content.SharedPreferences;
 import android.content.res.Configuration;
 import android.os.Bundle;
+import android.preference.PreferenceManager;
 import android.support.design.widget.NavigationView;
 import android.support.v4.widget.DrawerLayout;
 import android.support.v7.app.ActionBar;
@@ -178,6 +180,8 @@ protected void selectItem(int itemId) {
                 break;
 
             case R.id.nav_item_help:
+                SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);
+                prefs.edit().putBoolean(UxArgument.SKIP_PASSCODE_SCREEN, true).apply();
                 UserVoice.launchUserVoice(this);
                 break;
         }
diff --git a/app/src/main/java/org/gnucash/android/ui/export/ExportFormFragment.java b/app/src/main/java/org/gnucash/android/ui/export/ExportFormFragment.java
index 82adc130..55cca85a 100644
--- a/app/src/main/java/org/gnucash/android/ui/export/ExportFormFragment.java
+++ b/app/src/main/java/org/gnucash/android/ui/export/ExportFormFragment.java
@@ -70,7 +70,8 @@
  * Dialog fragment for exporting account information as OFX files.
  * @author Ngewi Fet <ngewif@gmail.com>
  */
-public class ExportFormFragment extends Fragment implements RecurrencePickerDialog.OnRecurrenceSetListener {
+public class
+		ExportFormFragment extends Fragment implements RecurrencePickerDialog.OnRecurrenceSetListener {
 		
 	/**
 	 * Spinner for selecting destination for the exported file.
@@ -149,6 +150,7 @@ public void onRadioButtonClicked(View view){
 			case R.id.radio_xml_format:
 				mExportFormat = ExportFormat.XML;
 				mExportWarningTextView.setText(R.string.export_warning_xml);
+
 				break;
         }
     }
@@ -329,6 +331,7 @@ public void onClick(View view) {
 		//this part (setting the export format) must come after the recurrence view bindings above
         String defaultExportFormat = sharedPrefs.getString(getString(R.string.key_default_export_format), ExportFormat.QIF.name());
         mExportFormat = ExportFormat.valueOf(defaultExportFormat);
+
         View.OnClickListener clickListener = new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -356,6 +359,13 @@ public void onClick(View view) {
 		if (defaultExportFormat.equalsIgnoreCase(ExportFormat.XML.name())){
 			xmlRadioButton.performClick();
 		}
+
+		if (GnuCashApplication.isDoubleEntryEnabled()){
+			ofxRadioButton.setVisibility(View.GONE);
+		} else {
+			xmlRadioButton.setVisibility(View.GONE);
+		}
+
 	}
 
 	@Override
diff --git a/app/src/main/java/org/gnucash/android/ui/transaction/TransactionsActivity.java b/app/src/main/java/org/gnucash/android/ui/transaction/TransactionsActivity.java
index 578f25c7..350f0a50 100644
--- a/app/src/main/java/org/gnucash/android/ui/transaction/TransactionsActivity.java
+++ b/app/src/main/java/org/gnucash/android/ui/transaction/TransactionsActivity.java
@@ -47,6 +47,7 @@
 import org.gnucash.android.app.GnuCashApplication;
 import org.gnucash.android.db.AccountsDbAdapter;
 import org.gnucash.android.db.DatabaseSchema;
+import org.gnucash.android.db.TransactionsDbAdapter;
 import org.gnucash.android.model.Account;
 import org.gnucash.android.model.Money;
 import org.gnucash.android.ui.common.BaseDrawerActivity;
@@ -126,6 +127,7 @@
         @Override
         public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {
             mAccountUID = mAccountsDbAdapter.getUID(id);
+            getIntent().putExtra(UxArgument.SELECTED_ACCOUNT_UID, mAccountUID); //update the intent in case the account gets rotated
             mIsPlaceholderAccount = mAccountsDbAdapter.isPlaceholderAccount(mAccountUID);
             if (mIsPlaceholderAccount){
                 if (mTabLayout.getTabCount() > 1) {
@@ -285,17 +287,15 @@ protected void onCreate(Bundle savedInstanceState) {
 
         mTabLayout.addTab(mTabLayout.newTab().setText(R.string.section_header_subaccounts));
         if (!mIsPlaceholderAccount) {
-            mTabLayout.addTab(mTabLayout.newTab().setText(R.string.section_header_transactions), true);
+            mTabLayout.addTab(mTabLayout.newTab().setText(R.string.section_header_transactions));
         }
 
         setupActionBarNavigation();
 
         mPagerAdapter = new AccountViewPagerAdapter(getSupportFragmentManager());
         mViewPager.setAdapter(mPagerAdapter);
-
-        mViewPager.setCurrentItem(INDEX_TRANSACTIONS_FRAGMENT);
-
         mViewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(mTabLayout));
+
         mTabLayout.setOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {
             @Override
             public void onTabSelected(TabLayout.Tab tab) {
@@ -304,15 +304,23 @@ public void onTabSelected(TabLayout.Tab tab) {
 
             @Override
             public void onTabUnselected(TabLayout.Tab tab) {
-
+                //nothing to see here, move along
             }
 
             @Override
             public void onTabReselected(TabLayout.Tab tab) {
-
+                //nothing to see here, move along
             }
         });
 
+        //if there are no transactions, and there are sub-accounts, show the sub-accounts
+        if (TransactionsDbAdapter.getInstance().getTransactionsCount(mAccountUID) == 0
+                && mAccountsDbAdapter.getSubAccountCount(mAccountUID) > 0){
+            mViewPager.setCurrentItem(INDEX_SUB_ACCOUNTS_FRAGMENT);
+        } else {
+            mViewPager.setCurrentItem(INDEX_TRANSACTIONS_FRAGMENT);
+        }
+
         mCreateFloatingButton.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
diff --git a/app/src/main/res/layout/fragment_export_form.xml b/app/src/main/res/layout/fragment_export_form.xml
index e9eb5e50..3fafbc43 100644
--- a/app/src/main/res/layout/fragment_export_form.xml
+++ b/app/src/main/res/layout/fragment_export_form.xml
@@ -27,50 +27,63 @@
         android:layout_marginTop="@dimen/dialog_padding"
         android:orientation="vertical" >
 
-        <TextView
-            android:text="@string/label_export_destination"
-            android:layout_height="wrap_content"
-            android:layout_width="wrap_content"
-            android:layout_marginBottom="-8dip"
-            style="@style/TextAppearance.EditTransaction_LabelSmall" />
-
-        <Spinner android:id="@+id/spinner_export_destination"
-            android:layout_height="?android:attr/listPreferredItemHeight"
+        <LinearLayout android:orientation="horizontal"
+            android:gravity="center_vertical"
             android:layout_width="match_parent"
-            android:layout_marginBottom="@dimen/dialog_padding" />
-
-        <TextView
-            android:id="@+id/label_export_format"
-            android:text="@string/label_export_format"
-            android:layout_height="wrap_content"
-            android:layout_width="wrap_content"
-            android:layout_marginBottom="-8dip"
-            style="@style/TextAppearance.EditTransaction_LabelSmall" />
+            android:layout_height="wrap_content" >
+            <TextView
+                android:text="@string/label_export_destination"
+                android:layout_marginLeft="8dp"
+                android:layout_height="?android:attr/listPreferredItemHeight"
+                android:layout_width="wrap_content"
+                android:gravity="center_vertical"
+                style="@style/TextAppearance.EditTransaction_Small" />
 
-        <RadioGroup
+            <Spinner android:id="@+id/spinner_export_destination"
+                android:layout_marginLeft="15dp"
+                android:layout_height="?android:attr/listPreferredItemHeight"
+                android:layout_width="match_parent" />
+        </LinearLayout>
+        <LinearLayout android:orientation="horizontal"
             android:layout_width="match_parent"
             android:layout_height="wrap_content"
-            android:layout_marginBottom="@dimen/dialog_padding"
-            android:orientation="horizontal">
-
-            <RadioButton android:id="@+id/radio_qif_format"
+            android:gravity="center_vertical"
+            android:layout_marginBottom="-8dp">
+            <TextView
+                android:id="@+id/label_export_format"
+                android:text="@string/label_export_format"
+                android:gravity="center_vertical"
+                android:layout_marginLeft="8dp"
+                android:layout_height="?android:attr/listPreferredItemHeight"
                 android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:layout_marginRight="20dp"
-                android:checked="true"
-                android:text="QIF" />
+                style="@style/TextAppearance.EditTransaction_Small" />
 
-            <RadioButton android:id="@+id/radio_ofx_format"
-                android:layout_width="wrap_content"
+            <RadioGroup
+                android:layout_width="match_parent"
                 android:layout_height="wrap_content"
-                android:layout_marginRight="20dp"
-                android:text="OFX"/>
+                android:layout_marginLeft="35dp"
+                android:gravity="center_vertical"
+                android:orientation="horizontal">
 
-            <RadioButton android:id="@+id/radio_xml_format"
-                android:layout_width="wrap_content"
-                android:layout_height="wrap_content"
-                android:text="XML"/>
-        </RadioGroup>
+                <RadioButton android:id="@+id/radio_qif_format"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_marginRight="20dp"
+                    android:checked="true"
+                    android:text="QIF" />
+
+                <RadioButton android:id="@+id/radio_ofx_format"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_marginRight="20dp"
+                    android:text="OFX"/>
+
+                <RadioButton android:id="@+id/radio_xml_format"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="XML"/>
+            </RadioGroup>
+        </LinearLayout>
         <TextView android:id="@+id/export_warning"
             tools:text="Some format-based export warning"
             android:textColor="@color/title_green"
@@ -107,12 +120,12 @@
                 android:text="@string/label_recurring_transaction"
                 android:layout_height="wrap_content"
                 android:layout_width="wrap_content"
-                android:layout_marginBottom="-8dip"
-                style="@style/TextAppearance.EditTransaction_LabelSmall" />
+                style="@style/TextAppearance.EditTransaction_Small" />
 
             <TextView android:id="@+id/input_recurrence"
                 android:layout_width="match_parent"
                 android:layout_height="wrap_content"
+                android:minHeight="40dp"
                 android:gravity="center"
                 android:text="@string/label_tap_to_create_schedule"
                 style="@style/Dropdown.TextView" />
diff --git a/app/src/main/res/values-de/strings.xml b/app/src/main/res/values-de/strings.xml
index 2f8f2f96..f9ab301a 100644
--- a/app/src/main/res/values-de/strings.xml
+++ b/app/src/main/res/values-de/strings.xml
@@ -485,7 +485,7 @@
     <string name="title_enable_crashlytics">Enable Crash Logging</string>
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!</string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format"> Format</string>
 	<string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
 	<string name="header_report_settings">Reports</string>
 	<string name="label_report_currency">Select currency</string>
diff --git a/app/src/main/res/values-el/strings.xml b/app/src/main/res/values-el/strings.xml
index eb04243c..b36015ef 100644
--- a/app/src/main/res/values-el/strings.xml
+++ b/app/src/main/res/values-el/strings.xml
@@ -46,7 +46,7 @@
     <string name="label_transaction_description"></string>
     <string name="menu_move"></string>
     <string name="title_selected">%1$d </string>
-    <string name="label_export_destination"> </string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Export transactions</string>
     <string name="option_export_all_transactions">   </string>
     <string name="hint_export_choice">,          .          </string>
@@ -500,7 +500,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format"> Format</string>
 	<string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
 	<string name="header_report_settings">Reports</string>
 	<string name="label_report_currency">Select currency</string>
diff --git a/app/src/main/res/values-es-rMX/strings.xml b/app/src/main/res/values-es-rMX/strings.xml
index feb16dfb..07ffa92c 100644
--- a/app/src/main/res/values-es-rMX/strings.xml
+++ b/app/src/main/res/values-es-rMX/strings.xml
@@ -46,7 +46,7 @@
     <string name="label_transaction_description">Descripci&#243;n</string>
     <string name="menu_move">Mover</string>
     <string name="title_selected">%1$d seleccionado</string>
-    <string name="label_export_destination">Exportar Destino</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Exportar todas las transacciones</string>
     <string name="hint_export_choice">Por omisi&#243;n, s&#243;lo las trasacciones nuevas ser&#225;n exportadas. Selecione esta opci&#243;n para exportar todas las transacciones</string>
@@ -489,7 +489,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
     <string name="header_report_settings">Reports</string>
     <string name="label_report_currency">Select currency</string>
diff --git a/app/src/main/res/values-es/strings.xml b/app/src/main/res/values-es/strings.xml
index 8b4f5387..1b5d064e 100644
--- a/app/src/main/res/values-es/strings.xml
+++ b/app/src/main/res/values-es/strings.xml
@@ -46,7 +46,7 @@
     <string name="label_transaction_description">Nota</string>
     <string name="menu_move">MOVER</string>
     <string name="title_selected">%1$d seleccionado</string>
-    <string name="label_export_destination">Destino de la exportaci&#243;n</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Exportar todas las transacciones</string>
     <string name="hint_export_choice">Por defecto solo las nuevas transacciones desde la &#250;ltima exportaci&#243;n ser&#225;n exportadas. Seleccione esta opci&#243;n para exportar todas las transacciones</string>
@@ -486,7 +486,7 @@
     <string name="title_enable_crashlytics">Activar registro de cuelgues</string>
     <string name="msg_enable_crashlytics">Activar para enviar informaci&#243;n de errores a los desarolladores (recomendado).
 Este proceso solo recoge informaci&#243;n que no permite identificar al usuario</string>
-    <string name="label_export_format">Formato de exportaci&#243;n</string>
+    <string name="label_export_format">Format</string>
 	<string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
 	<string name="header_report_settings">Reports</string>
 	<string name="label_report_currency">Select currency</string>
diff --git a/app/src/main/res/values-fr/strings.xml b/app/src/main/res/values-fr/strings.xml
index 9087a64d..d4b6fc47 100644
--- a/app/src/main/res/values-fr/strings.xml
+++ b/app/src/main/res/values-fr/strings.xml
@@ -46,7 +46,7 @@
     <string name="label_transaction_description">Note</string>
     <string name="menu_move">DPLACER</string>
     <string name="title_selected">%1$d s&#233;lectionn(s)</string>
-    <string name="label_export_destination">Destination d\'export</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Exporter les transactions</string>
     <string name="option_export_all_transactions">Exporter toutes les transactions</string>
     <string name="hint_export_choice">Par d&#233;faut, seul les nouvelles transactions depuis le dernier export seront exportes. Cochez cette option pour exporter toutes les transactions</string>
@@ -486,7 +486,7 @@
     <string name="msg_enable_crashlytics">Activer pour envoyer aux dveloppeurs d\'amlioration des informations sur les dysfonctionnements (recommand).
 Aucune information permettant d\'identifier l\'utilisateur ne sera recueillis dans le cadre de ce processus!
     </string>
-    <string name="label_export_format">Format d\'Export</string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">Le rpertoire de sauvegarde non trouv. Vrifiez la carte SD !</string>
     <string name="header_report_settings">Rapports</string>
     <string name="label_report_currency">Slectionnez la monnaie</string>
diff --git a/app/src/main/res/values-hu/strings.xml b/app/src/main/res/values-hu/strings.xml
index eb116273..c28a4a2f 100644
--- a/app/src/main/res/values-hu/strings.xml
+++ b/app/src/main/res/values-hu/strings.xml
@@ -46,7 +46,7 @@
     <string name="menu_move">MOVE</string>
     <string name="title_selected">%1$d selected</string>
     <string name="label_account_balance">Balance:</string>
-    <string name="label_export_destination">Export Destination</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Export all transactions</string>
     <string name="hint_export_choice">By default, only new transactions since last export will be exported. Check this option to export all transactions</string>
@@ -490,7 +490,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
     <string name="header_report_settings">Reports</string>
     <string name="label_report_currency">Select currency</string>
diff --git a/app/src/main/res/values-it/strings.xml b/app/src/main/res/values-it/strings.xml
index 7372ef4f..6f31e2eb 100644
--- a/app/src/main/res/values-it/strings.xml
+++ b/app/src/main/res/values-it/strings.xml
@@ -47,7 +47,7 @@
     <string name="menu_move">SPOSTA</string>
     <string name="title_selected">%1$d selezionate</string>
     <string name="label_account_balance">Somma totale:</string>
-    <string name="label_export_destination">Destinazione di esportazione</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Esporta transazioni</string>
     <string name="option_export_all_transactions">Esporta tutte le transazioni</string>
     <string name="hint_export_choice">Di default, verranno esportate solo le transazioni dall\'ultima esportazione. Selezionare questa opzione per esportare tutte le transazioni</string>
@@ -490,7 +490,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
     <string name="header_report_settings">Reports</string>
     <string name="label_report_currency">Select currency</string>
diff --git a/app/src/main/res/values-nb/strings.xml b/app/src/main/res/values-nb/strings.xml
index 6ea22d7c..d9a813d7 100644
--- a/app/src/main/res/values-nb/strings.xml
+++ b/app/src/main/res/values-nb/strings.xml
@@ -47,7 +47,7 @@
     <string name="label_transaction_description">Notat</string>
     <string name="menu_move">FLYTT</string>
     <string name="title_selected">%1$d valgt</string>
-    <string name="label_export_destination">Eksportmottaker</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Eksporter transaksjoner</string>
     <string name="option_export_all_transactions">Eksporter alle transaksjoner</string>
     <string name="hint_export_choice">Vanligvis vil kun nye transaksjoner bli eksportert.  Merk dette valget for  eksportere alle transaksjonene</string>
@@ -487,7 +487,7 @@
     <string name="msg_enable_crashlytics">Skru p feilrapportering til utviklerene for utbedring (anbefalt).
 Ingen brukerinformasjon vil bli delt i denne prosessen!
     </string>
-    <string name="label_export_format">Eksporteringsformat</string>
+    <string name="label_export_format">Format</string>
 	<string name="toast_backup_folder_not_found">Mappe for sikkerhetskopier ikke funnet. Sjekk at SD kortet er montert!</string>
 	<string name="header_report_settings">Rapporter</string>
 	<string name="label_report_currency">Velg valuta</string>
diff --git a/app/src/main/res/values-nl/strings.xml b/app/src/main/res/values-nl/strings.xml
index b9ab74a4..66ad1630 100644
--- a/app/src/main/res/values-nl/strings.xml
+++ b/app/src/main/res/values-nl/strings.xml
@@ -47,7 +47,7 @@
     <string name="label_transaction_description">Omschrijving</string>
     <string name="menu_move">Verplaatsen</string>
     <string name="title_selected">%1$d geselecteerd</string>
-    <string name="label_export_destination">Export bestemming</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">OFX exporteren</string>
     <string name="option_export_all_transactions">Alle boekingen exporteren</string>
     <string name="hint_export_choice">Aanvinken om alle boekingen te exporteren. Anders worden uitsluitend de nieuwe boekingen sinds de laatste export ge&#235;xporteerd.</string>
@@ -492,7 +492,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
     <string name="header_report_settings">Rapporten</string>
     <string name="label_report_currency">Munteenheid selecteren</string>
diff --git a/app/src/main/res/values-pl/strings.xml b/app/src/main/res/values-pl/strings.xml
index 08751b57..1bf9e4a3 100644
--- a/app/src/main/res/values-pl/strings.xml
+++ b/app/src/main/res/values-pl/strings.xml
@@ -51,7 +51,7 @@
     <string name="menu_move">PRZENIE</string>
     <string name="title_selected">%1$d wybranych</string>
     <string name="label_account_balance">Saldo:</string>
-    <string name="label_export_destination">Cel eksportu</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Eksport transakcji</string>
     <string name="option_export_all_transactions">Eksportuj wszystkie transakcje</string>
     <string name="hint_export_choice">By default, only new transactions since last export will be exported. Check this option to export all transactions</string>
@@ -491,7 +491,7 @@
     <string name="title_enable_crashlytics">Wcz logowanie bdw</string>
     <string name="msg_enable_crashlytics">Wcz by wysya inforamcje o bdach do twrcw w celu poleszania aplikacji (zalecane).
 adne informacje umoliwiajce identyfikacj uytkownika nie bd zbierane w ramach tego procesu!</string>
-    <string name="label_export_format">Format eksportu</string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">Folder kopii zapasowej nie moe by odnaleziony. Upewnij si, e KARTA SD jest zamontowana!</string>
     <string name="label_old_passcode">Wpisz stare haso</string>
     <string name="label_new_passcode">Wpisz nowe haso</string>
diff --git a/app/src/main/res/values-pt-rBR/strings.xml b/app/src/main/res/values-pt-rBR/strings.xml
index cc6a250b..02f492f7 100644
--- a/app/src/main/res/values-pt-rBR/strings.xml
+++ b/app/src/main/res/values-pt-rBR/strings.xml
@@ -492,7 +492,7 @@ Nenhuma informao de  identificao do usurio ser coletada neste proces
 	<string name="label_confirm_passcode">Please confirm your passcode</string>
 	<string name="label_new_passcode">Enter your new passcode</string>
 	<string name="label_old_passcode">Enter your old passcode</string>
-    <string name="label_export_format">Formato de exportao</string>
+    <string name="label_export_format">Formato </string>
 	<string name="toast_backup_folder_not_found">Pasta de backup no encontrada. Verifique se o carto SD est conectado!</string>
 	<string name="header_report_settings">Relatrios</string>
 	<string name="label_report_currency">Selecionar moeda</string>
diff --git a/app/src/main/res/values-pt/strings.xml b/app/src/main/res/values-pt/strings.xml
index 89f9241b..279f132b 100644
--- a/app/src/main/res/values-pt/strings.xml
+++ b/app/src/main/res/values-pt/strings.xml
@@ -51,7 +51,7 @@
     <string name="menu_move">MOVER</string>
     <string name="title_selected">%1$d seleccionado</string>
     <string name="label_account_balance">Saldo:</string>
-    <string name="label_export_destination">Destino da Exporta&#231;&#227;o</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Exportar Transa&#231;&#245;es</string>
     <string name="option_export_all_transactions">Exportar todas as transa&#231;&#245;es</string>
     <string name="hint_export_choice">Por defeito, apenas as novas transa&#231;&#245;es ap&#243;s a &#250;ltima exporta&#231;&#227;o ser&#227;o exportadas. Marque esta op&#231;&#227;o para exportar todas as transa&#231;&#245;es</string>
@@ -376,9 +376,7 @@
     <!-- Default title for color picker dialog [CHAR LIMIT=30] -->
     <string name="color_picker_default_title">Escolha uma c&#244;r</string>
     <!-- Content description for a color square. -->
-    <string name="color_swatch_description">C&#244;r <xliff:g id="color_index" example="14">%1$d</xliff:g></string>
     <!-- Content description for a selected color square. -->
-    <string name="color_swatch_description_selected">C&#244;r <xliff:g id="color_index" example="14">%1$d</xliff:g> selected</string>
     <string name="label_account_color_and_type">C&#244;r da Conta &amp; Tipo</string>
     <string name="label_delete_sub_accounts">Apagar sub-contas</string>
     <string name="title_recent_accounts">Recentes</string>
@@ -492,7 +490,7 @@
     <string name="title_enable_crashlytics">Permite o registo de Crash</string>
     <string name="msg_enable_crashlytics">Permite o envio de informa&#231;&#245;es aos programadores para melhoria do programa (recomendado).
 Neste processo n&#227;o ser&#227;o recolhidas informa&#231;&#245;es do utilizador!</string>
-    <string name="label_export_format">Formato de exporta&#231;&#227;o</string>
+    <string name="label_export_format">Formato </string>
     <string name="toast_backup_folder_not_found">Pasta de Backup n&#227;o encontrada. Tenha a certeze que o cart&#227;o SD est&#225; montado!</string>
     <string name="label_old_passcode">Introduza a palavra passe antiga</string>
     <string name="label_new_passcode">Introduza a nova palavra passe</string>
@@ -525,4 +523,35 @@ Neste processo n&#227;o ser&#227;o recolhidas informa&#231;&#245;es do utilizado
     <string name="menu_group_by_year">Year</string>
     <string name="title_balance_sheet_report">Balance Sheet</string>
     <string name="label_balance_sheet_total">Total:</string>
+    <string name="label_error_invalid_expression">Invalid expression!</string>
+    <string name="error_converted_amount_required">The converted amount is required</string>
+    <string name="error_exchange_rate_required">An exchange rate is required</string>
+    <string name="btn_wizard_finish">Done</string>
+    <string name="btn_wizard_next">Next</string>
+    <string name="label_scheduled_action_ended">"Ended, last executed on %1$s"</string>
+    <string name="label_select_bar_to_view_details">Select a bar to view details</string>
+    <string name="msg_wizard_welcome_page">Before you dive in, \nlet\'s setup a few things first\n\nTo continue, press Next</string>
+    <string name="nav_menu_help"><![CDATA[Help & Feedback]]></string>
+    <string name="nav_menu_scheduled_actions">Scheduled Actions</string>
+    <string name="title_setup_gnucash">Setup GnuCash</string>
+    <string name="title_split_editor">Split Editor</string>
+    <string name="title_transfer_funds">Transfer Funds</string>
+    <string name="toast_error_check_split_amounts">Check that all splits have valid amounts before saving!</string>
+    <string name="toast_legend_too_long">The legend is too long</string>
+    <string name="toast_scheduled_recurring_transaction">Scheduled recurring transaction</string>
+    <string name="wizard_btn_back">Back</string>
+    <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
+    <string name="wizard_option_create_default_accounts">Create default accounts</string>
+    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
+    <string name="wizard_option_import_my_accounts">Import my accounts</string>
+    <string name="wizard_option_let_me_handle_it">Let me handle it</string>
+    <string name="wizard_title_account_setup">Account Setup</string>
+    <string name="wizard_title_default_currency">Default Currency</string>
+    <string name="wizard_title_feedback_options">Feedback Options</string>
+    <string name="wizard_title_select_currency">Select Currency</string>
+    <string name="wizard_title_welcome_to_gnucash">Welcome to GnuCash</string>
+    <string name="label_no_favorite_accounts">No favorite accounts</string>
+    <string name="label_no_recent_accounts">No recent accounts</string>
+    <string name="hint_account_description">Account description</string>
 </resources>
diff --git a/app/src/main/res/values-ru/strings.xml b/app/src/main/res/values-ru/strings.xml
index cc2ec8b8..55b31ac5 100644
--- a/app/src/main/res/values-ru/strings.xml
+++ b/app/src/main/res/values-ru/strings.xml
@@ -46,7 +46,7 @@
     <string name="label_transaction_description"></string>
     <string name="menu_move"></string>
     <string name="title_selected">%1$d </string>
-    <string name="label_export_destination"> </string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog"> </string>
     <string name="option_export_all_transactions"> </string>
     <string name="hint_export_choice">  ,    .</string>
@@ -493,7 +493,7 @@
     </plurals>
     <string name="title_enable_crashlytics">  </string>
     <string name="msg_enable_crashlytics">    ().     .</string>
-    <string name="label_export_format">  </string>
+    <string name="label_export_format"> </string>
     <string name="toast_backup_folder_not_found">     .    ?</string>
     <string name="header_report_settings"></string>
     <string name="label_report_currency"> </string>
diff --git a/app/src/main/res/values-uk/strings.xml b/app/src/main/res/values-uk/strings.xml
index 5fccdf0b..cd1ac83f 100644
--- a/app/src/main/res/values-uk/strings.xml
+++ b/app/src/main/res/values-uk/strings.xml
@@ -28,7 +28,7 @@
     <string name="label_transaction_description"></string>
     <string name="menu_move"></string>
     <string name="title_selected">%1$d </string>
-    <string name="label_export_destination"> </string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog"> </string>
     <string name="option_export_all_transactions"> </string>
     <string name="hint_export_choice">  ,    .</string>
@@ -473,7 +473,7 @@
     </plurals>
     <string name="title_enable_crashlytics">   </string>
     <string name="msg_enable_crashlytics">    ().     .</string>
-    <string name="label_export_format">  </string>
+    <string name="label_export_format"> </string>
     <string name="toast_backup_folder_not_found">     .  \'  ?</string>
     <string name="header_report_settings"></string>
     <string name="label_report_currency"> </string>
diff --git a/app/src/main/res/values-zh-rTW/strings.xml b/app/src/main/res/values-zh-rTW/strings.xml
index 495e7090..7a593904 100644
--- a/app/src/main/res/values-zh-rTW/strings.xml
+++ b/app/src/main/res/values-zh-rTW/strings.xml
@@ -51,7 +51,7 @@
     <string name="menu_move"></string>
     <string name="title_selected">%1$d </string>
     <string name="label_account_balance"></string>
-    <string name="label_export_destination"></string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog"></string>
     <string name="option_export_all_transactions"></string>
     <string name="hint_export_choice"></string>
@@ -492,7 +492,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format"></string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">SD</string>
     <string name="label_old_passcode"></string>
     <string name="label_new_passcode"></string>
diff --git a/app/src/main/res/values-zh/strings.xml b/app/src/main/res/values-zh/strings.xml
index a95287f7..6b755894 100644
--- a/app/src/main/res/values-zh/strings.xml
+++ b/app/src/main/res/values-zh/strings.xml
@@ -52,7 +52,7 @@
     <string name="menu_move"></string>
     <string name="title_selected">%1$d </string>
     <string name="label_account_balance"></string>
-    <string name="label_export_destination"></string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog"></string>
     <string name="option_export_all_transactions"></string>
     <string name="hint_export_choice"></string>
@@ -493,7 +493,7 @@
     <string name="msg_enable_crashlytics">Enable to send information about malfunctions to the developers for improvement (recommended).
 No user-identifiable information will be collected as part of this process!
     </string>
-    <string name="label_export_format"></string>
+    <string name="label_export_format">Format</string>
     <string name="toast_backup_folder_not_found">SD</string>
     <string name="label_old_passcode"></string>
     <string name="label_new_passcode"></string>
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
index 9485c14e..b50deb0f 100644
--- a/app/src/main/res/values/strings.xml
+++ b/app/src/main/res/values/strings.xml
@@ -51,7 +51,7 @@
     <string name="menu_move">MOVE</string>
     <string name="title_selected">%1$d selected</string>
     <string name="label_account_balance">Balance:</string>
-    <string name="label_export_destination">Export Destination</string>
+    <string name="label_export_destination">Export To:</string>
     <string name="title_export_dialog">Export Transactions</string>
     <string name="option_export_all_transactions">Export all transactions</string>
     <string name="hint_export_choice">By default, only new transactions since last export will be exported. Check this option to export all transactions</string>
@@ -497,7 +497,7 @@
     </plurals>
     <string name="title_enable_crashlytics">Enable Crash Logging</string>
     <string name="msg_enable_crashlytics">Automatically send information about app malfunction to the developers.</string>
-    <string name="label_export_format">Export Format</string>
+    <string name="label_export_format"> Format</string>
     <string name="toast_backup_folder_not_found">Backup folder cannot be found. Make sure the SD Card is mounted!</string>
     <string name="label_old_passcode">Enter your old passcode</string>
     <string name="label_new_passcode">Enter your new passcode</string>
@@ -522,7 +522,7 @@
     <string name="wizard_option_create_default_accounts">Create default accounts</string>
     <string name="wizard_option_import_my_accounts">Import my accounts</string>
     <string name="wizard_option_let_me_handle_it">Let me handle it</string>
-    <string name="wizard_option_currency_other">Other...</string>
+    <string name="wizard_option_currency_other">Other</string>
     <string name="wizard_option_auto_send_crash_reports">Automatically send crash reports</string>
     <string name="wizard_option_disable_crash_reports">Disable crash reports</string>
     <string name="wizard_btn_back">Back</string>
